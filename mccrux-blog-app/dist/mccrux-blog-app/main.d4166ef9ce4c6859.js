"use strict";(self.webpackChunkmccrux_blog_app=self.webpackChunkmccrux_blog_app||[]).push([[179],{2011:(mt,Se,F)=>{F.d(Se,{Dh:()=>_e,GT:()=>ce,cc:()=>Ae,hO:()=>He,on:()=>H,pX:()=>re,xv:()=>de});var h=F(4650),J=F(9260),O=F(4976);mt=F.hmd(mt);const ie=["ngOnDestroy"],re=(pe,pt,wt,Ne={})=>new Proxy(pe,{get:(we,he)=>wt.runOutsideAngular(()=>{var ze;if(pe[he])return!(null===(ze=Ne?.spy)||void 0===ze)&&ze.get&&Ne.spy.get(he,pe[he]),pe[he];if(ie.indexOf(he)>-1)return()=>{};const je=pt.toPromise().then(et=>{const ee=et&&et[he];return"function"==typeof ee?ee.bind(et):ee&&ee.then?ee.then(Tt=>wt.run(()=>Tt)):wt.run(()=>ee)});return new Proxy(()=>{},{get:(et,ee)=>je[ee],apply:(et,ee,Tt)=>je.then(ct=>{var Ht;const st=ct&&ct(...Tt);return!(null===(Ht=Ne?.spy)||void 0===Ht)&&Ht.apply&&Ne.spy.apply(he,Tt,st),st})})})}),ce=(pe,pt)=>{pt.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(Ne=>{Object.defineProperty(pe.prototype,Ne,Object.getOwnPropertyDescriptor(wt.prototype||wt,Ne))})})};class ae{constructor(pt){return pt}}const _e=new h.OlP("angularfire2.app.options"),de=new h.OlP("angularfire2.app.name");function H(pe,pt,wt){const we="object"==typeof wt&&wt||{};we.name=we.name||"string"==typeof wt&&wt||"[DEFAULT]";const ze=J.Z.apps.filter(je=>je&&je.name===we.name)[0]||pt.runOutsideAngular(()=>J.Z.initializeApp(pe,we));try{JSON.stringify(pe)!==JSON.stringify(ze.options)&&j("error",`${ze.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(ze)}const j=(pe,...pt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[pe](...pt)},q={provide:ae,useFactory:H,deps:[_e,h.R0b,[new h.FiY,de]]};let He=(()=>{class pe{constructor(wt){J.Z.registerVersion("angularfire",O.q4.full,"core"),J.Z.registerVersion("angularfire",O.q4.full,"app-compat"),J.Z.registerVersion("angular",h.q4F.full,wt.toString())}static initializeApp(wt,Ne){return{ngModule:pe,providers:[{provide:_e,useValue:wt},{provide:de,useValue:Ne}]}}}return pe.\u0275fac=function(wt){return new(wt||pe)(h.LFG(h.Lbi))},pe.\u0275mod=h.oAB({type:pe}),pe.\u0275inj=h.cJS({providers:[q]}),pe})();function Ae(pe,pt,wt,Ne,we){const[,he,ze]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===pe)||[];if(he)return function Ee(pe,pt){try{return pe.toString()===pt.toString()}catch{return pe===pt}}(we,ze)||(ge("error",`${pt} was already initialized on the ${wt} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:we,was:ze})),he;{const je=Ne();return globalThis.\u0275AngularfireInstanceCache.push([pe,je,we]),je}}const rt=!!mt.hot,ge=(pe,...pt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[pe](...pt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(mt,Se,F)=>{F.d(Se,{q4:()=>co,iC:()=>Zd,HU:()=>Wd,vb:()=>Zu,JM:()=>Lf});var h=F(4650),J=F(259),O=F(5861),ie=F(6881),re=F(2090),ce=F(4859),ae=F(1877);let de,H;const He=new WeakMap,Ae=new WeakMap,Ee=new WeakMap,rt=new WeakMap,ge=new WeakMap;let wt={get(E,D,S){if(E instanceof IDBTransaction){if("done"===D)return Ae.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Ee.get(E);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return ze(E[D])},set:(E,D,S)=>(E[D]=S,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function he(E){return"function"==typeof E?function we(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q(){return H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(je(this),D),ze(He.get(this))}:function(...D){return ze(E.apply(je(this),D))}:function(D,...S){const P=E.call(je(this),D,...S);return Ee.set(P,D.sort?D.sort():[D]),ze(P)}}(E):(E instanceof IDBTransaction&&function pt(E){if(Ae.has(E))return;const D=new Promise((S,P)=>{const G=()=>{E.removeEventListener("complete",W),E.removeEventListener("error",ue),E.removeEventListener("abort",ue)},W=()=>{S(),G()},ue=()=>{P(E.error||new DOMException("AbortError","AbortError")),G()};E.addEventListener("complete",W),E.addEventListener("error",ue),E.addEventListener("abort",ue)});Ae.set(E,D)}(E),((E,D)=>D.some(S=>E instanceof S))(E,function j(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,wt):E)}function ze(E){if(E instanceof IDBRequest)return function pe(E){const D=new Promise((S,P)=>{const G=()=>{E.removeEventListener("success",W),E.removeEventListener("error",ue)},W=()=>{S(ze(E.result)),G()},ue=()=>{P(E.error),G()};E.addEventListener("success",W),E.addEventListener("error",ue)});return D.then(S=>{S instanceof IDBCursor&&He.set(S,E)}).catch(()=>{}),ge.set(D,E),D}(E);if(rt.has(E))return rt.get(E);const D=he(E);return D!==E&&(rt.set(E,D),ge.set(D,E)),D}const je=E=>ge.get(E),Tt=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],Ht=new Map;function st(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(Ht.get(D))return Ht.get(D);const S=D.replace(/FromIndex$/,""),P=D!==S,G=ct.includes(S);if(!(S in(P?IDBIndex:IDBObjectStore).prototype)||!G&&!Tt.includes(S))return;const W=function(){var ue=(0,O.Z)(function*(We,...Ge){const dt=this.transaction(We,G?"readwrite":"readonly");let ft=dt.store;return P&&(ft=ft.index(Ge.shift())),(yield Promise.all([ft[S](...Ge),G&&dt.done]))[0]});return function(Ge){return ue.apply(this,arguments)}}();return Ht.set(D,W),W}!function Ne(E){wt=E(wt)}(E=>({...E,get:(D,S,P)=>st(D,S)||E.get(D,S,P),has:(D,S)=>!!st(D,S)||E.has(D,S)}));const le="@firebase/installations",xe="w:0.6.4",Fe="FIS_v2",jt=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gt(E){return E instanceof re.ZR&&E.code.includes("request-failed")}function qt({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function An(E){return{token:E.token,requestStatus:2,expiresIn:la(E.expiresIn),creationTime:Date.now()}}function Fn(E,D){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,O.Z)(function*(E,D){const P=(yield D.json()).error;return jt.create("request-failed",{requestName:E,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function Qr({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function pr(E,{refreshToken:D}){const S=Qr(E);return S.append("Authorization",function Do(E){return`${Fe} ${E}`}(D)),S}function zi(E){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,O.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function la(E){return Number(E.replace("s","000"))}function lt(E,D){return Br.apply(this,arguments)}function Br(){return(Br=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:S}){const P=qt(E),G=Qr(E),W=D.getImmediate({optional:!0});if(W){const dt=yield W.getHeartbeatsHeader();dt&&G.append("x-firebase-client",dt)}const We={method:"POST",headers:G,body:JSON.stringify({fid:S,authVersion:Fe,appId:E.appId,sdkVersion:xe})},Ge=yield zi(()=>fetch(P,We));if(Ge.ok){const dt=yield Ge.json();return{fid:dt.fid||S,registrationStatus:2,refreshToken:dt.refreshToken,authToken:An(dt.authToken)}}throw yield Fn("Create Installation",Ge)})).apply(this,arguments)}function Si(E){return new Promise(D=>{setTimeout(D,E)})}const bo=/^[cdef][\w-]{21}$/;function nr(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const S=function Cn(E){return function jr(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return bo.test(S)?S:""}catch{return""}}function Jt(E){return`${E.appName}!${E.appId}`}const tt=new Map;function yt(E,D){const S=Jt(E);Jr(S,D),function Kn(E,D){const S=function gr(){return!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=E=>{Jr(E.data.key,E.data.fid)}),It}();S&&S.postMessage({key:E,fid:D}),function hn(){0===tt.size&&It&&(It.close(),It=null)}()}(S,D)}function Jr(E,D){const S=tt.get(E);if(S)for(const P of S)P(D)}let It=null;const rr="firebase-installations-store";let mr=null;function xi(){return mr||(mr=function et(E,D,{blocked:S,upgrade:P,blocking:G,terminated:W}={}){const ue=indexedDB.open(E,D),We=ze(ue);return P&&ue.addEventListener("upgradeneeded",Ge=>{P(ze(ue.result),Ge.oldVersion,Ge.newVersion,ze(ue.transaction))}),S&&ue.addEventListener("blocked",()=>S()),We.then(Ge=>{W&&Ge.addEventListener("close",()=>W()),G&&Ge.addEventListener("versionchange",()=>G())}).catch(()=>{}),We}("firebase-installations-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(rr)}})),mr}function Rn(E,D){return yr.apply(this,arguments)}function yr(){return(yr=(0,O.Z)(function*(E,D){const S=Jt(E),G=(yield xi()).transaction(rr,"readwrite"),W=G.objectStore(rr),ue=yield W.get(S);return yield W.put(D,S),yield G.done,(!ue||ue.fid!==D.fid)&&yt(E,D.fid),D})).apply(this,arguments)}function Wi(E){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,O.Z)(function*(E){const D=Jt(E),P=(yield xi()).transaction(rr,"readwrite");yield P.objectStore(rr).delete(D),yield P.done})).apply(this,arguments)}function Xr(E,D){return $r.apply(this,arguments)}function $r(){return($r=(0,O.Z)(function*(E,D){const S=Jt(E),G=(yield xi()).transaction(rr,"readwrite"),W=G.objectStore(rr),ue=yield W.get(S),We=D(ue);return void 0===We?yield W.delete(S):yield W.put(We,S),yield G.done,We&&(!ue||ue.fid!==We.fid)&&yt(E,We.fid),We})).apply(this,arguments)}function V(E){return L.apply(this,arguments)}function L(){return(L=(0,O.Z)(function*(E){let D;const S=yield Xr(E.appConfig,P=>{const G=z(P),W=se(E,G);return D=W.registrationPromise,W.installationEntry});return""===S.fid?{installationEntry:yield D}:{installationEntry:S,registrationPromise:D}})).apply(this,arguments)}function z(E){return Le(E||{fid:nr(),registrationStatus:0})}function se(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(jt.create("app-offline"))};const S={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},P=function Y(E,D){return qe.apply(this,arguments)}(E,S);return{installationEntry:S,registrationPromise:P}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Dt(E)}:{installationEntry:D}}function qe(){return(qe=(0,O.Z)(function*(E,D){try{const S=yield lt(E,D);return Rn(E.appConfig,S)}catch(S){throw Gt(S)&&409===S.customData.serverCode?yield Wi(E.appConfig):yield Rn(E.appConfig,{fid:D.fid,registrationStatus:0}),S}})).apply(this,arguments)}function Dt(E){return kt.apply(this,arguments)}function kt(){return(kt=(0,O.Z)(function*(E){let D=yield an(E.appConfig);for(;1===D.registrationStatus;)yield Si(100),D=yield an(E.appConfig);if(0===D.registrationStatus){const{installationEntry:S,registrationPromise:P}=yield V(E);return P||S}return D})).apply(this,arguments)}function an(E){return Xr(E,D=>{if(!D)throw jt.create("installation-not-found");return Le(D)})}function Le(E){return function ot(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function gt(E,D){return yn.apply(this,arguments)}function yn(){return(yn=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:D},S){const P=vr(E,S),G=pr(E,S),W=D.getImmediate({optional:!0});if(W){const dt=yield W.getHeartbeatsHeader();dt&&G.append("x-firebase-client",dt)}const We={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:xe,appId:E.appId}})},Ge=yield zi(()=>fetch(P,We));if(Ge.ok)return An(yield Ge.json());throw yield Fn("Generate Auth Token",Ge)})).apply(this,arguments)}function vr(E,{fid:D}){return`${qt(E)}/${D}/authTokens:generate`}function vn(E){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,O.Z)(function*(E,D=!1){let S;const P=yield Xr(E.appConfig,W=>{if(!Ft(W))throw jt.create("not-registered");const ue=W.authToken;if(!D&&en(ue))return W;if(1===ue.requestStatus)return S=ne(E,D),W;{if(!navigator.onLine)throw jt.create("app-offline");const We=zt(W);return S=Pe(E,We),We}});return S?yield S:P.authToken})).apply(this,arguments)}function ne(E,D){return X.apply(this,arguments)}function X(){return(X=(0,O.Z)(function*(E,D){let S=yield Re(E.appConfig);for(;1===S.authToken.requestStatus;)yield Si(100),S=yield Re(E.appConfig);const P=S.authToken;return 0===P.requestStatus?vn(E,D):P})).apply(this,arguments)}function Re(E){return Xr(E,D=>{if(!Ft(D))throw jt.create("not-registered");return function _r(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Pe(E,D){return Et.apply(this,arguments)}function Et(){return(Et=(0,O.Z)(function*(E,D){try{const S=yield gt(E,D),P=Object.assign(Object.assign({},D),{authToken:S});return yield Rn(E.appConfig,P),S}catch(S){if(!Gt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const P=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Rn(E.appConfig,P)}else yield Wi(E.appConfig);throw S}})).apply(this,arguments)}function Ft(E){return void 0!==E&&2===E.registrationStatus}function en(E){return 2===E.requestStatus&&!function Sn(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+36e5}(E)}function zt(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}function ei(){return(ei=(0,O.Z)(function*(E){const D=E,{installationEntry:S,registrationPromise:P}=yield V(D);return P?P.catch(console.error):vn(D).catch(console.error),S.fid})).apply(this,arguments)}function lu(){return(lu=(0,O.Z)(function*(E,D=!1){const S=E;return yield fn(S),(yield vn(S,D)).token})).apply(this,arguments)}function fn(E){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,O.Z)(function*(E){const{registrationPromise:D}=yield V(E);D&&(yield D)})).apply(this,arguments)}function sr(E){return jt.create("missing-app-config-values",{valueName:E})}const Hr="installations",hu=E=>{const D=E.getProvider("app").getImmediate(),S=function fd(E){if(!E||!E.options)throw sr("App Configuration");if(!E.name)throw sr("App Name");const D=["projectId","apiKey","appId"];for(const S of D)if(!E.options[S])throw sr(S);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:S,heartbeatServiceProvider:(0,ie._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ds=E=>{const D=E.getProvider("app").getImmediate(),S=(0,ie._getProvider)(D,Hr).getImmediate();return{getId:()=>function pi(E){return ei.apply(this,arguments)}(S),getToken:G=>function da(E){return lu.apply(this,arguments)}(S,G)}};(function Ri(){(0,ie._registerComponent)(new ce.wA(Hr,hu,"PUBLIC")),(0,ie._registerComponent)(new ce.wA("installations-internal",ds,"PRIVATE"))})(),(0,ie.registerVersion)(le,"0.6.4"),(0,ie.registerVersion)(le,"0.6.4","esm2017");const xo="@firebase/remote-config",_n=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gi{constructor(D,S,P,G){this.client=D,this.storage=S,this.storageCache=P,this.logger=G}isCachedDataFresh(D,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-S,G=P<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${G}.`),G}fetch(D){var S=this;return(0,O.Z)(function*(){const[P,G]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(G&&S.isCachedDataFresh(D.cacheMaxAgeMillis,P))return G;D.eTag=G&&G.eTag;const W=yield S.client.fetch(D),ue=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&ue.push(S.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(ue),W})()}}function Id(E=navigator){return E.languages&&E.languages[0]||E.language}class ha{constructor(D,S,P,G,W,ue){this.firebaseInstallations=D,this.sdkVersion=S,this.namespace=P,this.projectId=G,this.apiKey=W,this.appId=ue}fetch(D){var S=this;return(0,O.Z)(function*(){const[P,G]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),ue=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ge={sdk_version:S.sdkVersion,app_instance_id:P,app_instance_id_token:G,app_id:S.appId,language_code:Id()},dt={method:"POST",headers:We,body:JSON.stringify(Ge)},ft=fetch(ue,dt),Nt=new Promise((Pr,Ei)=>{D.signal.addEventListener(()=>{const Vs=new Error("The operation was aborted.");Vs.name="AbortError",Ei(Vs)})});let Wr;try{yield Promise.race([ft,Nt]),Wr=yield ft}catch(Pr){let Ei="fetch-client-network";throw"AbortError"===Pr?.name&&(Ei="fetch-timeout"),_n.create(Ei,{originalErrorMessage:Pr?.message})}let jn=Wr.status;const $n=Wr.headers.get("ETag")||void 0;let ho,es;if(200===Wr.status){let Pr;try{Pr=yield Wr.json()}catch(Ei){throw _n.create("fetch-client-parse",{originalErrorMessage:Ei?.message})}ho=Pr.entries,es=Pr.state}if("INSTANCE_STATE_UNSPECIFIED"===es?jn=500:"NO_CHANGE"===es?jn=304:("NO_TEMPLATE"===es||"EMPTY_CONFIG"===es)&&(ho={}),304!==jn&&200!==jn)throw _n.create("fetch-status",{httpStatus:jn});return{status:jn,eTag:$n,config:ho}})()}}class gf{constructor(D,S){this.client=D,this.storage=S}fetch(D){var S=this;return(0,O.Z)(function*(){const P=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(D,P)})()}attemptFetch(D,{throttleEndTimeMillis:S,backoffCount:P}){var G=this;return(0,O.Z)(function*(){yield function Vc(E,D){return new Promise((S,P)=>{const G=Math.max(D-Date.now(),0),W=setTimeout(S,G);E.addEventListener(()=>{clearTimeout(W),P(_n.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,S);try{const W=yield G.client.fetch(D);return yield G.storage.deleteThrottleMetadata(),W}catch(W){if(!function mu(E){if(!(E instanceof re.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(W))throw W;const ue={throttleEndTimeMillis:Date.now()+(0,re.$s)(P),backoffCount:P+1};return yield G.storage.setThrottleMetadata(ue),G.attemptFetch(D,ue)}})()}}class mf{constructor(D,S,P,G,W){this.app=D,this._client=S,this._storageCache=P,this._storage=G,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cr(E,D){const S=E.target.error||void 0;return _n.create(D,{originalErrorMessage:S&&S?.message})}const Sr="app_namespace_store";class oE{constructor(D,S,P,G=function _u(){return new Promise((E,D)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=P=>{D(cr(P,"storage-open"))},S.onsuccess=P=>{E(P.target.result)},S.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(Sr,{keyPath:"compositeKey"})}}catch(S){D(_n.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=D,this.appName=S,this.namespace=P,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var S=this;return(0,O.Z)(function*(){const P=yield S.openDbPromise;return new Promise((G,W)=>{const We=P.transaction([Sr],"readonly").objectStore(Sr),Ge=S.createCompositeKey(D);try{const dt=We.get(Ge);dt.onerror=ft=>{W(cr(ft,"storage-get"))},dt.onsuccess=ft=>{const Nt=ft.target.result;G(Nt?Nt.value:void 0)}}catch(dt){W(_n.create("storage-get",{originalErrorMessage:dt?.message}))}})})()}set(D,S){var P=this;return(0,O.Z)(function*(){const G=yield P.openDbPromise;return new Promise((W,ue)=>{const Ge=G.transaction([Sr],"readwrite").objectStore(Sr),dt=P.createCompositeKey(D);try{const ft=Ge.put({compositeKey:dt,value:S});ft.onerror=Nt=>{ue(cr(Nt,"storage-set"))},ft.onsuccess=()=>{W()}}catch(ft){ue(_n.create("storage-set",{originalErrorMessage:ft?.message}))}})})()}delete(D){var S=this;return(0,O.Z)(function*(){const P=yield S.openDbPromise;return new Promise((G,W)=>{const We=P.transaction([Sr],"readwrite").objectStore(Sr),Ge=S.createCompositeKey(D);try{const dt=We.delete(Ge);dt.onerror=ft=>{W(cr(ft,"storage-delete"))},dt.onsuccess=()=>{G()}}catch(dt){W(_n.create("storage-delete",{originalErrorMessage:dt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Vn{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const S=D.storage.getLastFetchStatus(),P=D.storage.getLastSuccessfulFetchTimestampMillis(),G=D.storage.getActiveConfig(),W=yield S;W&&(D.lastFetchStatus=W);const ue=yield P;ue&&(D.lastSuccessfulFetchTimestampMillis=ue);const We=yield G;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Gr(){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,O.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}let Mo,Un;!function fs(){(0,ie._registerComponent)(new ce.wA("remote-config",function E(D,{instanceIdentifier:S}){const P=D.getProvider("app").getImmediate(),G=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _n.create("registration-window");if(!(0,re.hl)())throw _n.create("indexed-db-unavailable");const{projectId:W,apiKey:ue,appId:We}=P.options;if(!W)throw _n.create("registration-project-id");if(!ue)throw _n.create("registration-api-key");if(!We)throw _n.create("registration-app-id");const Ge=new oE(We,P.name,S=S||"firebase"),dt=new Vn(Ge),ft=new ae.Yd(xo);ft.logLevel=ae.in.ERROR;const Nt=new ha(G,ie.SDK_VERSION,S,W,ue,We),Wr=new gf(Nt,Ge),jn=new gi(Wr,Ge,dt,ft),$n=new mf(P,jn,dt,Ge,ft);return function Yg(E){const D=(0,re.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}($n),$n},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(xo,"0.4.4"),(0,ie.registerVersion)(xo,"0.4.4","esm2017")}();const jc=new WeakMap,ti=new WeakMap,Fs=new WeakMap,wr=new WeakMap,bt=new WeakMap;let fa={get(E,D,S){if(E instanceof IDBTransaction){if("done"===D)return ti.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Fs.get(E);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Pi(E[D])},set:(E,D,S)=>(E[D]=S,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function Ad(E){return"function"==typeof E?function Td(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zs(){return Un||(Un=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(Iu(this),D),Pi(jc.get(this))}:function(...D){return Pi(E.apply(Iu(this),D))}:function(D,...S){const P=E.call(Iu(this),D,...S);return Fs.set(P,D.sort?D.sort():[D]),Pi(P)}}(E):(E instanceof IDBTransaction&&function Dd(E){if(ti.has(E))return;const D=new Promise((S,P)=>{const G=()=>{E.removeEventListener("complete",W),E.removeEventListener("error",ue),E.removeEventListener("abort",ue)},W=()=>{S(),G()},ue=()=>{P(E.error||new DOMException("AbortError","AbortError")),G()};E.addEventListener("complete",W),E.addEventListener("error",ue),E.addEventListener("abort",ue)});ti.set(E,D)}(E),((E,D)=>D.some(S=>E instanceof S))(E,function Jg(){return Mo||(Mo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,fa):E)}function Pi(E){if(E instanceof IDBRequest)return function Cd(E){const D=new Promise((S,P)=>{const G=()=>{E.removeEventListener("success",W),E.removeEventListener("error",ue)},W=()=>{S(Pi(E.result)),G()},ue=()=>{P(E.error),G()};E.addEventListener("success",W),E.addEventListener("error",ue)});return D.then(S=>{S instanceof IDBCursor&&jc.set(S,E)}).catch(()=>{}),bt.set(D,E),D}(E);if(wr.has(E))return wr.get(E);const D=Ad(E);return D!==E&&(wr.set(E,D),bt.set(D,E)),D}const Iu=E=>bt.get(E);function Ce(E,D,{blocked:S,upgrade:P,blocking:G,terminated:W}={}){const ue=indexedDB.open(E,D),We=Pi(ue);return P&&ue.addEventListener("upgradeneeded",Ge=>{P(Pi(ue.result),Ge.oldVersion,Ge.newVersion,Pi(ue.transaction))}),S&&ue.addEventListener("blocked",()=>S()),We.then(Ge=>{W&&Ge.addEventListener("close",()=>W()),G&&Ge.addEventListener("versionchange",()=>G())}).catch(()=>{}),We}function $t(E,{blocked:D}={}){const S=indexedDB.deleteDatabase(E);return D&&S.addEventListener("blocked",()=>D()),Pi(S).then(()=>{})}const Cu=["get","getKey","getAll","getAllKeys","count"],$c=["put","add","delete","clear"],Nn=new Map;function Du(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(Nn.get(D))return Nn.get(D);const S=D.replace(/FromIndex$/,""),P=D!==S,G=$c.includes(S);if(!(S in(P?IDBIndex:IDBObjectStore).prototype)||!G&&!Cu.includes(S))return;const W=function(){var ue=(0,O.Z)(function*(We,...Ge){const dt=this.transaction(We,G?"readwrite":"readonly");let ft=dt.store;return P&&(ft=ft.index(Ge.shift())),(yield Promise.all([ft[S](...Ge),G&&dt.done]))[0]});return function(Ge){return ue.apply(this,arguments)}}();return Nn.set(D,W),W}!function bd(E){fa=E(fa)}(E=>({...E,get:(D,S,P)=>Du(D,S)||E.get(D,S,P),has:(D,S)=>!!Du(D,S)||E.has(D,S)}));const Ks="/firebase-messaging-sw.js",ni="/firebase-cloud-messaging-push-scope",Ro="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gc="google.c.a.c_id",Pn="google.c.a.c_l",yf="google.c.a.ts",vf="google.c.a.e";var ri=(()=>{return(E=ri||(ri={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",ri;var E})();function Oi(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ps(E){const S=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(S),G=new Uint8Array(P.length);for(let W=0;W<P.length;++W)G[W]=P.charCodeAt(W);return G}const ii="fcm_token_details_db",Ys="fcm_token_object_Store";function Xg(E){return No.apply(this,arguments)}function No(){return No=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(ii))return null;let D=null;return(yield Ce(ii,5,{upgrade:(P=(0,O.Z)(function*(G,W,ue,We){var Ge;if(W<2||!G.objectStoreNames.contains(Ys))return;const dt=We.objectStore(Ys),ft=yield dt.index("fcmSenderId").get(E);if(yield dt.clear(),ft)if(2===W){const Nt=ft;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;D={token:Nt.fcmToken,createTime:null!==(Ge=Nt.createTime)&&void 0!==Ge?Ge:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:Oi(Nt.vapidKey)}}}else if(3===W){const Nt=ft;D={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:Oi(Nt.auth),p256dh:Oi(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:Oi(Nt.vapidKey)}}}else if(4===W){const Nt=ft;D={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:Oi(Nt.auth),p256dh:Oi(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:Oi(Nt.vapidKey)}}}}),function(W,ue,We,Ge){return P.apply(this,arguments)})})).close(),yield $t(ii),yield $t("fcm_vapid_details_db"),yield $t("undefined"),zc(D)?D:null;var P}),No.apply(this,arguments)}function zc(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Mr="firebase-messaging-store";let qc=null;function ga(){return qc||(qc=Ce("firebase-messaging-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Mr)}})),qc}function ma(E){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,O.Z)(function*(E){const D=Tu(E),P=yield(yield ga()).transaction(Mr).objectStore(Mr).get(D);if(P)return P;{const G=yield Xg(E.appConfig.senderId);if(G)return yield Wc(E,G),G}})).apply(this,arguments)}function Wc(E,D){return ya.apply(this,arguments)}function ya(){return(ya=(0,O.Z)(function*(E,D){const S=Tu(E),G=(yield ga()).transaction(Mr,"readwrite");return yield G.objectStore(Mr).put(D,S),yield G.done,D})).apply(this,arguments)}function xd(E){return Po.apply(this,arguments)}function Po(){return(Po=(0,O.Z)(function*(E){const D=Tu(E),P=(yield ga()).transaction(Mr,"readwrite");yield P.objectStore(Mr).delete(D),yield P.done})).apply(this,arguments)}function Tu({appConfig:E}){return E.appId}const nn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gs(E,D){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,O.Z)(function*(E,D){const S=yield Kc(E),P=va(D),G={method:"POST",headers:S,body:JSON.stringify(P)};let W;try{W=yield(yield fetch(Au(E.appConfig),G)).json()}catch(ue){throw nn.create("token-subscribe-failed",{errorInfo:ue?.toString()})}if(W.error)throw nn.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw nn.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function Md(E,D){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,O.Z)(function*(E,D){const S=yield Kc(E),P=va(D.subscriptionOptions),G={method:"PATCH",headers:S,body:JSON.stringify(P)};let W;try{W=yield(yield fetch(`${Au(E.appConfig)}/${D.token}`,G)).json()}catch(ue){throw nn.create("token-update-failed",{errorInfo:ue?.toString()})}if(W.error)throw nn.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw nn.create("token-update-no-token");return W.token})).apply(this,arguments)}function Zc(E,D){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,O.Z)(function*(E,D){const P={method:"DELETE",headers:yield Kc(E)};try{const W=yield(yield fetch(`${Au(E.appConfig)}/${D}`,P)).json();if(W.error)throw nn.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch(G){throw nn.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function Au({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Kc(E){return Js.apply(this,arguments)}function Js(){return(Js=(0,O.Z)(function*({appConfig:E,installations:D}){const S=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function va({p256dh:E,auth:D,endpoint:S,vapidKey:P}){const G={web:{endpoint:S,auth:D,p256dh:E}};return P!==Ro&&(G.web.applicationPubKey=P),G}const Oo=6048e5;function Pd(E){return _a.apply(this,arguments)}function _a(){return(_a=(0,O.Z)(function*(E){const D=yield Yc(E.swRegistration,E.vapidKey),S={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:Oi(D.getKey("auth")),p256dh:Oi(D.getKey("p256dh"))},P=yield ma(E.firebaseDependencies);if(P){if(Ef(P.subscriptionOptions,S))return Date.now()>=P.createTime+Oo?wa(E,{token:P.token,createTime:Date.now(),subscriptionOptions:S}):P.token;try{yield Zc(E.firebaseDependencies,P.token)}catch(G){console.warn(G)}return wf(E.firebaseDependencies,S)}return wf(E.firebaseDependencies,S)})).apply(this,arguments)}function _f(E){return ms.apply(this,arguments)}function ms(){return(ms=(0,O.Z)(function*(E){const D=yield ma(E.firebaseDependencies);D&&(yield Zc(E.firebaseDependencies,D.token),yield xd(E.firebaseDependencies));const S=yield E.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function wa(E,D){return Su.apply(this,arguments)}function Su(){return(Su=(0,O.Z)(function*(E,D){try{const S=yield Md(E.firebaseDependencies,D),P=Object.assign(Object.assign({},D),{token:S,createTime:Date.now()});return yield Wc(E.firebaseDependencies,P),S}catch(S){throw yield _f(E),S}})).apply(this,arguments)}function wf(E,D){return ki.apply(this,arguments)}function ki(){return(ki=(0,O.Z)(function*(E,D){const P={token:yield gs(E,D),createTime:Date.now(),subscriptionOptions:D};return yield Wc(E,P),P.token})).apply(this,arguments)}function Yc(E,D){return Od.apply(this,arguments)}function Od(){return(Od=(0,O.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ps(D)})})).apply(this,arguments)}function Ef(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}function Qc(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function xu(E,D){if(!D.notification)return;E.notification={};const S=D.notification.title;S&&(E.notification.title=S);const P=D.notification.body;P&&(E.notification.body=P);const G=D.notification.image;G&&(E.notification.image=G);const W=D.notification.icon;W&&(E.notification.icon=W)}(D,E),function Mu(E,D){!D.data||(E.data=D.data)}(D,E),function Ru(E,D){var S,P,G,W,ue;if(!(D.fcmOptions||null!==(S=D.notification)&&void 0!==S&&S.click_action))return;E.fcmOptions={};const We=null!==(G=null===(P=D.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==G?G:null===(W=D.notification)||void 0===W?void 0:W.click_action;We&&(E.fcmOptions.link=We);const Ge=null===(ue=D.fcmOptions)||void 0===ue?void 0:ue.analytics_label;Ge&&(E.fcmOptions.analyticsLabel=Ge)}(D,E),D}function If(E){return"object"==typeof E&&!!E&&Gc in E}function ko(E,D){const S=[];for(let P=0;P<E.length;P++)S.push(E.charAt(P)),P<D.length&&S.push(D.charAt(P));return S.join("")}function Jc(E){return nn.create("missing-app-config-values",{valueName:E})}ko("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ko("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ea{constructor(D,S,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function kd(E){if(!E||!E.options)throw Jc("App Configuration Object");if(!E.name)throw Jc("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:S}=E;for(const P of D)if(!S[P])throw Jc(P);return{appName:E.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:G,installations:S,analyticsProvider:P}}_delete(){return Promise.resolve()}}function Cf(E){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Ks,{scope:ni}),E.swRegistration.update().catch(()=>{})}catch(D){throw nn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Ia(E,D){return ys.apply(this,arguments)}function ys(){return(ys=(0,O.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield Cf(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw nn.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Xs(E,D){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,O.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=Ro)})).apply(this,arguments)}function Ca(){return(Ca=(0,O.Z)(function*(E,D){if(!navigator)throw nn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw nn.create("permission-blocked");return yield Xs(E,D?.vapidKey),yield Ia(E,D?.serviceWorkerRegistration),Pd(E)})).apply(this,arguments)}function yi(E,D,S){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,O.Z)(function*(E,D,S){const P=Fo(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:S[Gc],message_name:S[Pn],message_time:S[yf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fo(E){switch(E){case ri.NOTIFICATION_CLICKED:return"notification_open";case ri.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function eo(){return(eo=(0,O.Z)(function*(E,D){const S=D.data;if(!S.isFirebaseMessaging)return;E.onMessageHandler&&S.messageType===ri.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Qc(S)):E.onMessageHandler.next(Qc(S)));const P=S.data;If(P)&&"1"===P[vf]&&(yield yi(E,S.messageType,P))})).apply(this,arguments)}const to="@firebase/messaging",no=E=>{const D=new Ea(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function el(E,D){return eo.apply(this,arguments)}(D,S)),D},Pu=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:P=>function Nu(E,D){return Ca.apply(this,arguments)}(D,P)}};function ba(){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,O.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Df(){(0,ie._registerComponent)(new ce.wA("messaging",no,"PUBLIC")),(0,ie._registerComponent)(new ce.wA("messaging-internal",Pu,"PRIVATE")),(0,ie.registerVersion)(to,"0.12.4"),(0,ie.registerVersion)(to,"0.12.4","esm2017")}();const bn="analytics",tl="firebase_id",ku="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vs="https://www.googletagmanager.com/gtag/js",On=new ae.Yd("@firebase/analytics"),Er=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Vo(E){if(!E.startsWith(vs)){const D=Er.create("invalid-gtag-resource",{gtagURL:E});return On.warn(D.message),""}return E}function _s(E){return Promise.all(E.map(D=>D.catch(S=>S)))}function Sa(E,D){const S=function Fu(E,D){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(E,D)),S}("firebase-js-sdk-policy",{createScriptURL:Vo}),P=document.createElement("script"),G=`${vs}?l=${E}&id=${D}`;P.src=S?S?.createScriptURL(G):G,P.async=!0,document.head.appendChild(P)}function nl(E,D,S,P,G,W){return rl.apply(this,arguments)}function rl(){return(rl=(0,O.Z)(function*(E,D,S,P,G,W){const ue=P[G];try{if(ue)yield D[ue];else{const Ge=(yield _s(S)).find(dt=>dt.measurementId===G);Ge&&(yield D[Ge.appId])}}catch(We){On.error(We)}E("config",G,W)})).apply(this,arguments)}function Af(E,D,S,P,G){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,O.Z)(function*(E,D,S,P,G){try{let W=[];if(G&&G.send_to){let ue=G.send_to;Array.isArray(ue)||(ue=[ue]);const We=yield _s(S);for(const Ge of ue){const dt=We.find(Nt=>Nt.measurementId===Ge),ft=dt&&D[dt.appId];if(!ft){W=[];break}W.push(ft)}}0===W.length&&(W=Object.values(D)),yield Promise.all(W),E("event",P,G||{})}catch(W){On.error(W)}})).apply(this,arguments)}function Mf(E){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(vs)&&S.src.includes(E))return S;return null}const Yn=new class Lu{constructor(D={},S=1e3){this.throttleMetadata=D,this.intervalMillis=S}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,S){this.throttleMetadata[D]=S}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Vu(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function vi(E){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,O.Z)(function*(E){var D;const{appId:S,apiKey:P}=E,G={method:"GET",headers:Vu(P)},W=ku.replace("{app-id}",S),ue=yield fetch(W,G);if(200!==ue.status&&304!==ue.status){let We="";try{const Ge=yield ue.json();null!==(D=Ge.error)&&void 0!==D&&D.message&&(We=Ge.error.message)}catch{}throw Er.create("config-fetch-failed",{httpStatus:ue.status,responseMessage:We})}return ue.json()})).apply(this,arguments)}function Rf(E){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,O.Z)(function*(E,D=Yn,S){const{appId:P,apiKey:G,measurementId:W}=E.options;if(!P)throw Er.create("no-app-id");if(!G){if(W)return{measurementId:W,appId:P};throw Er.create("no-api-key")}const ue=D.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Vd;return setTimeout((0,O.Z)(function*(){We.abort()}),void 0!==S?S:6e4),Fi({appId:P,apiKey:G,measurementId:W},ue,We,D)})).apply(this,arguments)}function Fi(E,D,S){return il.apply(this,arguments)}function il(){return(il=(0,O.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:S},P,G=Yn){var W;const{appId:ue,measurementId:We}=E;try{yield sl(P,D)}catch(Ge){if(We)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${Ge?.message}]`),{appId:ue,measurementId:We};throw Ge}try{const Ge=yield vi(E);return G.deleteThrottleMetadata(ue),Ge}catch(Ge){const dt=Ge;if(!Uo(dt)){if(G.deleteThrottleMetadata(ue),We)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${dt?.message}]`),{appId:ue,measurementId:We};throw Ge}const ft=503===Number(null===(W=dt?.customData)||void 0===W?void 0:W.httpStatus)?(0,re.$s)(S,G.intervalMillis,30):(0,re.$s)(S,G.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+ft,backoffCount:S+1};return G.setThrottleMetadata(ue,Nt),On.debug(`Calling attemptFetch again in ${ft} millis`),Fi(E,Nt,P,G)}})).apply(this,arguments)}function sl(E,D){return new Promise((S,P)=>{const G=Math.max(D-Date.now(),0),W=setTimeout(S,G);E.addEventListener(()=>{clearTimeout(W),P(Er.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Uo(E){if(!(E instanceof re.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Vd{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Ud,Bd;function Nf(){return(Nf=(0,O.Z)(function*(E,D,S,P,G){if(G&&G.global)E("event",S,P);else{const W=yield D;E("event",S,Object.assign(Object.assign({},P),{send_to:W}))}})).apply(this,arguments)}function Hu(E){Bd=E}function Gu(E){Ud=E}function cn(){return zr.apply(this,arguments)}function zr(){return(zr=(0,O.Z)(function*(){if(!(0,re.hl)())return On.warn(Er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(E){return On.warn(Er.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Li(){return(Li=(0,O.Z)(function*(E,D,S,P,G,W,ue){var We;const Ge=Rf(E);Ge.then(jn=>{S[jn.measurementId]=jn.appId,E.options.measurementId&&jn.measurementId!==E.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jn=>On.error(jn)),D.push(Ge);const dt=cn().then(jn=>{if(jn)return P.getId()}),[ft,Nt]=yield Promise.all([Ge,dt]);Mf(W)||Sa(W,ft.measurementId),Bd&&(G("consent","default",Bd),Hu(void 0)),G("js",new Date);const Wr=null!==(We=ue?.config)&&void 0!==We?We:{};return Wr.origin="firebase",Wr.update=!0,null!=Nt&&(Wr[tl]=Nt),G("config",ft.measurementId,Wr),Ud&&(G("set",Ud),Gu(void 0)),ft.measurementId})).apply(this,arguments)}class ws{constructor(D){this.app=D}_delete(){return delete Rr[this.app.options.appId],Promise.resolve()}}let Rr={},al=[];const $d={};let kn,it,so="dataLayer",ul=!1;function Ra(E,D,S){!function cl(){const E=[];if((0,re.ru)()&&E.push("This is a browser extension environment."),(0,re.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((P,G)=>`(${G+1}) ${P}`).join(" "),S=Er.create("invalid-analytics-context",{errorInfo:D});On.warn(S.message)}}();const P=E.options.appId;if(!P)throw Er.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Er.create("no-api-key");On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rr[P])throw Er.create("already-exists",{id:P});if(!ul){!function pn(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(so);const{wrappedGtag:W,gtagCore:ue}=function xf(E,D,S,P,G){let W=function(...ue){window[P].push(arguments)};return window[G]&&"function"==typeof window[G]&&(W=window[G]),window[G]=function Sf(E,D,S,P){function W(){return(W=(0,O.Z)(function*(ue,...We){try{if("event"===ue){const[Ge,dt]=We;yield Af(E,D,S,Ge,dt)}else if("config"===ue){const[Ge,dt]=We;yield nl(E,D,S,P,Ge,dt)}else if("consent"===ue){const[Ge]=We;E("consent","update",Ge)}else if("get"===ue){const[Ge,dt,ft]=We;E("get",Ge,dt,ft)}else if("set"===ue){const[Ge]=We;E("set",Ge)}else E(ue,...We)}catch(Ge){On.error(Ge)}})).apply(this,arguments)}return function G(ue){return W.apply(this,arguments)}}(W,E,D,S),{gtagCore:W,wrappedGtag:window[G]}}(Rr,al,$d,so,"gtag");it=W,kn=ue,ul=!0}return Rr[P]=function jd(E,D,S,P,G,W,ue){return Li.apply(this,arguments)}(E,al,$d,D,kn,so,S),new ws(E)}function Es(){return _i.apply(this,arguments)}function _i(){return(_i=(0,O.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Qn="@firebase/analytics";!function kf(){(0,ie._registerComponent)(new ce.wA(bn,(D,{options:S})=>Ra(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,ie._registerComponent)(new ce.wA("analytics-internal",function E(D){try{const S=D.getProvider(bn).getImmediate();return{logEvent:(P,G,W)=>function qr(E,D,S,P){E=(0,re.m9)(E),function rm(E,D,S,P,G){return Nf.apply(this,arguments)}(it,Rr[E.app.options.appId],D,S,P).catch(G=>On.error(G))}(S,P,G,W)}}catch(S){throw Er.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,ie.registerVersion)(Qn,"0.10.0"),(0,ie.registerVersion)(Qn,"0.10.0","esm2017")}();var ao=F(4408),Gd=F(7565);const fl=new class hl extends Gd.v{}(class jo extends ao.o{constructor(D,S){super(D,S),this.scheduler=D,this.work=S}schedule(D,S=0){return S>0?super.schedule(D,S):(this.delay=S,this.state=D,this.scheduler.flush(this),this)}execute(D,S){return S>0||this.closed?super.execute(D,S):this._execute(D,S)}requestAsyncId(D,S,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(D,S,P):(D.flush(this),0)}});var pl=F(4986),zd=F(8505),qu=F(9468),uo=F(5363);const co=new h.GfV("7.5.0"),$o="__angularfire_symbol__analyticsIsSupportedValue",Ho="__angularfire_symbol__analyticsIsSupported",Oa="__angularfire_symbol__remoteConfigIsSupportedValue",gl="__angularfire_symbol__remoteConfigIsSupported",Go="__angularfire_symbol__messagingIsSupportedValue",Wu="__angularfire_symbol__messagingIsSupported";function Lf(E,D,S){if(D){if(1===D.length)return D[0];const W=D.filter(ue=>ue.app===S);if(1===W.length)return W[0]}return S.container.getProvider(E).getImmediate({optional:!0})}globalThis[Ho]||(globalThis[Ho]=Es().then(E=>globalThis[$o]=E).catch(()=>globalThis[$o]=!1)),globalThis[Wu]||(globalThis[Wu]=ba().then(E=>globalThis[Go]=E).catch(()=>globalThis[Go]=!1)),globalThis[gl]||(globalThis[gl]=Gr().then(E=>globalThis[Oa]=E).catch(()=>globalThis[Oa]=!1));const Zu=(E,D)=>{const S=D?[D]:(0,J.C6)(),P=[];return S.forEach(G=>{G.container.getProvider(E).instances.forEach(ue=>{P.includes(ue)||P.push(ue)})}),P};function Cs(){}class Ku{constructor(D,S=fl){this.zone=D,this.delegate=S}now(){return this.delegate.now()}schedule(D,S,P){const G=this.zone;return this.delegate.schedule(function(ue){G.runGuarded(()=>{D.apply(this,[ue])})},S,P)}}class Vf{constructor(D){this.zone=D,this.task=null}call(D,S){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cs,{},Cs,Cs)),S.pipe((0,zd.b)({next:P,complete:P,error:P})).subscribe(D).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wd=(()=>{class E{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Ku(Zone.current)),this.insideAngular=S.run(()=>new Ku(Zone.current,pl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(S){return new(S||E)(h.LFG(h.R0b))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function lo(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Zd(E){return lo(),function yl(E){return function(S){return(S=S.lift(new Vf(E.ngZone))).pipe((0,qu.R)(E.outsideAngular),(0,uo.Q)(E.insideAngular))}}(lo())(E)}},2090:(mt,Se,F)=>{F.d(Se,{$s:()=>Wi,BH:()=>he,G6:()=>xe,L:()=>de,LL:()=>Be,Pz:()=>we,Sg:()=>ze,UG:()=>ee,US:()=>ce,ZB:()=>q,ZR:()=>Ot,aH:()=>Ne,b$:()=>Ht,eu:()=>Ie,hl:()=>Fe,jU:()=>Tt,m9:()=>$r,ne:()=>Jt,pd:()=>nr,r3:()=>Ai,ru:()=>ct,tV:()=>H,uI:()=>et,vZ:()=>Br,w1:()=>le,xO:()=>bo,xb:()=>Do,z$:()=>je,zI:()=>xt,zd:()=>fi});const ie=function(V){const L=[];let z=0;for(let se=0;se<V.length;se++){let Y=V.charCodeAt(se);Y<128?L[z++]=Y:Y<2048?(L[z++]=Y>>6|192,L[z++]=63&Y|128):55296==(64512&Y)&&se+1<V.length&&56320==(64512&V.charCodeAt(se+1))?(Y=65536+((1023&Y)<<10)+(1023&V.charCodeAt(++se)),L[z++]=Y>>18|240,L[z++]=Y>>12&63|128,L[z++]=Y>>6&63|128,L[z++]=63&Y|128):(L[z++]=Y>>12|224,L[z++]=Y>>6&63|128,L[z++]=63&Y|128)}return L},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,L){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let Y=0;Y<V.length;Y+=3){const qe=V[Y],Dt=Y+1<V.length,kt=Dt?V[Y+1]:0,an=Y+2<V.length,Le=an?V[Y+2]:0;let yn=(15&kt)<<2|Le>>6,vr=63&Le;an||(vr=64,Dt||(yn=64)),se.push(z[qe>>2],z[(3&qe)<<4|kt>>4],z[yn],z[vr])}return se.join("")},encodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(V):this.encodeByteArray(ie(V),L)},decodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(V):function(V){const L=[];let z=0,se=0;for(;z<V.length;){const Y=V[z++];if(Y<128)L[se++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const qe=V[z++];L[se++]=String.fromCharCode((31&Y)<<6|63&qe)}else if(Y>239&&Y<365){const an=((7&Y)<<18|(63&V[z++])<<12|(63&V[z++])<<6|63&V[z++])-65536;L[se++]=String.fromCharCode(55296+(an>>10)),L[se++]=String.fromCharCode(56320+(1023&an))}else{const qe=V[z++],Dt=V[z++];L[se++]=String.fromCharCode((15&Y)<<12|(63&qe)<<6|63&Dt)}}return L.join("")}(this.decodeStringToByteArray(V,L))},decodeStringToByteArray(V,L){this.init_();const z=L?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let Y=0;Y<V.length;){const qe=z[V.charAt(Y++)],kt=Y<V.length?z[V.charAt(Y)]:0;++Y;const Le=Y<V.length?z[V.charAt(Y)]:64;++Y;const gt=Y<V.length?z[V.charAt(Y)]:64;if(++Y,null==qe||null==kt||null==Le||null==gt)throw new ae;se.push(qe<<2|kt>>4),64!==Le&&(se.push(kt<<4&240|Le>>2),64!==gt&&se.push(Le<<6&192|gt))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(V){return function(V){const L=ie(V);return ce.encodeByteArray(L,!0)}(V).replace(/\./g,"")},H=function(V){try{return ce.decodeString(V,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function q(V,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return L}for(const z in L)!L.hasOwnProperty(z)||!He(z)||(V[z]=q(V[z],L[z]));return V}function He(V){return"__proto__"!==V}const pe=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=V&&H(V[1]);return L&&JSON.parse(L)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Ne=()=>{var V;return null===(V=pe())||void 0===V?void 0:V.config},we=V=>{var L;return null===(L=pe())||void 0===L?void 0:L[`_${V}`]};class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,z)=>{this.resolve=L,this.reject=z})}wrapCallback(L){return(z,se)=>{z?this.reject(z):this.resolve(se),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(z):L(z,se))}}}function ze(V,L){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=L||"demo-project",Y=V.iat||0,qe=V.sub||V.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:Y,exp:Y+3600,auth_time:Y,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},V);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Dt)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function ee(){var V;const L=null===(V=pe())||void 0===V?void 0:V.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Tt(){return"object"==typeof self&&self.self===self}function ct(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function le(){const V=je();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function xe(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((V,L)=>{try{let z=!0;const se="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(se);Y.onsuccess=()=>{Y.result.close(),z||self.indexedDB.deleteDatabase(se),V(!0)},Y.onupgradeneeded=()=>{z=!1},Y.onerror=()=>{var qe;L((null===(qe=Y.error)||void 0===qe?void 0:qe.message)||"")}}catch(z){L(z)}})}function xt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ot extends Error{constructor(L,z,se){super(z),this.code=L,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(L,z,se){this.service=L,this.serviceName=z,this.errors=se}create(L,...z){const se=z[0]||{},Y=`${this.service}/${L}`,qe=this.errors[L],Dt=qe?function jt(V,L){return V.replace(Gt,(z,se)=>{const Y=L[se];return null!=Y?String(Y):`<${se}?>`})}(qe,se):"Error";return new Ot(Y,`${this.serviceName}: ${Dt} (${Y}).`,se)}}const Gt=/\{\$([^}]+)}/g;function Ai(V,L){return Object.prototype.hasOwnProperty.call(V,L)}function Do(V){for(const L in V)if(Object.prototype.hasOwnProperty.call(V,L))return!1;return!0}function Br(V,L){if(V===L)return!0;const z=Object.keys(V),se=Object.keys(L);for(const Y of z){if(!se.includes(Y))return!1;const qe=V[Y],Dt=L[Y];if(Si(qe)&&Si(Dt)){if(!Br(qe,Dt))return!1}else if(qe!==Dt)return!1}for(const Y of se)if(!z.includes(Y))return!1;return!0}function Si(V){return null!==V&&"object"==typeof V}function bo(V){const L=[];for(const[z,se]of Object.entries(V))Array.isArray(se)?se.forEach(Y=>{L.push(encodeURIComponent(z)+"="+encodeURIComponent(Y))}):L.push(encodeURIComponent(z)+"="+encodeURIComponent(se));return L.length?"&"+L.join("&"):""}function fi(V){const L={};return V.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[Y,qe]=se.split("=");L[decodeURIComponent(Y)]=decodeURIComponent(qe)}}),L}function nr(V){const L=V.indexOf("?");if(!L)return"";const z=V.indexOf("#",L);return V.substring(L,z>0?z:void 0)}function Jt(V,L){const z=new tt(V,L);return z.subscribe.bind(z)}class tt{constructor(L,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{L(this)}).catch(se=>{this.error(se)})}next(L){this.forEachObserver(z=>{z.next(L)})}error(L){this.forEachObserver(z=>{z.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,z,se){let Y;if(void 0===L&&void 0===z&&void 0===se)throw new Error("Missing Observer.");Y=function mn(V,L){if("object"!=typeof V||null===V)return!1;for(const z of L)if(z in V&&"function"==typeof V[z])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:z,complete:se},void 0===Y.next&&(Y.next=qi),void 0===Y.error&&(Y.error=qi),void 0===Y.complete&&(Y.complete=qi);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),qe}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,L)}sendOne(L,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{z(this.observers[L])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qi(){}function Wi(V,L=1e3,z=2){const se=L*Math.pow(z,V),Y=Math.round(.5*se*(Math.random()-.5)*2);return Math.min(144e5,se+Y)}function $r(V){return V&&V._delegate?V._delegate:V}},4894:(mt,Se,F)=>{var h=F(4650);let J=null;function O(){return J}const ae=new h.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function de(){return(0,h.LFG)(j)}()},providedIn:"platform"}),n})();const H=new h.OlP("Location Initialized");let j=(()=>{class n extends _e{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){q()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){q()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function He(){return new j((0,h.LFG)(ae))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ee(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(pt)},providedIn:"root"}),n})();const pe=new h.OlP("appBaseHref");let pt=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+rt(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+rt(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+rt(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_e),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wt=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+rt(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+rt(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_e),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ee(ze(r)),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rt(r))}normalize(t){return n.stripTrailingSlash(function he(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=rt,n.joinWithSlash=Ae,n.stripTrailingSlash=Ee,n.\u0275fac=function(t){return new(t||n)(h.LFG(ge))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function we(){return new Ne((0,h.LFG)(ge))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}var Tt=(()=>((Tt=Tt||{})[Tt.Format=0]="Format",Tt[Tt.Standalone=1]="Standalone",Tt))(),ct=(()=>((ct=ct||{})[ct.Narrow=0]="Narrow",ct[ct.Abbreviated=1]="Abbreviated",ct[ct.Wide=2]="Wide",ct[ct.Short=3]="Short",ct))(),Ht=(()=>((Ht=Ht||{})[Ht.Short=0]="Short",Ht[Ht.Medium=1]="Medium",Ht[Ht.Long=2]="Long",Ht[Ht.Full=3]="Full",Ht))(),st=(()=>((st=st||{})[st.Decimal=0]="Decimal",st[st.Group=1]="Group",st[st.List=2]="List",st[st.PercentSign=3]="PercentSign",st[st.PlusSign=4]="PlusSign",st[st.MinusSign=5]="MinusSign",st[st.Exponential=6]="Exponential",st[st.SuperscriptingExponent=7]="SuperscriptingExponent",st[st.PerMille=8]="PerMille",st[st.Infinity=9]="Infinity",st[st.NaN=10]="NaN",st[st.TimeSeparator=11]="TimeSeparator",st[st.CurrencyDecimal=12]="CurrencyDecimal",st[st.CurrencyGroup=13]="CurrencyGroup",st))();function Ot(n,e){return lt((0,h.cg1)(n)[h.wAp.DateFormat],e)}function Be(n,e){return lt((0,h.cg1)(n)[h.wAp.TimeFormat],e)}function jt(n,e){return lt((0,h.cg1)(n)[h.wAp.DateTimeFormat],e)}function Gt(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===st.CurrencyDecimal)return t[h.wAp.NumberSymbols][st.Decimal];if(e===st.CurrencyGroup)return t[h.wAp.NumberSymbols][st.Group]}return r}function zi(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Br(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const fi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nr={},Cn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Jt=(()=>((Jt=Jt||{})[Jt.Short=0]="Short",Jt[Jt.ShortGMT=1]="ShortGMT",Jt[Jt.Long=2]="Long",Jt[Jt.Extended=3]="Extended",Jt))(),tt=(()=>((tt=tt||{})[tt.FullYear=0]="FullYear",tt[tt.Month=1]="Month",tt[tt.Date=2]="Date",tt[tt.Hours=3]="Hours",tt[tt.Minutes=4]="Minutes",tt[tt.Seconds=5]="Seconds",tt[tt.FractionalSeconds=6]="FractionalSeconds",tt[tt.Day=7]="Day",tt))(),yt=(()=>((yt=yt||{})[yt.DayPeriods=0]="DayPeriods",yt[yt.Days=1]="Days",yt[yt.Months=2]="Months",yt[yt.Eras=3]="Eras",yt))();function mn(n,e,t,r){let s=function Y(n){if(Dt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,u=1,l=1]=n.split("-").map(m=>+m);return qi(s,u-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(fi))return function qe(n){const e=new Date(0);let t=0,r=0;const s=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),s.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,m=Number(n[5]||0)-r,w=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,l,m,w,b),e}(r)}const e=new Date(n);if(!Dt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Jr(t,e)||e;let m,l=[];for(;e;){if(m=Cn.exec(e),!m){l.push(e);break}{l=l.concat(m.slice(1));const x=l.pop();if(!x)break;e=x}}let w=s.getTimezoneOffset();r&&(w=L(r,w),s=function se(n,e,t){const r=t?-1:1,s=n.getTimezoneOffset();return function z(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(L(e,s)-s))}(s,r,!0));let b="";return l.forEach(x=>{const R=function V(n){if($r[n])return $r[n];let e;switch(n){case"G":case"GG":case"GGG":e=Xt(yt.Eras,ct.Abbreviated);break;case"GGGG":e=Xt(yt.Eras,ct.Wide);break;case"GGGGG":e=Xt(yt.Eras,ct.Narrow);break;case"y":e=hn(tt.FullYear,1,0,!1,!0);break;case"yy":e=hn(tt.FullYear,2,0,!0,!0);break;case"yyy":e=hn(tt.FullYear,3,0,!1,!0);break;case"yyyy":e=hn(tt.FullYear,4,0,!1,!0);break;case"Y":e=Xr(1);break;case"YY":e=Xr(2,!0);break;case"YYY":e=Xr(3);break;case"YYYY":e=Xr(4);break;case"M":case"L":e=hn(tt.Month,1,1);break;case"MM":case"LL":e=hn(tt.Month,2,1);break;case"MMM":e=Xt(yt.Months,ct.Abbreviated);break;case"MMMM":e=Xt(yt.Months,ct.Wide);break;case"MMMMM":e=Xt(yt.Months,ct.Narrow);break;case"LLL":e=Xt(yt.Months,ct.Abbreviated,Tt.Standalone);break;case"LLLL":e=Xt(yt.Months,ct.Wide,Tt.Standalone);break;case"LLLLL":e=Xt(yt.Months,ct.Narrow,Tt.Standalone);break;case"w":e=Ln(1);break;case"ww":e=Ln(2);break;case"W":e=Ln(1,!0);break;case"d":e=hn(tt.Date,1);break;case"dd":e=hn(tt.Date,2);break;case"c":case"cc":e=hn(tt.Day,1);break;case"ccc":e=Xt(yt.Days,ct.Abbreviated,Tt.Standalone);break;case"cccc":e=Xt(yt.Days,ct.Wide,Tt.Standalone);break;case"ccccc":e=Xt(yt.Days,ct.Narrow,Tt.Standalone);break;case"cccccc":e=Xt(yt.Days,ct.Short,Tt.Standalone);break;case"E":case"EE":case"EEE":e=Xt(yt.Days,ct.Abbreviated);break;case"EEEE":e=Xt(yt.Days,ct.Wide);break;case"EEEEE":e=Xt(yt.Days,ct.Narrow);break;case"EEEEEE":e=Xt(yt.Days,ct.Short);break;case"a":case"aa":case"aaa":e=Xt(yt.DayPeriods,ct.Abbreviated);break;case"aaaa":e=Xt(yt.DayPeriods,ct.Wide);break;case"aaaaa":e=Xt(yt.DayPeriods,ct.Narrow);break;case"b":case"bb":case"bbb":e=Xt(yt.DayPeriods,ct.Abbreviated,Tt.Standalone,!0);break;case"bbbb":e=Xt(yt.DayPeriods,ct.Wide,Tt.Standalone,!0);break;case"bbbbb":e=Xt(yt.DayPeriods,ct.Narrow,Tt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Xt(yt.DayPeriods,ct.Abbreviated,Tt.Format,!0);break;case"BBBB":e=Xt(yt.DayPeriods,ct.Wide,Tt.Format,!0);break;case"BBBBB":e=Xt(yt.DayPeriods,ct.Narrow,Tt.Format,!0);break;case"h":e=hn(tt.Hours,1,-12);break;case"hh":e=hn(tt.Hours,2,-12);break;case"H":e=hn(tt.Hours,1);break;case"HH":e=hn(tt.Hours,2);break;case"m":e=hn(tt.Minutes,1);break;case"mm":e=hn(tt.Minutes,2);break;case"s":e=hn(tt.Seconds,1);break;case"ss":e=hn(tt.Seconds,2);break;case"S":e=hn(tt.FractionalSeconds,1);break;case"SS":e=hn(tt.FractionalSeconds,2);break;case"SSS":e=hn(tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=mr(Jt.Short);break;case"ZZZZZ":e=mr(Jt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=mr(Jt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=mr(Jt.Long);break;default:return null}return $r[n]=e,e}(x);b+=R?R(s,t,w):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function qi(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Jr(n,e){const t=function fe(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if(nr[t]=nr[t]||{},nr[t][e])return nr[t][e];let r="";switch(e){case"shortDate":r=Ot(n,Ht.Short);break;case"mediumDate":r=Ot(n,Ht.Medium);break;case"longDate":r=Ot(n,Ht.Long);break;case"fullDate":r=Ot(n,Ht.Full);break;case"shortTime":r=Be(n,Ht.Short);break;case"mediumTime":r=Be(n,Ht.Medium);break;case"longTime":r=Be(n,Ht.Long);break;case"fullTime":r=Be(n,Ht.Full);break;case"short":const s=Jr(n,"shortTime"),u=Jr(n,"shortDate");r=Kn(jt(n,Ht.Short),[s,u]);break;case"medium":const l=Jr(n,"mediumTime"),m=Jr(n,"mediumDate");r=Kn(jt(n,Ht.Medium),[l,m]);break;case"long":const w=Jr(n,"longTime"),b=Jr(n,"longDate");r=Kn(jt(n,Ht.Long),[w,b]);break;case"full":const x=Jr(n,"fullTime"),R=Jr(n,"fullDate");r=Kn(jt(n,Ht.Full),[x,R])}return r&&(nr[t][e]=r),r}function Kn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function It(n,e,t="-",r,s){let u="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,u=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),u+l}function hn(n,e,t=0,r=!1,s=!1){return function(u,l){let m=function To(n,e){switch(n){case tt.FullYear:return e.getFullYear();case tt.Month:return e.getMonth();case tt.Date:return e.getDate();case tt.Hours:return e.getHours();case tt.Minutes:return e.getMinutes();case tt.Seconds:return e.getSeconds();case tt.FractionalSeconds:return e.getMilliseconds();case tt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||m>-t)&&(m+=t),n===tt.Hours)0===m&&-12===t&&(m=12);else if(n===tt.FractionalSeconds)return function gr(n,e){return It(n,3).substring(0,e)}(m,e);const w=Gt(l,st.MinusSign);return It(m,e,w,r,s)}}function Xt(n,e,t=Tt.Format,r=!1){return function(s,u){return function rr(n,e,t,r,s,u){switch(t){case yt.Months:return function Fe(n,e,t){const r=(0,h.cg1)(n),u=lt([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return lt(u,t)}(e,s,r)[n.getMonth()];case yt.Days:return function xe(n,e,t){const r=(0,h.cg1)(n),u=lt([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return lt(u,t)}(e,s,r)[n.getDay()];case yt.DayPeriods:const l=n.getHours(),m=n.getMinutes();if(u){const b=function Ai(n){const e=(0,h.cg1)(n);return zi(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Br(r):[Br(r[0]),Br(r[1])])}(e),x=function la(n,e,t){const r=(0,h.cg1)(n);zi(r);const u=lt([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return lt(u,t)||[]}(e,s,r),R=b.findIndex(B=>{if(Array.isArray(B)){const[K,ve]=B,Ve=l>=K.hours&&m>=K.minutes,Oe=l<ve.hours||l===ve.hours&&m<ve.minutes;if(K.hours<ve.hours){if(Ve&&Oe)return!0}else if(Ve||Oe)return!0}else if(B.hours===l&&B.minutes===m)return!0;return!1});if(-1!==R)return x[R]}return function De(n,e,t){const r=(0,h.cg1)(n),u=lt([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return lt(u,t)}(e,s,r)[l<12?0:1];case yt.Eras:return function Ie(n,e){return lt((0,h.cg1)(n)[h.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,u,n,e,t,r)}}function mr(n){return function(e,t,r){const s=-1*r,u=Gt(t,st.MinusSign),l=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case Jt.Short:return(s>=0?"+":"")+It(l,2,u)+It(Math.abs(s%60),2,u);case Jt.ShortGMT:return"GMT"+(s>=0?"+":"")+It(l,1,u);case Jt.Long:return"GMT"+(s>=0?"+":"")+It(l,2,u)+":"+It(Math.abs(s%60),2,u);case Jt.Extended:return 0===r?"Z":(s>=0?"+":"")+It(l,2,u)+":"+It(Math.abs(s%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Wi(n){return qi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ln(n,e=!1){return function(t,r){let s;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();s=1+Math.floor((l+u)/7)}else{const u=Wi(t),l=function yr(n){const e=qi(n,0,1).getDay();return qi(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),m=u.getTime()-l.getTime();s=1+Math.round(m/6048e5)}return It(s,n,Gt(r,st.MinusSign))}}function Xr(n,e=!1){return function(t,r){return It(Wi(t).getFullYear(),n,Gt(r,st.MinusSign),e)}}const $r={};function L(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Dt(n){return n instanceof Date&&!isNaN(n.valueOf())}let fn=(()=>{class n{constructor(t,r,s,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Pc{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let un=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,l)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new Pc(s.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),ks(m,s)}});for(let s=0,u=r.length;s<u;s++){const m=r.get(s).context;m.index=s,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{ks(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ks(n,e){n.context.$implicit=e.item}let ir=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class fd{constructor(){this.$implicit=null,this.ngIf=null}}function sr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}const Yg=new h.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let gu=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",s,u){if(null==t||""===t||t!=t)return null;try{return mn(t,r,u||this.locale,s??this.defaultTimezone??void 0)}catch(l){throw function _n(n,e){return new h.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(Yg,24))},n.\u0275pipe=h.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Uc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function vu(n){return"server"===n}let fs=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new wu((0,h.LFG)(ae),window)}),n})();class wu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Gr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mi(this.window.history)||mi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qc extends class Ef extends class ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){J||(J=n)}(new Qc)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Mu(){return xu=xu||document.querySelector("base"),xu?xu.getAttribute("href"):null}();return null==t?null:function If(n){Ru=Ru||document.createElement("a"),Ru.setAttribute("href",n);const e=Ru.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){xu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function lu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Ru,xu=null;const ko=new h.OlP("TRANSITION_ID"),Jc=[{provide:h.ip1,useFactory:function kd(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=O(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[ko,ae,h.zs3],multi:!0}];let Cf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ki=new h.OlP("EventManagerPlugins");let Ia=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const l=s[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ki),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ys{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=O().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let Xs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Yi=(()=>{class n extends Xs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(u=>{const l=this._doc.createElement("style");l.textContent=u,s.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Nu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Nu))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Nu(n){O().remove(n)}const Ca={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yi=/%COMP%/g;function no(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?no(n,s,t):(s=s.replace(yi,n),t.push(s))}return t}function Pu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ba=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Lo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new ro(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case h.ifc.ShadowDom:return new bf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=no(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ia),h.LFG(Yi),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Lo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ca[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ta(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ta(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=Ca[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=Ca[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,s&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pu(r)):this.eventManager.addEventListener(e,t,Pu(r))}}function Ta(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ro extends Lo{constructor(e,t,r,s){super(e),this.component=r;const u=no(s+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function to(n){return"_ngcontent-%COMP%".replace(yi,n)}(s+"-"+r.id),this.hostAttr=function Da(n){return"_nghost-%COMP%".replace(yi,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class bf extends Lo{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=no(s.id,s.styles,[]);for(let l=0;l<u.length;l++){const m=document.createElement("style");m.textContent=u[l],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ou=(()=>{class n extends ys{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ji=["alt","control","meta","shift"],nm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tl=(()=>{class n extends ys{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),Ji.forEach(b=>{const x=r.indexOf(b);x>-1&&(r.splice(x,1),l+=b+".")}),l+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=s,w.fullKey=l,w}static matchEventFullKeyCode(t,r){let s=nm[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Ji.forEach(l=>{l!==s&&(0,bn[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Fu=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function io(){Qc.makeCurrent()},multi:!0},{provide:ae,useFactory:function Vo(){return(0,h.RDi)(document),document},deps:[]}]),Sa=new h.OlP(""),pn=[{provide:h.rWj,useClass:class Ea{addToWindow(e){h.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const m=function(w){l=l||w,u--,0==u&&r(l)};s.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],nl=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Er(){return new h.qLn},deps:[]},{provide:Ki,useClass:Ou,multi:!0,deps:[ae,h.R0b,h.Lbi]},{provide:Ki,useClass:tl,multi:!0,deps:[ae]},{provide:ba,useClass:ba,deps:[Ia,Yi,h.AFp]},{provide:h.FYo,useExisting:ba},{provide:Xs,useExisting:Yi},{provide:Yi,useClass:Yi,deps:[ae]},{provide:Ia,useClass:Ia,deps:[Ki,h.R0b]},{provide:class Eu{},useClass:Cf,deps:[]},[]];let rl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:ko,useExisting:h.AFp},Jc]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Sa,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...nl,...pn],imports:[Uc,h.hGG]}),n})(),Mf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function xf(){return new Mf((0,h.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var cn=F(8996),zr=F(9751);const{isArray:jd}=Array,{getPrototypeOf:Li,prototype:ws,keys:Rr}=Object;function al(n){if(1===n.length){const e=n[0];if(jd(e))return{args:e,keys:null};if(function $d(n){return n&&"object"==typeof n&&Li(n)===ws}(e)){const t=Rr(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var so=F(8421),Xi=F(7669),kn=F(5403),it=F(4004);const{isArray:ul}=Array;function cl(n){return(0,it.U)(e=>function Bn(n,e){return ul(e)?n(...e):n(e)}(n,e))}function Ra(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}let Ls=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Es=(()=>{class n extends Ls{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const _i=new h.OlP("NgValueAccessor"),oo={provide:_i,useExisting:(0,h.Gpc)(()=>Na),multi:!0},Bo=new h.OlP("CompositionEventMode");let Na=(()=>{class n extends Ls{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dl(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Bo,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([oo]),h.qOj]}),n})();function qr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Qn=new h.OlP("NgValidators"),Is=new h.OlP("NgAsyncValidators"),kf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function hl(n){return qr(n.value)?{required:!0}:null}function Ff(n){return qr(n.value)||kf.test(n.value)?null:{email:!0}}function uo(n){return null}function co(n){return null!=n}function $o(n){return(0,h.QGY)(n)?(0,cn.D)(n):n}function Ho(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Oa(n,e){return e.map(t=>t(n))}function Go(n){return n.map(e=>function gl(n){return!n.validate}(e)?e:t=>e.validate(t))}function ka(n){return null!=n?function Wu(n){if(!n)return null;const e=n.filter(co);return 0==e.length?null:function(t){return Ho(Oa(t,e))}}(Go(n)):null}function zo(n){return null!=n?function qd(n){if(!n)return null;const e=n.filter(co);return 0==e.length?null:function(t){return function Hd(...n){const e=(0,Xi.jO)(n),{args:t,keys:r}=al(n),s=new zr.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let w=l,b=l;for(let x=0;x<l;x++){let R=!1;(0,so.Xf)(t[x]).subscribe((0,kn.x)(u,B=>{R||(R=!0,b--),m[x]=B},()=>w--,void 0,()=>{(!w||!R)&&(b||u.next(r?Ra(r,m):m),u.complete())}))}});return e?s.pipe(cl(e)):s}(Oa(t,e).map($o)).pipe((0,it.U)(Ho))}}(Go(n)):null}function sm(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Cs(n){return n?Array.isArray(n)?n:[n]:[]}function Ku(n,e){return Array.isArray(n)?n.includes(e):n===e}function Vf(n,e){const t=Cs(e);return Cs(n).forEach(s=>{Ku(t,s)||t.push(s)}),t}function Wd(n,e){return Cs(e).filter(t=>!Ku(n,t))}class lo{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ka(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class or extends lo{get formDirective(){return null}get path(){return null}}class Nr extends lo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ml{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yl=(()=>{class n extends ml{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Nr,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),wi=(()=>{class n extends ml{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(or,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const Pr="VALID",Ei="INVALID",Vs="PENDING",Fa="DISABLED";function Yd(n){return(La(n)?n.validators:n)||null}function Rv(n){return Array.isArray(n)?ka(n):n||null}function Yu(n,e){return(La(e)?e.asyncValidators:n)||null}function Uf(n){return Array.isArray(n)?zo(n):n||null}function La(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class am{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Rv(this._rawValidators),this._composedAsyncValidatorFn=Uf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pr}get invalid(){return this.status===Ei}get pending(){return this.status==Vs}get disabled(){return this.status===Fa}get enabled(){return this.status!==Fa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Rv(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Uf(e)}addValidators(e){this.setValidators(Vf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Vf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wd(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wd(e,this._rawAsyncValidators))}hasValidator(e){return Ku(this._rawValidators,e)}hasAsyncValidator(e){return Ku(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Vs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pr,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pr||this.status===Vs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fa:Pr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Vs,this._hasOwnPendingAsyncValidator=!0;const t=$o(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Fa:this.errors?Ei:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vs)?Vs:this._anyControlsHaveStatus(Ei)?Ei:Pr}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){La(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Qd extends am{constructor(e,t,r){super(Yd(t),Yu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function _l(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new h.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function vl(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Ju(n,e){Va(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function jf(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&um(n,e)})}(n,e),function Hf(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $f(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&um(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Xu(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Bf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Va(n,e){const t=function Lf(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(sm(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Zu(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(sm(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();Bf(e._rawValidators,s),Bf(e._rawAsyncValidators,s)}function um(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const fo={provide:or,useExisting:(0,h.Gpc)(()=>ec)},qo=(()=>Promise.resolve())();let ec=(()=>{class n extends or{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Qd({},ka(t),zo(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){qo.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ju(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){qo.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){qo.then(()=>{const r=this._findContainer(t.path),s=new Qd({});(function cm(n,e){Va(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){qo.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){qo.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function qf(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Qn,10),h.Y36(Is,10))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([fo]),h.qOj]}),n})();function fm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eh(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Il=class extends am{constructor(e=null,t,r){super(Yd(t),Yu(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),La(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eh(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eh(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},nh={provide:Nr,useExisting:(0,h.Gpc)(()=>Cl)},rh=(()=>Promise.resolve())();let Cl=(()=>{class n extends Nr{constructor(t,r,s,u,l){super(),this._changeDetectorRef=l,this.control=new Il,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function El(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===Na?t=u:function zf(n){return Object.getPrototypeOf(n.constructor)===Es}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Xd(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ju(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){rh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,h.D6c)(r);rh.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Qu(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(or,9),h.Y36(Qn,10),h.Y36(Is,10),h.Y36(_i,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([nh]),h.qOj,h.TTD]}),n})(),Ua=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),nc=(()=>{class n{constructor(){this._validator=uo}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):uo,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const p={provide:Qn,useExisting:(0,h.Gpc)(()=>T),multi:!0};let T=(()=>{class n extends nc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=t=>hl}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([p]),h.qOj]}),n})();const U={provide:Qn,useExisting:(0,h.Gpc)(()=>Z),multi:!0};let Z=(()=>{class n extends nc{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=h.D6c,this.createValidator=t=>Ff}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[h._Bn([U]),h.qOj]}),n})(),Cm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[sh]}),n})(),Dm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Cm]}),n})();var go=F(2011),qv=F(4986);function vt(...n){const e=(0,Xi.yG)(n);return(0,cn.D)(n,e)}var oi=F(4976),sp=F(8189);function Wv(...n){return function lb(){return(0,sp.J)(1)}()((0,cn.D)(n,(0,Xi.yG)(n)))}var Vi=F(4482);function Zv(...n){const e=(0,Xi.yG)(n);return(0,Vi.e)((t,r)=>{(e?Wv(n,t,e):Wv(n,t)).subscribe(r)})}function dE(){return(0,Vi.e)((n,e)=>{let t,r=!1;n.subscribe((0,kn.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function op(n,e,t,r,s){return(u,l)=>{let m=t,w=e,b=0;u.subscribe((0,kn.x)(l,x=>{const R=b++;w=m?n(w,x,R):(m=!0,x),r&&l.next(w)},s&&(()=>{m&&l.next(w),l.complete()})))}}function Al(n,e){return(0,Vi.e)(op(n,e,arguments.length>=2,!0))}var uh=F(4671);function fE(n,e){return n===e}function mo(n,e){return(0,Vi.e)((t,r)=>{let s=0;t.subscribe((0,kn.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}F(2644);var Qe,pE=F(3942),me=F(5861),ch=F(6881),Mm=F(4859),Zo=F(1877),ln=F(2090),gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ai={},ap=ap||{},Lt=gE||self;function Rm(){}function lh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Nm="closure_uid_"+(1e9*Math.random()>>>0),Kv=0;function hb(n,e,t){return n.call.apply(n.bind,arguments)}function fb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function ui(n,e,t){return(ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hb:fb).apply(null,arguments)}function $a(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[s].apply(r,l)}}function ic(){this.s=this.s,this.o=this.o}ic.prototype.s=!1,ic.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function Sl(n){Object.prototype.hasOwnProperty.call(n,Nm)&&n[Nm]||(n[Nm]=++Kv)}(this)},ic.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function up(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function yE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(lh(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ci.prototype.h=function(){this.defaultPrevented=!0};var gb=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",Rm,e),Lt.removeEventListener("test",Rm,e)}catch{}return n}();function cp(n){return/^[\s\xa0]*$/.test(n)}var mb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yv(n,e){return n<e?-1:n>e?1:0}function sc(){var n=Lt.navigator;return n&&(n=n.userAgent)?n:""}function Ko(n){return-1!=sc().indexOf(n)}function oc(n){return oc[" "](n),n}function dh(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}oc[" "]=Rm;var dp,n,yb=Ko("Opera"),lp=Ko("Trident")||Ko("MSIE"),Qv=Ko("Edge"),Jv=Qv||lp,vE=Ko("Gecko")&&!(-1!=sc().toLowerCase().indexOf("webkit")&&!Ko("Edge"))&&!(Ko("Trident")||Ko("MSIE"))&&!Ko("Edge"),vb=-1!=sc().toLowerCase().indexOf("webkit")&&!Ko("Edge");function Xv(){var n=Lt.document;return n?n.documentMode:void 0}e:{var hp="",fp=(n=sc(),vE?/rv:([^\);]+)(\)|;)/.exec(n):Qv?/Edge\/([\d\.]+)/.exec(n):lp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vb?/WebKit\/(\S+)/.exec(n):yb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fp&&(hp=fp?fp[1]:""),lp){var e_=Xv();if(null!=e_&&e_>parseFloat(hp)){dp=String(e_);break e}}dp=hp}var t_={},_b=Lt.document&&lp&&(Xv()||parseInt(dp,10))||void 0;function gp(n,e){if(ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(vE){e:{try{oc(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&gp.$.h.call(this)}}Zr(gp,ci);var wb={2:"touch",3:"pen",4:"mouse"};gp.prototype.h=function(){gp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mp="closure_listenable_"+(1e6*Math.random()|0),Eb=0;function hh(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++Eb,this.fa=this.ia=!1}function Us(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function r_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function wE(n){const e={};for(const t in n)e[t]=n[t];return e}const Ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cb(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<Ib.length;u++)t=Ib[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function yp(n){this.src=n,this.g={},this.h=0}function EE(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=mE(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Us(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Pm(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}yp.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Pm(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new hh(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var IE="closure_lm_"+(1e6*Math.random()|0),Om={};function CE(n,e,t,r,s){if(r&&r.once)return DE(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)CE(n,e[u],t,r,s);return null}return t=c_(t),n&&n[mp]?n.O(e,t,rc(r)?!!r.capture:!!r,s):i_(n,e,t,!1,r,s)}function i_(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=rc(s)?!!s.capture:!!s,m=a_(n);if(m||(n[IE]=m=new yp(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function Db(){const e=bb;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)gb||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(o_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function DE(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)DE(n,e[u],t,r,s);return null}return t=c_(t),n&&n[mp]?n.P(e,t,rc(r)?!!r.capture:!!r,s):i_(n,e,t,!0,r,s)}function Bs(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)Bs(n,e[u],t,r,s);else r=rc(r)?!!r.capture:!!r,t=c_(t),n&&n[mp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Pm(u=n.g[e],t,r,s))&&(Us(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=a_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Pm(e,t,r,s)),(t=-1<n?e[n]:null)&&s_(t))}function s_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[mp])EE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(o_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=a_(e))?(EE(t,n),0==t.h&&(t.src=null,e[IE]=null)):Us(n)}}}function o_(n){return n in Om?Om[n]:Om[n]="on"+n}function bb(n,e){if(n.fa)n=!0;else{e=new gp(e,this);var t=n.listener,r=n.la||n.src;n.ia&&s_(n),n=t.call(r,e)}return n}function a_(n){return(n=n[IE])instanceof yp?n:null}var u_="__closure_events_fn_"+(1e9*Math.random()>>>0);function c_(n){return"function"==typeof n?n:(n[u_]||(n[u_]=function(e){return n.handleEvent(e)}),n[u_])}function kr(){ic.call(this),this.i=new yp(this),this.S=this,this.J=null}function li(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ci(e,n);else if(e instanceof ci)e.target=e.target||n;else{var s=e;Cb(e=new ci(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=km(l,r,!0,e)&&s}if(s=km(l=e.g=n,r,!0,e)&&s,s=km(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=km(l=e.g=t[u],r,!1,e)&&s}function km(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var m=l.listener,w=l.la||l.src;l.ia&&EE(n.i,l),s=!1!==m.call(w,r)&&s}}return s&&!r.defaultPrevented}Zr(kr,ic),kr.prototype[mp]=!0,kr.prototype.removeEventListener=function(n,e,t,r){Bs(this,n,e,t,r)},kr.prototype.N=function(){if(kr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Us(t[r]);delete n.g[e],n.h--}}this.J=null},kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},kr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var l_=Lt.JSON.stringify;function Ut(){var n=SE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Fm,d_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new TE,n=>n.reset());class TE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Tb(n){Lt.setTimeout(()=>{throw n},0)}function AE(n,e){Fm||function Ab(){var n=Lt.Promise.resolve(void 0);Fm=function(){n.then(Sb)}}(),Lm||(Fm(),Lm=!0),SE.add(n,e)}var Lm=!1,SE=new class bE{constructor(){this.h=this.g=null}add(e,t){const r=d_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Sb(){for(var n;n=Ut();){try{n.h.call(n.g)}catch(t){Tb(t)}var e=d_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Lm=!1}function h_(n,e){kr.call(this),this.h=n||1,this.g=e||Lt,this.j=ui(this.qb,this),this.l=Date.now()}function Vm(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Um(n,e,t){if("function"==typeof n)t&&(n=ui(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ui(n.handleEvent,n)}return 2147483647<Number(e)?-1:Lt.setTimeout(n,e||0)}function ac(n){n.g=Um(()=>{n.g=null,n.i&&(n.i=!1,ac(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zr(h_,kr),(Qe=h_.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),li(this,"tick"),this.ga&&(Vm(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){h_.$.N.call(this),Vm(this),delete this.g};class xb extends ic{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ac(this)}N(){super.N(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xl(n){ic.call(this),this.h=n,this.g={}}Zr(xl,ic);var Bm=[];function xE(n,e,t,r){Array.isArray(t)||(t&&(Bm[0]=t.toString()),t=Bm);for(var s=0;s<t.length;s++){var u=CE(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Mb(n){r_(n.g,function(e,t){this.g.hasOwnProperty(t)&&s_(e)},n),n.g={}}function f_(){this.g=!0}function Ml(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return l_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}xl.prototype.N=function(){xl.$.N.call(this),Mb(this)},xl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},f_.prototype.Ea=function(){this.g=!1},f_.prototype.info=function(){};var js={},ME=null;function vp(){return ME=ME||new kr}function _p(n){ci.call(this,js.Ta,n)}function wp(n){const e=vp();li(e,new _p(e))}function p_(n,e){ci.call(this,js.STAT_EVENT,n),this.stat=e}function Ui(n){const e=vp();li(e,new p_(e,n))}function RE(n,e){ci.call(this,js.Ua,n),this.size=e}function Ep(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},e)}js.Ta="serverreachability",Zr(_p,ci),js.STAT_EVENT="statevent",Zr(p_,ci),js.Ua="timingevent",Zr(RE,ci);var jm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},NE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $m(){}function g_(){}$m.prototype.h=null;var Cp,fh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ip(){ci.call(this,"d")}function OE(){ci.call(this,"c")}function Hm(){}function Gm(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new xl(this),this.P=kE,this.V=new h_(n=Jv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Rl}function Rl(){this.i=null,this.g="",this.h=!1}Zr(Ip,ci),Zr(OE,ci),Zr(Hm,$m),Hm.prototype.g=function(){return new XMLHttpRequest},Hm.prototype.i=function(){return{}},Cp=new Hm;var kE=45e3,zm={},Nl={};function bs(n,e,t){n.L=1,n.v=__(Ga(e)),n.s=t,n.S=!0,m_(n,null)}function m_(n,e){n.G=Date.now(),Pl(n),n.A=Ga(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Fb(t.i,"t",r),n.C=0,t=n.l.I,n.h=new Rl,n.g=hy(n.l,t?e:null,!n.s),0<n.O&&(n.M=new xb(ui(n.Pa,n,n.g),n.O)),xE(n.U,n.g,"readystatechange",n.nb),e=n.I?wE(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),wp(),function MS(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),w=0;w<m.length;w++){var b=m[w].split("=");if(1<b.length){var x=b[0];b=b[1];var R=x.split("_");l=2<=R.length&&"type"==R[1]?l+(x+"=")+b+"&":l+(x+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function FE(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function qm(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=Ha(n,t),s==Nl){4==e&&(n.o=4,Ui(14),r=!1),Ml(n.j,n.m,null,"[Incomplete Response]");break}if(s==zm){n.o=4,Ui(15),Ml(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ml(n.j,n.m,s,null),LE(n,s)}FE(n)&&s!=Nl&&s!=zm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ui(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),P_(e),e.L=!0,Ui(11))):(Ml(n.j,n.m,t,"[Invalid Chunked Response]"),uc(n),Wm(n))}function Ha(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Nl:(t=Number(e.substring(t,r)),isNaN(t)?zm:(r+=1)+t>e.length?Nl:(e=e.substr(r,t),n.C=r+t,e))}function Pl(n){n.Y=Date.now()+n.P,y_(n,n.P)}function y_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ep(ui(n.lb,n),e)}function ph(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function Wm(n){0==n.l.H||n.J||KE(n.l,n)}function uc(n){ph(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Vm(n.V),Mb(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function LE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Tp(t.h,n)))if(!n.K&&Tp(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;dy(t),uy(t)}ly(t),Ui(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.M&&0==t.A&&!t.v&&(t.v=Ep(ui(t.ib,t),6e3));if(1>=C_(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else cc(t,11)}else if((n.K||t.g==n)&&dy(t),!cp(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let b=s[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.J=b[1],t.oa=b[2];const x=b[3];null!=x&&(t.qa=x,t.j.info("VER="+t.qa));const R=b[4];null!=R&&(t.Ga=R,t.j.info("SVER="+t.Ga));const B=b[5];null!=B&&"number"==typeof B&&0<B&&(t.K=r=1.5*B,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const ve=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ve){var u=r.h;u.g||-1==ve.indexOf("spdy")&&-1==ve.indexOf("quic")&&-1==ve.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(ny(u,u.h),u.h=null))}if(r.F){const Ve=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;Ve&&(r.Da=Ve,Hn(r.G,r.F,Ve))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=yo(r,r.I?r.oa:null,r.Y),l.K){ry(r.h,l);var m=l,w=r.K;w&&m.setTimeout(w),m.B&&(ph(m),Pl(m)),r.g=l}else ZE(r);0<t.i.length&&cy(t)}else"stop"!=b[0]&&"close"!=b[0]||cc(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?cc(t,7):ay(t):"noop"!=b[0]&&t.l&&t.l.Aa(b),t.A=0)}wp()}catch{}}function Ym(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(lh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Km(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(lh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Zm(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(lh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(Qe=Gm.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==Jo(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const x=Jo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||Jv||this.g&&(this.h.h||this.g.ja()||qE(this.g)))){this.J||4!=x||7==e||wp(),ph(this);var t=this.g.da();this.aa=t;t:if(FE(this)){var r=qE(this.g);n="";var s=r.length,u=4==Jo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uc(this),Wm(this);var l="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Rb(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,x,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cp(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ui(12),uc(this),Wm(this);break e}Ml(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,LE(this,t)}this.S?(qm(this,x,l),Jv&&this.i&&3==x&&(xE(this.U,this.V,"tick",this.mb),this.V.start())):(Ml(this.j,this.m,l,null),LE(this,l)),4==x&&uc(this),this.i&&!this.J&&(4==x?KE(this.l,this):(this.i=!1,Pl(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ui(12)):(this.o=0,Ui(13)),uc(this),Wm(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=Jo(this.g),e=this.g.ja();this.C<e.length&&(ph(this),qm(this,n,e),this.i&&4!=n&&Pl(this))}},Qe.cancel=function(){this.J=!0,uc(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function RS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(wp(),Ui(17)),uc(this),this.o=2,Wm(this)):y_(this,this.Y-n)};var Qm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof gh){this.h=void 0!==e?e:n.h,Jm(this,n.j),this.s=n.s,this.g=n.g,Xm(this,n.m),this.l=n.l,e=n.i;var t=new ty;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),VE(this,t),this.o=n.o}else n&&(t=String(n).match(Qm))?(this.h=!!e,Jm(this,t[1]||"",!0),this.s=Dp(t[2]||""),this.g=Dp(t[3]||"",!0),Xm(this,t[4]),this.l=Dp(t[5]||"",!0),VE(this,t[6]||"",!0),this.o=Dp(t[7]||"")):(this.h=!!e,this.i=new ty(null,this.h))}function Ga(n){return new gh(n)}function Jm(n,e,t){n.j=t?Dp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function VE(n,e,t){e instanceof ty?(n.i=e,function OS(n,e){e&&!n.j&&(Ol(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Ob(this,r),Fb(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ey(e,NS)),n.i=new ty(e,n.h))}function Hn(n,e,t){n.i.set(e,t)}function __(n){return Hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ey(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,UE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function UE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ey(e,w_,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ey(e,w_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ey(t,"/"==t.charAt(0)?E_:Pb,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ey(t,PS)),n.join("")};var w_=/[#\/\?@]/g,Pb=/[#\?:]/g,E_=/[#\?]/g,NS=/[#\?@]/g,PS=/#/g;function ty(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ol(n){n.g||(n.g=new Map,n.h=0,n.i&&function v_(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ob(n,e){Ol(n),e=bp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function kb(n,e){return Ol(n),e=bp(n,e),n.g.has(e)}function Fb(n,e,t){Ob(n,e),0<t.length&&(n.i=null,n.g.set(bp(n,e),up(t)),n.h+=t.length)}function bp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function za(n){this.l=n||I_,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ka&&Lt.g.Ka()&&Lt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=ty.prototype).add=function(n,e){Ol(this),this.i=null,n=bp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){Ol(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Qe.sa=function(){Ol(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},Qe.Z=function(n){Ol(this);let e=[];if("string"==typeof n)kb(this,n)&&(e=e.concat(this.g.get(bp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return Ol(this),this.i=null,kb(this,n=bp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var I_=10;function BE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function C_(n){return n.h?1:n.g?n.g.size:0}function Tp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ny(n,e){n.g?n.g.add(e):n.h=e}function ry(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function jE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return up(n.i)}function Yo(){}function $E(){this.g=new Yo}function Lb(n,e,t){const r=t||"";try{Ym(n,function(s,u){let l=s;rc(s)&&(l=l_(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Ap(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Sp(n){this.l=n.fc||null,this.j=n.ob||!1}function iy(n,e){kr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=mh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}za.prototype.cancel=function(){if(this.i=jE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Yo.prototype.stringify=function(n){return Lt.JSON.stringify(n,void 0)},Yo.prototype.parse=function(n){return Lt.JSON.parse(n,void 0)},Zr(Sp,$m),Sp.prototype.g=function(){return new iy(this.l,this.j)},Sp.prototype.i=function(n){return function(){return n}}({}),Zr(iy,kr);var mh=0;function kl(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Fl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qo(n)}function Qo(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=iy.prototype).open=function(n,e){if(this.readyState!=mh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Qo(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Lt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fl(this)),this.readyState=mh},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Lt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kl(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fl(this):Qo(this),3==this.readyState&&kl(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,Fl(this))},Qe.Ya=function(n){this.g&&(this.response=n,Fl(this))},Qe.ka=function(){this.g&&Fl(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(iy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var D_=Lt.JSON.parse;function Gn(n){kr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=b_,this.L=this.M=!1}Zr(Gn,kr);var b_="",HE=/^https?$/i,T_=["POST","PUT"];function S_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,sy(n),x_(n)}function sy(n){n.F||(n.F=!0,li(n,"complete"),li(n,"error"))}function GE(n){if(n.h&&typeof ap<"u"&&(!n.C[1]||4!=Jo(n)||2!=n.da()))if(n.v&&4==Jo(n))Um(n.La,0,n);else if(li(n,"readystatechange"),4==Jo(n)){n.h=!1;try{const m=n.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var s=String(n.I).match(Qm)[1]||null;if(!s&&Lt.self&&Lt.self.location){var u=Lt.self.location.protocol;s=u.substr(0,u.length-1)}r=!HE.test(s?s.toLowerCase():"")}t=r}if(t)li(n,"complete"),li(n,"success");else{n.m=6;try{var l=2<Jo(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",sy(n)}}finally{x_(n)}}}function x_(n,e){if(n.g){zE(n);const t=n.g,r=n.C[0]?Rm:null;n.g=null,n.C=null,e||li(n,"ready");try{t.onreadystatechange=r}catch{}}}function zE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function Jo(n){return n.g?n.g.readyState:0}function qE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case b_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function M_(n){let e="";return r_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function oy(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=M_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hn(n,e,t))}function xp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ns(n){this.Ga=0,this.i=[],this.j=new f_,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xp("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xp("baseRetryDelayMs",5e3,n),this.hb=xp("retryDelaySeedMs",1e4,n),this.eb=xp("forwardChannelMaxRetries",2,n),this.xa=xp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new za(n&&n.concurrentRequestLimit),this.Ja=new $E,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function ay(n){if(Ub(n),3==n.H){var e=n.W++,t=Ga(n.G);Hn(t,"SID",n.J),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),Mp(n,t),(e=new Gm(n,n.j,e,void 0)).L=2,e.v=__(Ga(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(t=Lt.navigator.sendBeacon(e.v.toString(),"")),!t&&Lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=hy(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Pl(e)}YE(n)}function uy(n){n.g&&(P_(n),n.g.cancel(),n.g=null)}function Ub(n){uy(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),dy(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function cy(n){BE(n.h)||n.m||(n.m=!0,AE(n.Na,n),n.C=0)}function N_(n,e){var t;t=e?e.m:n.W++;const r=Ga(n.G);Hn(r,"SID",n.J),Hn(r,"RID",t),Hn(r,"AID",n.V),Mp(n,r),n.o&&n.s&&oy(r,n.o,n.s),t=new Gm(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=WE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ny(n.h,t),bs(t,r,e)}function Mp(n,e){n.ma&&r_(n.ma,function(t,r){Hn(e,r,t)}),n.l&&Ym({},function(t,r){Hn(e,r,t)})}function WE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ui(n.l.Va,n.l,n):null;e:{var s=n.i;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].h,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let b=s[w].h;const x=s[w].g;if(b-=u,0>b)u=Math.max(0,s[w].h-100),m=!1;else try{Lb(x,l,"req"+b+"_")}catch{r&&r(x)}}if(m){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function ZE(n){n.g||n.u||(n.ba=1,AE(n.Ma,n),n.A=0)}function ly(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ep(ui(n.Ma,n),k_(n,n.A)),n.A++,0))}function P_(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function O_(n){n.g=new Gm(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ga(n.wa);Hn(e,"RID","rpc"),Hn(e,"SID",n.J),Hn(e,"CI",n.M?"0":"1"),Hn(e,"AID",n.V),Hn(e,"TYPE","xmlhttp"),Mp(n,e),n.o&&n.s&&oy(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=__(Ga(e)),t.s=null,t.S=!0,m_(t,n)}function dy(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function KE(n,e){var t=null;if(n.g==e){dy(n),P_(n),n.g=null;var r=2}else{if(!Tp(n.h,e))return;t=e.F,ry(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;li(r=vp(),new RE(r,t)),cy(n)}else ZE(n);else if(3==(s=e.o)||0==s&&0<n.ta||!(1==r&&function R_(n,e){return!(C_(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ep(ui(n.Na,n,e),k_(n,n.C)),n.C++,0)))}(n,e)||2==r&&ly(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),s){case 1:cc(n,5);break;case 4:cc(n,10);break;case 3:cc(n,6);break;default:cc(n,2)}}function k_(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function cc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ui(n.pb,n);t||(t=new gh("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||Jm(t,"https"),__(t)),function Vb(n,e){const t=new f_;if(Lt.Image){const r=new Image;r.onload=$a(Ap,t,r,"TestLoadImage: loaded",!0,e),r.onerror=$a(Ap,t,r,"TestLoadImage: error",!1,e),r.onabort=$a(Ap,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=$a(Ap,t,r,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ui(2);n.H=0,n.l&&n.l.za(e),YE(n),Ub(n)}function YE(n){if(n.H=0,n.pa=[],n.l){const e=jE(n.h);(0!=e.length||0!=n.i.length)&&(yE(n.pa,e),yE(n.pa,n.i),n.h.i.length=0,up(n.i),n.i.length=0),n.l.ya()}}function yo(n,e,t){var r=t instanceof gh?Ga(t):new gh(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Xm(r,r.m);else{var s=Lt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new gh(null,void 0);r&&Jm(u,r),e&&(u.g=e),s&&Xm(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Hn(r,t,e),Hn(r,"VER",n.qa),Mp(n,r),r}function hy(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gn(t&&n.Ha&&!n.va?new Sp({ob:!0}):n.va)).Oa(n.I),e}function QE(){}function fy(){if(lp&&!(10<=Number(_b)))throw Error("Environmental error: no available transport.")}function $s(n,e){kr.call(this),this.g=new ns(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!cp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new yh(this)}function F_(n){Ip.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function JE(){OE.call(this),this.status=1}function yh(n){this.g=n}function Ts(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function L_(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function wn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(Qe=Gn.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cp.g(),this.C=function PE(n){return n.h||(n.h=n.i())}(this.u?this.u:Cp),this.g.onreadystatechange=ui(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void S_(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=Lt.FormData&&n instanceof Lt.FormData,!(0<=mE(T_,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zE(this),0<this.B&&((this.L=function A_(n){return lp&&function pp(){return dh(t_,9,function(){let n=0;const e=mb(String(dp)).split("."),t=mb("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var s=e[l]||"",u=t[l]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=Yv(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Yv(0==s[2].length,0==u[2].length)||Yv(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ui(this.ua,this)):this.A=Um(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){S_(this,u)}},Qe.ua=function(){typeof ap<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,li(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,li(this,"complete"),li(this,"abort"),x_(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),x_(this,!0)),Gn.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?GE(this):this.kb())},Qe.kb=function(){GE(this)},Qe.da=function(){try{return 2<Jo(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),D_(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=ns.prototype).qa=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Gm(this,this.j,n,void 0);let u=this.s;if(this.U&&(u?(u=wE(u),Cb(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=WE(this,s,e),Hn(t=Ga(this.G),"RID",n),Hn(t,"CVER",22),this.F&&Hn(t,"X-HTTP-Session-Id",this.F),Mp(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(M_(u)))+"&"+e:this.o&&oy(t,this.o,u)),ny(this.h,s),this.bb&&Hn(t,"TYPE","init"),this.P?(Hn(t,"$req",e),Hn(t,"SID","null"),s.ba=!0,bs(s,t,null)):bs(s,t,e),this.H=2}}else 3==this.H&&(n?N_(this,n):0==this.i.length||BE(this.h)||N_(this))},Qe.Ma=function(){if(this.u=null,O_(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Ep(ui(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ui(10),uy(this),O_(this))},Qe.ib=function(){null!=this.v&&(this.v=null,uy(this),ly(this),Ui(19))},Qe.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Ui(2)):(this.j.info("Failed to ping google.com"),Ui(1))},(Qe=QE.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.Va=function(){},fy.prototype.g=function(n,e){return new $s(n,e)},Zr($s,kr),$s.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Ui(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=yo(n,null,n.Y),cy(n)},$s.prototype.close=function(){ay(this.g)},$s.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=l_(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&cy(e)},$s.prototype.N=function(){this.g.l=null,delete this.j,ay(this.g),delete this.g,$s.$.N.call(this)},Zr(F_,Ip),Zr(JE,OE),Zr(yh,QE),yh.prototype.Ba=function(){li(this.g,"a")},yh.prototype.Aa=function(n){li(this.g,new F_(n))},yh.prototype.za=function(n){li(this.g,new JE)},yh.prototype.ya=function(){li(this.g,"b")},Zr(Ts,function Bb(){this.blockSize=-1}),Ts.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ts.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)L_(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){L_(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){L_(this,r),s=0;break}}this.h=s,this.i+=e},Ts.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var py={};function Rp(n){return-128<=n&&128>n?dh(py,n,function(e){return new wn([0|e],0>e?-1:0)}):new wn([0|n],0>n?-1:0)}function As(n){if(isNaN(n)||!isFinite(n))return Pp;if(0>n)return Fr(As(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Np;return new wn(e,0)}var Np=4294967296,Pp=Rp(0),gy=Rp(1),V_=Rp(16777216);function Xo(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ss(n){return-1==n.h}function Fr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new wn(t,~n.h).add(gy)}function Hs(n,e){return n.add(Fr(e))}function Ll(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function lc(n,e){this.g=n,this.h=e}function dc(n,e){if(Xo(e))throw Error("division by zero");if(Xo(n))return new lc(Pp,Pp);if(Ss(n))return e=dc(Fr(n),e),new lc(Fr(e.g),Fr(e.h));if(Ss(e))return e=dc(n,Fr(e)),new lc(Fr(e.g),e.h);if(30<n.g.length){if(Ss(n)||Ss(e))throw Error("slowDivide_ only works with positive integers.");for(var t=gy,r=e;0>=r.X(n);)t=XE(t),r=XE(r);var s=hc(t,1),u=hc(r,1);for(r=hc(r,2),t=hc(t,2);!Xo(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=hc(r,1),t=hc(t,1)}return e=Hs(n,s.R(e)),new lc(s,e)}for(s=Pp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=As(t)).R(e);Ss(l)||0<l.X(n);)l=(u=As(t-=r)).R(e);Xo(u)&&(u=gy),s=s.add(u),n=Hs(n,l)}return new lc(s,n)}function XE(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new wn(t,n.h)}function hc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new wn(s,n.h)}(Qe=wn.prototype).ea=function(){if(Ss(this))return-Fr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Np+r)*e,e*=Np}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Xo(this))return"0";if(Ss(this))return"-"+Fr(this).toString(n);for(var e=As(Math.pow(n,6)),t=this,r="";;){var s=dc(t,e).g,u=((0<(t=Hs(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Xo(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return Ss(n=Hs(this,n))?-1:Xo(n)?0:1},Qe.abs=function(){return Ss(this)?Fr(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new wn(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if(Xo(this)||Xo(n))return Pp;if(Ss(this))return Ss(n)?Fr(this).R(Fr(n)):Fr(Fr(this).R(n));if(Ss(n))return Fr(this.R(Fr(n)));if(0>this.X(V_)&&0>n.X(V_))return As(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),m=n.D(s)>>>16,w=65535&n.D(s);t[2*r+2*s]+=l*w,Ll(t,2*r+2*s),t[2*r+2*s+1]+=u*w,Ll(t,2*r+2*s+1),t[2*r+2*s+1]+=l*m,Ll(t,2*r+2*s+1),t[2*r+2*s+2]+=u*m,Ll(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new wn(t,0)},Qe.gb=function(n){return dc(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new wn(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new wn(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new wn(t,this.h^n.h)},fy.prototype.createWebChannel=fy.prototype.g,$s.prototype.send=$s.prototype.u,$s.prototype.open=$s.prototype.m,$s.prototype.close=$s.prototype.close,jm.NO_ERROR=0,jm.TIMEOUT=8,jm.HTTP_ERROR=6,NE.COMPLETE="complete",g_.EventType=fh,fh.OPEN="a",fh.CLOSE="b",fh.ERROR="c",fh.MESSAGE="d",kr.prototype.listen=kr.prototype.O,Gn.prototype.listenOnce=Gn.prototype.P,Gn.prototype.getLastError=Gn.prototype.Sa,Gn.prototype.getLastErrorCode=Gn.prototype.Ia,Gn.prototype.getStatus=Gn.prototype.da,Gn.prototype.getResponseJson=Gn.prototype.Wa,Gn.prototype.getResponseText=Gn.prototype.ja,Gn.prototype.send=Gn.prototype.ha,Gn.prototype.setWithCredentials=Gn.prototype.Oa,Ts.prototype.digest=Ts.prototype.l,Ts.prototype.reset=Ts.prototype.reset,Ts.prototype.update=Ts.prototype.j,wn.prototype.add=wn.prototype.add,wn.prototype.multiply=wn.prototype.R,wn.prototype.modulo=wn.prototype.gb,wn.prototype.compare=wn.prototype.X,wn.prototype.toNumber=wn.prototype.ea,wn.prototype.toString=wn.prototype.toString,wn.prototype.getBits=wn.prototype.D,wn.fromNumber=As,wn.fromString=function jb(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Fr(jb(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=As(Math.pow(e,8)),r=Pp,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=As(Math.pow(e,u)),r=r.R(u).add(As(l))):r=(r=r.R(t)).add(As(l))}return r};var eI=ai.createWebChannelTransport=function(){return new fy},$b=ai.getStatEventTarget=function(){return vp()},U_=ai.ErrorCode=jm,Op=ai.EventType=NE,Hb=ai.Event=js,Gb=ai.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zb=ai.FetchXmlHttpFactory=Sp,B_=ai.WebChannel=g_,qb=ai.XhrIo=Gn,Wb=ai.Md5=Ts,vh=ai.Integer=wn;const j_="@firebase/firestore";class Ir{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");let _h="9.22.0";const ea=new Zo.Yd("@firebase/firestore");function $_(){return ea.logLevel}function ke(n,...e){if(ea.logLevel<=Zo.in.DEBUG){const t=e.map(H_);ea.debug(`Firestore (${_h}): ${n}`,...t)}}function dr(n,...e){if(ea.logLevel<=Zo.in.ERROR){const t=e.map(H_);ea.error(`Firestore (${_h}): ${n}`,...t)}}function Gs(n,...e){if(ea.logLevel<=Zo.in.WARN){const t=e.map(H_);ea.warn(`Firestore (${_h}): ${n}`,...t)}}function H_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${_h}) INTERNAL ASSERTION FAILED: `+n;throw dr(e),new Error(e)}function at(n,e){n||Je()}function Ze(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends ln.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ta{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ir.UNAUTHENTICATED))}shutdown(){}}class kp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Di{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=b=>this.i!==s?(s=this.i,t(b)):Promise.resolve();let l=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const b=l;e.enqueueRetryable((0,me.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},w=b=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(b=>w(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?w(b):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at("string"==typeof r.accessToken),new tI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return at(null===e||"string"==typeof e),new Ir(e)}}class Vl{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class my{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Vl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G_{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at("string"==typeof t.token),this.T=t.token,new xs(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wh(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ul{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=wh(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Pt(n,e){return n<e?-1:n>e?1:0}function vo(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function Bl(n){return n+"\0"}class En{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return En.fromMillis(Date.now())}static fromDate(e){return En.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new En(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ht(e)}static min(){return new ht(new En(0,0))}static max(){return new ht(new En(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class na{constructor(e,t,r){void 0===t?t=0:t>e.length&&Je(),void 0===r?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===na.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof na?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends na{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const nI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends na{construct(e,t,r){return new Jn(e,t,r)}static isValidIdentifier(e){return nI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new be(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new be(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new be(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else"`"===m?(l=!l,s++):"."!==m||l?(r+=m,s++):(u(),s++)}if(u(),l)throw new be(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(t)}static emptyPath(){return new Jn([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(tn.fromString(e))}static fromName(e){return new Ye(tn.fromString(e).popFirst(5))}static empty(){return new Ye(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new tn(e.slice()))}}class Lp{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function yy(n){return n.fields.find(e=>2===e.kind)}function fc(n){return n.fields.filter(e=>2!==e.kind)}Lp.UNKNOWN_ID=-1;class Vp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Up{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Up(0,rs.min())}}function z_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=ht.fromTimestamp(1e9===r?new En(t+1,0):new En(t,r));return new rs(s,Ye.empty(),e)}function iI(n){return new rs(n.readTime,n.key,-1)}class rs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rs(ht.min(),Ye.empty(),-1)}static max(){return new rs(ht.max(),Ye.empty(),-1)}}function Bp(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}const vy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _o(n){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,me.Z)(function*(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==vy)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),Eh.apply(this,arguments)}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let s=0,u=0,l=!1;e.forEach(m=>{++s,m.next(()=>{++u,l&&u===s&&t()},w=>r(w))}),l=!0,u===s&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(s=>s?te.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new te((r,s)=>{const u=e.length,l=new Array(u);let m=0;for(let w=0;w<u;w++){const b=w;t(e[b]).next(x=>{l[b]=x,++m,m===u&&r(l)},x=>s(x))}})}static doWhile(e,t){return new te((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class _y{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new hr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ih(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=jp(r.target.error);this.v.reject(new Ih(e,s))}}static open(e,t,r,s){try{return new _y(t,e.transaction(s,r))}catch(u){throw new Ih(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new W_(t)}}class Ms{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Ms.S((0,ln.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),pc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ln.hl)())return!1;if(Ms.C())return!0;const e=(0,ln.z$)(),t=Ms.S(e),r=0<t&&t<10,s=Ms.N(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,me.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{s(new Ih(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;s("VersionError"===m.name?new be(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new be(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Ih(e,m))},u.onupgradeneeded=l=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,me.Z)(function*(){const l="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.$(e);const w=_y.open(u.db,e,l?"readonly":"readwrite",r),b=s(w).next(x=>(w.P(),x)).catch(x=>(w.abort(x),te.reject(x))).toPromise();return b.catch(()=>{}),yield w.R,b}catch(w){const b=w,x="FirebaseError"!==b.name&&m<3;if(ke("SimpleDb","Transaction failed with error:",b.message,"Retrying:",x),u.close(),!x)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class q_{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return pc(this.L.delete())}}class Ih extends be{constructor(e,t){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function qa(n){return"IndexedDbTransactionError"===n.name}class W_{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),pc(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),pc(this.store.add(e))}get(e){return pc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),pc(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),pc(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.W(s,(l,m)=>{u.push(m)}).next(()=>u)}{const s=this.store.getAll(r.range);return new te((u,l)=>{s.onerror=m=>{l(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new te((s,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{s(l.target.result)}})}J(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.W(s,(u,l,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.W(s,t)}Z(e){const t=this.cursor({});return new te((r,s)=>{t.onerror=u=>{const l=jp(u.target.error);s(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}W(e,t){const r=[];return new te((s,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void s();const w=new q_(m),b=t(m.primaryKey,m.value,w);if(b instanceof te){const x=b.catch(R=>(w.done(),te.reject(R)));r.push(x)}w.isDone?s():null===w.K?m.continue():m.continue(w.K)}}).next(()=>te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function pc(n){return new te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=jp(r.target.error);t(s)}})}let Z_=!1;function jp(n){const e=Ms.S((0,ln.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Z_||(Z_=!0,setTimeout(()=>{throw r},0)),r}}return n}class oI{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,me.Z)(function*(){t.task=null;try{ke("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){qa(r)?ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield _o(r)}yield t.et(6e4)}))}}class Yb{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let s=t,u=!0;return te.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return ke("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,s).next(m=>{s-=m,r.add(l)});u=!1})).next(()=>t-s)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(s,u)).next(m=>(ke("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((s,u)=>{const l=iI(u);Bp(l,r)>0&&(r=l)}),new rs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let is=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ch(n){return null==n}function Dh(n){return 0===n&&1/n==-1/0}function K_(n){return"number"==typeof n&&Number.isInteger(n)&&!Dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function bi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aI(e)),e=Qb(n.get(t),e);return aI(e)}function Qb(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function aI(n){return n+"\x01\x01"}function zs(n){const e=n.length;if(at(e>=2),2===e)return at("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&Je(),n.charAt(l+1)){case"\x01":const m=n.substring(u,l);let w;0===s.length?w=m:(s+=m,w=s,s=""),r.push(w);break;case"\x10":s+=n.substring(u,l),s+="\0";break;case"\x11":s+=n.substring(u,l+1);break;default:Je()}u=l+2}return new tn(r)}const wy=["userId","batchId"];function $p(n,e){return[n,bi(e)]}function Y_(n,e,t){return[n,bi(e),t]}const uI={},cI=["prefixPath","collectionGroup","readTime","documentId"],lI=["prefixPath","collectionGroup","documentId"],dI=["collectionGroup","readTime","prefixPath","documentId"],hI=["canonicalId","targetId"],fI=["targetId","path"],LS=["path","targetId"],Jb=["collectionId","parent"],Xb=["indexId","uid"],pI=["uid","sequenceNumber"],eT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lr=["indexId","uid","orderedDocumentKey"],gI=["userId","collectionPath","documentId"],tT=["userId","collectionPath","largestBatchId"],nT=["userId","collectionGroup","largestBatchId"],Q_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rT=[...Q_,"documentOverlays"],J_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],X_=J_,bh=[...X_,"indexConfiguration","indexState","indexEntries"];class e0 extends sI{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Kr(n,e){const t=Ze(n);return Ms.M(t.ht,e)}function t0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function n0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class zn{constructor(e,t){this.comparator=e,this.root=t||Vr.EMPTY}insert(e,t){return new zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hp(this.root,e,this.comparator,!0)}}class Hp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Vr.RED,this.left=s??Vr.EMPTY,this.right=u??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Vr(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Vr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Vr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(e){this.comparator=e,this.data=new zn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mI(this.data.getIterator())}getIteratorFrom(e){return new mI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rn(this.comparator);return t.data=e,t}}class mI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Th(n){return n.hasNext()?n.getNext():void 0}class Xn{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new rn(Jn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class qs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qs("Invalid base64 string: "+s):s}}(e);return new Cr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const yI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(n){if(at(!!n),"string"==typeof n){let e=0;const t=yI.exec(n);if(at(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ur(n.seconds),nanos:ur(n.nanos)}}function ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wa(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function Ey(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ah(n){const e=n.mapValue.fields.__previous_value__;return Ey(e)?Ah(e):e}function Za(n){const e=mc(n.mapValue.fields.__local_write_time__.timestampValue);return new En(e.seconds,e.nanos)}class iT{constructor(e,t,r,s,u,l,m,w,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=w,this.useFetchStreams=b}}class Ka{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ka("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ka&&e.projectId===this.projectId&&e.database===this.database}}const yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gp={nullValue:"NULL_VALUE"};function Ya(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ey(n)?4:vI(n)?9007199254740991:10:Je()}function Rs(n,e){if(n===e)return!0;const t=Ya(n);if(t!==Ya(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Za(n).isEqual(Za(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=mc(r.timestampValue),l=mc(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Wa(n.bytesValue).isEqual(Wa(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return ur(r.geoPointValue.latitude)===ur(s.geoPointValue.latitude)&&ur(r.geoPointValue.longitude)===ur(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ur(r.integerValue)===ur(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=ur(r.doubleValue),l=ur(s.doubleValue);return u===l?Dh(u)===Dh(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return vo(n.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(t0(u)!==t0(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!Rs(u[m],l[m])))return!1;return!0}(n,e);default:return Je()}var s}function zp(n,e){return void 0!==(n.values||[]).find(t=>Rs(t,e))}function Qa(n,e){if(n===e)return 0;const t=Ya(n),r=Ya(e);if(t!==r)return Pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=ur(s.integerValue||s.doubleValue),m=ur(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return r0(n.timestampValue,e.timestampValue);case 4:return r0(Za(n),Za(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(s,u){const l=Wa(s),m=Wa(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),m=u.split("/");for(let w=0;w<l.length&&w<m.length;w++){const b=Pt(l[w],m[w]);if(0!==b)return b}return Pt(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=Pt(ur(s.latitude),ur(u.latitude));return 0!==l?l:Pt(ur(s.longitude),ur(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],m=u.values||[];for(let w=0;w<l.length&&w<m.length;++w){const b=Qa(l[w],m[w]);if(b)return b}return Pt(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===yc.mapValue&&u===yc.mapValue)return 0;if(s===yc.mapValue)return 1;if(u===yc.mapValue)return-1;const l=s.fields||{},m=Object.keys(l),w=u.fields||{},b=Object.keys(w);m.sort(),b.sort();for(let x=0;x<m.length&&x<b.length;++x){const R=Pt(m[x],b[x]);if(0!==R)return R;const B=Qa(l[m[x]],w[b[x]]);if(0!==B)return B}return Pt(m.length,b.length)}(n.mapValue,e.mapValue);default:throw Je()}}function r0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=mc(n),r=mc(e),s=Pt(t.seconds,r.seconds);return 0!==s?s:Pt(t.nanos,r.nanos)}function jl(n){return Sh(n)}function Sh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=mc(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wa(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=Sh(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of s)l?l=!1:u+=",",u+=`${m}:${Sh(r.fields[m])}`;return u+"}"}(n.mapValue):Je();var e}function vc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Iy(n){return!!n&&"integerValue"in n}function xh(n){return!!n&&"arrayValue"in n}function s0(n){return!!n&&"nullValue"in n}function o0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wp(n){return!!n&&"mapValue"in n}function Mh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function sT(n){return"nullValue"in n?Gp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?vc(Ka.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Je()}function oT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?vc(Ka.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yc:Je()}function _I(n,e){const t=Qa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function wI(n,e){const t=Qa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mh(t)}setAll(e){let t=Jn.emptyPath(),r={},s=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=m.popLast()}l?r[m.lastSegment()]=Mh(l):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());Wp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Wp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){gc(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new di(Mh(this.value))}}function EI(n){const e=[];return gc(n.fields,(t,r)=>{const s=new Jn([t]);if(Wp(r)){const u=EI(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new Xn(e)}class qn{constructor(e,t,r,s,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new qn(e,0,ht.min(),ht.min(),ht.min(),di.empty(),0)}static newFoundDocument(e,t,r,s){return new qn(e,1,t,ht.min(),r,s,0)}static newNoDocument(e,t){return new qn(e,2,t,ht.min(),ht.min(),di.empty(),0)}static newUnknownDocument(e,t){return new qn(e,3,t,ht.min(),ht.min(),di.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _c{constructor(e,t){this.position=e,this.inclusive=t}}function II(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?Ye.comparator(Ye.fromName(l.referenceValue),t.key):Qa(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function CI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rs(n.position[t],e.position[t]))return!1;return!0}class Rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function aT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class DI{}class Yt extends DI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new bI(e,t,r):"array-contains"===t?new SI(e,r):"in"===t?new wc(e,r):"not-in"===t?new uT(e,r):"array-contains-any"===t?new cT(e,r):new Yt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new TI(e,r):new AI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Qa(t,this.value)):null!==t&&Ya(this.value)===Ya(t)&&this.matchesComparison(Qa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends DI{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new In(e,t)}matches(e){return Nh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nh(n){return"and"===n.op}function a0(n){return"or"===n.op}function Cy(n){return u0(n)&&Nh(n)}function u0(n){for(const e of n.filters)if(e instanceof In)return!1;return!0}function Dy(n){if(n instanceof Yt)return n.field.canonicalString()+n.op.toString()+jl(n.value);if(Cy(n))return n.filters.map(e=>Dy(e)).join(",");{const e=n.filters.map(t=>Dy(t)).join(",");return`${n.op}(${e})`}}function c0(n,e){return n instanceof Yt?(t=n,(r=e)instanceof Yt&&t.op===r.op&&t.field.isEqual(r.field)&&Rs(t.value,r.value)):n instanceof In?function(t,r){return r instanceof In&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&c0(u,r.filters[l]),!0)}(n,e):void Je();var t,r}function l0(n,e){const t=n.filters.concat(e);return In.create(t,n.op)}function d0(n){return n instanceof Yt?`${(e=n).field.canonicalString()} ${e.op} ${jl(e.value)}`:n instanceof In?function(e){return e.op.toString()+" {"+e.getFilters().map(d0).join(" ,")+"}"}(n):"Filter";var e}class bI extends Yt{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class TI extends Yt{constructor(e,t){super(e,"in",t),this.keys=h0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AI extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=h0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function h0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class SI extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xh(t)&&zp(t.arrayValue,this.value)}}class wc extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zp(this.value.arrayValue,t)}}class uT extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zp(this.value.arrayValue,t)}}class cT extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zp(this.value.arrayValue,r))}}class Ph{constructor(e,t=null,r=[],s=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function xI(n,e=null,t=[],r=[],s=null,u=null,l=null){return new Ph(n,e,t,r,s,u,l)}function Ja(n){const e=Ze(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>jl(r)).join(",")),e.dt=t}return e.dt}function by(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!c0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CI(n.startAt,e.startAt)&&CI(n.endAt,e.endAt)}function Zp(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Kp(n,e){return n.filters.filter(t=>t instanceof Yt&&t.field.isEqual(e))}function lT(n,e,t){let r=Gp,s=!0;for(const u of Kp(n,e)){let l=Gp,m=!0;switch(u.op){case"<":case"<=":l=sT(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=Gp}_I({value:r,inclusive:s},{value:l,inclusive:m})<0&&(r=l,s=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];_I({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}return{value:r,inclusive:s}}function At(n,e,t){let r=yc,s=!0;for(const u of Kp(n,e)){let l=yc,m=!0;switch(u.op){case">=":case">":l=oT(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=yc}wI({value:r,inclusive:s},{value:l,inclusive:m})>0&&(r=l,s=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];wI({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}return{value:r,inclusive:s}}class Xa{constructor(e,t=null,r=[],s=[],u=null,l="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=w,this.wt=null,this._t=null}}function MI(n,e,t,r,s,u,l,m){return new Xa(n,e,t,r,s,u,l,m)}function Oh(n){return new Xa(n)}function $l(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function f0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Hl(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function kh(n){return null!==n.collectionGroup}function Tn(n){const e=Ze(n);if(null===e.wt){e.wt=[];const t=Hl(e),r=f0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Rh(t)),e.wt.push(new Rh(Jn.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Rh(Jn.keyField(),u))}}}return e.wt}function ss(n){const e=Ze(n);if(!e._t)if("F"===e.limitType)e._t=xI(e.path,e.collectionGroup,Tn(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Tn(e))t.push(new Rh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new _c(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new _c(e.startAt.position,e.startAt.inclusive):null;e._t=xI(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function Ty(n,e){e.getFirstInequalityField(),Hl(n);const t=n.filters.concat([e]);return new Xa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yp(n,e,t){return new Xa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qp(n,e){return by(ss(n),ss(e))&&n.limitType===e.limitType}function p0(n){return`${Ja(ss(n))}|lt:${n.limitType}`}function Ay(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>d0(r)).join(", ")}]`),Ch(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>jl(r)).join(",")),`Target(${t})`}(ss(n))}; limitType=${n.limitType})`}function Fh(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Ye.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of Tn(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const m=II(s,u,l);return s.inclusive?m<=0:m<0}(t.startAt,Tn(t),r)||t.endAt&&!function(s,u,l){const m=II(s,u,l);return s.inclusive?m>=0:m>0}(t.endAt,Tn(t),r)));var t,r}function g0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RI(n){return(e,t)=>{let r=!1;for(const s of Tn(n)){const u=dT(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function dT(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(s,u,l){const m=u.data.field(s),w=l.data.field(s);return null!==m&&null!==w?Qa(m,w):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}class eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){gc(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return n0(this.inner)}size(){return this.innerSize}}const Jp=new zn(Ye.comparator);function os(){return Jp}const NI=new zn(Ye.comparator);function Xp(...n){let e=NI;for(const t of n)e=e.insert(t.key,t);return e}function eg(n){let e=NI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Eo(){return Lh()}function m0(){return Lh()}function Lh(){return new eu(n=>n.toString(),(n,e)=>n.isEqual(e))}const hT=new zn(Ye.comparator),tg=new rn(Ye.comparator);function Vt(...n){let e=tg;for(const t of n)e=e.add(t);return e}const fT=new rn(Pt);function y0(){return fT}function PI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function v0(n){return{integerValue:""+n}}function _0(n,e){return K_(e)?v0(e):PI(n,e)}class ng{constructor(){this._=void 0}}function pT(n,e,t){return n instanceof Vh?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ey(s)&&(s=Ah(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Uh?gT(n,e):n instanceof Bh?mT(n,e):function(r,s){const u=kI(r,s),l=rg(u)+rg(r.gt);return Iy(u)&&Iy(r.gt)?v0(l):PI(r.serializer,l)}(n,e)}function OI(n,e,t){return n instanceof Uh?gT(n,e):n instanceof Bh?mT(n,e):t}function kI(n,e){return n instanceof Gl?Iy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vh extends ng{}class Uh extends ng{constructor(e){super(),this.elements=e}}function gT(n,e){const t=FI(e);for(const r of n.elements)t.some(s=>Rs(s,r))||t.push(r);return{arrayValue:{values:t}}}class Bh extends ng{constructor(e){super(),this.elements=e}}function mT(n,e){let t=FI(e);for(const r of n.elements)t=t.filter(s=>!Rs(s,r));return{arrayValue:{values:t}}}class Gl extends ng{constructor(e,t){super(),this.serializer=e,this.gt=t}}function rg(n){return ur(n.integerValue||n.doubleValue)}function FI(n){return xh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ig{constructor(e,t){this.field=e,this.transform=t}}class sg{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xy{}function VI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $h(n.key,Zn.none()):new ra(n.key,n.data,Zn.none());{const t=n.data,r=di.empty();let s=new rn(Jn.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new tu(n.key,r,new Xn(s.toArray()),Zn.none())}}function yT(n,e,t){n instanceof ra?function(r,s,u){const l=r.value.clone(),m=BI(r.fieldTransforms,s,u.transformResults);l.setAll(m),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof tu?function(r,s,u){if(!Sy(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=BI(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(w0(r)),m.setAll(l),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function jh(n,e,t,r){return n instanceof ra?function(s,u,l,m){if(!Sy(s.precondition,u))return l;const w=s.value.clone(),b=E0(s.fieldTransforms,m,u);return w.setAll(b),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof tu?function(s,u,l,m){if(!Sy(s.precondition,u))return l;const w=E0(s.fieldTransforms,m,u),b=u.data;return b.setAll(w0(s)),b.setAll(w),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(x=>x.field))}(n,e,t,r):(l=t,Sy(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function vT(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=kI(r.transform,s||null);null!=u&&(null===t&&(t=di.empty()),t.set(r.field,u))}return t||null}function UI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&vo(t,r,(s,u)=>function LI(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Uh&&r instanceof Uh||t instanceof Bh&&r instanceof Bh?vo(t.elements,r.elements,Rs):t instanceof Gl&&r instanceof Gl?Rs(t.gt,r.gt):t instanceof Vh&&r instanceof Vh);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ra extends xy{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class tu extends xy{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function w0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function BI(n,e,t){const r=new Map;at(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,m=e.data.field(u.field);r.set(u.field,OI(l,m,t[s]))}return r}function E0(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,pT(u,l,e))}return r}class $h extends xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class My extends xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I0{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&yT(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=jh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=jh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=m0();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(s.key)?null:m;const w=VI(l,m);null!==w&&r.set(s.key,w),l.isValidDocument()||l.convertToNoDocument(ht.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vt())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(t,r)=>UI(t,r))&&vo(this.baseMutations,e.baseMutations,(t,r)=>UI(t,r))}}class og{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){at(e.mutations.length===r.length);let s=hT;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new og(e,t,r,s)}}class C0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $I{constructor(e,t){this.count=e,this.unchangedNames=t}}var Dr,sn;function HI(n){switch(n){default:return Je();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function Ry(n){if(void 0===n)return dr("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Dr.OK:return oe.OK;case Dr.CANCELLED:return oe.CANCELLED;case Dr.UNKNOWN:return oe.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return oe.INTERNAL;case Dr.UNAVAILABLE:return oe.UNAVAILABLE;case Dr.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Dr.NOT_FOUND:return oe.NOT_FOUND;case Dr.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Dr.ABORTED:return oe.ABORTED;case Dr.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Dr.DATA_LOSS:return oe.DATA_LOSS;default:return Je()}}(sn=Dr||(Dr={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class D0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ag}static getOrCreateInstance(){return null===ag&&(ag=new D0),ag}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ag=null;function GI(){return new TextEncoder}const _T=new vh([4294967295,4294967295],0);function zI(n){const e=GI().encode(n),t=new Wb;return t.update(e),new Uint8Array(t.digest())}function qI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vh([t,r],0),new vh([s,u],0)]}class b0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ug(`Invalid padding: ${t}`);if(r<0)throw new ug(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ug(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new ug(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=vh.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(vh.fromNumber(r)));return 1===s.compare(_T)&&(s=new vh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=zI(e),[r,s]=qI(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new b0(u,s,t);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const t=zI(e),[r,s]=qI(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ug extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cg{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,lg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cg(ht.min(),s,new zn(Pt),os(),Vt())}}class lg{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new lg(r,t,Vt(),Vt(),Vt())}}class dg{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class T0{constructor(e,t){this.targetId=e,this.Vt=t}}class WI{constructor(e,t,r=Cr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class ZI{constructor(){this.St=0,this.Dt=QI(),this.Ct=Cr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Vt(),t=Vt(),r=Vt();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Je()}}),new lg(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=QI()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class KI{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=os(),this.zt=YI(),this.Wt=new zn(Pt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(Zp(l))if(0===s){const m=new Ye(l.path);this.Yt(r,m,qn.newNoDocument(m,ht.min()))}else at(1===s);else{const m=this.ie(r);if(m!==s){const w=this.re(e,m);0!==w&&(this.ee(r),this.Wt=this.Wt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=D0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,x,R){var B,K,ve,Ve,Oe,_t;const Rt={localCacheCount:x,existenceFilterCount:R.count},St=R.unchangedNames;return St&&(Rt.bloomFilter={applied:0===b,hashCount:null!==(B=St?.hashCount)&&void 0!==B?B:0,bitmapLength:null!==(Ve=null===(ve=null===(K=St?.bits)||void 0===K?void 0:K.bitmap)||void 0===ve?void 0:ve.length)&&void 0!==Ve?Ve:0,padding:null!==(_t=null===(Oe=St?.bits)||void 0===Oe?void 0:Oe.padding)&&void 0!==_t?_t:0}),Rt}(w,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let w,b;try{w=Wa(u).toUint8Array()}catch(x){if(x instanceof qs)return Gs("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{b=new b0(w,l,m)}catch(x){return Gs(x instanceof ug?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===b.It?1:s!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&Zp(m.target)){const w=new Ye(m.target.path);null!==this.jt.get(w)||this.ae(l,w)||this.Yt(l,w,qn.newNoDocument(w,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Vt();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(w=>{const b=this.se(w);return!b||"TargetPurposeLimboResolution"===b.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new cg(e,t,this.Wt,this.jt,r);return this.jt=os(),this.zt=YI(),this.Wt=new zn(Pt),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ZI,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new rn(Pt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ZI),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function YI(){return new zn(Ye.comparator)}function QI(){return new zn(Ye.comparator)}const wT={asc:"ASCENDING",desc:"DESCENDING"},A0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S0={and:"AND",or:"OR"};class JI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hg(n,e){return n.useProto3Json||Ch(e)?e:{value:e}}function Hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function x0(n,e){return Hh(n,e.toTimestamp())}function fr(n){return at(!!n),ht.fromTimestamp(function(e){const t=mc(e);return new En(t.seconds,t.nanos)}(n))}function Ny(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function zl(n){const e=tn.fromString(n);return at(cC(e)),e}function Gh(n,e){return Ny(n.databaseId,e.path)}function ia(n,e){const t=zl(e);if(t.get(1)!==n.databaseId.projectId)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(tC(t))}function eC(n,e){return Ny(n.databaseId,e)}function M0(n){const e=zl(n);return 4===e.length?tn.emptyPath():tC(e)}function ql(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tC(n){return at(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Py(n,e,t){return{name:Gh(n,e),fields:t.value.mapValue.fields}}function nC(n,e,t){const r=ia(n,e.name),s=fr(e.updateTime),u=e.createTime?fr(e.createTime):ht.min(),l=new di({mapValue:{fields:e.fields}}),m=qn.newFoundDocument(r,s,u,l);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function zh(n,e){let t;if(e instanceof ra)t={update:Py(n,e.key,e.value)};else if(e instanceof $h)t={delete:Gh(n,e.key)};else if(e instanceof tu)t={update:Py(n,e.key,e.data),updateMask:US(e.fieldMask)};else{if(!(e instanceof My))return Je();t={verify:Gh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof Vh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Uh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Bh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Gl)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:x0(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Je()),t;var s}function Oy(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Zn.updateTime(fr(s.updateTime)):void 0!==s.exists?Zn.exists(s.exists):Zn.none():Zn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,l){let m=null;"setToServerValue"in l?(at("REQUEST_TIME"===l.setToServerValue),m=new Vh):"appendMissingElements"in l?m=new Uh(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new Bh(l.removeAllFromArray.values||[]):"increment"in l?m=new Gl(u,l.increment):Je();const w=Jn.fromServerFormat(l.fieldPath);return new ig(w,m)}(n,s)):[];var s;if(e.update){const s=ia(n,e.update.name),u=new di({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Xn((e.updateMask.fieldPaths||[]).map(b=>Jn.fromServerFormat(b)));return new tu(s,u,l,t,r)}return new ra(s,u,t,r)}if(e.delete){const s=ia(n,e.delete);return new $h(s,t)}if(e.verify){const s=ia(n,e.verify);return new My(s,t)}return Je()}function N0(n,e){return{documents:[eC(n,e.path)]}}function P0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=eC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=eC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(w){if(0!==w.length)return IT(In.create(w,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(w){if(0!==w.length)return w.map(b=>{return{field:Ec((x=b).field),direction:aC(x.dir)};var x})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=hg(n,e.limit);var m,w;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function sC(n){let e=M0(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){at(1===r);const x=t.from[0];x.allDescendants?s=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=function(x){const R=oC(x);return R instanceof In&&Cy(R)?R.getFilters():[R]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(x=>{return new Rh(qh((R=x).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(x){let R;return R="object"==typeof x?x.value:x,Ch(R)?null:R}(t.limit));let w=null;var x;t.startAt&&(w=new _c((x=t.startAt).values||[],!!x.before));let b=null;return t.endAt&&(b=function(x){return new _c(x.values||[],!x.before)}(t.endAt)),MI(e,s,l,u,m,"F",w,b)}function oC(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qh(e.unaryFilter.field);return Yt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=qh(e.unaryFilter.field);return Yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=qh(e.unaryFilter.field);return Yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qh(e.unaryFilter.field);return Yt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(n):void 0!==n.fieldFilter?Yt.create(qh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return In.create(e.compositeFilter.filters.map(t=>oC(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Je()}}(e.compositeFilter.op))}(n):Je();var e}function aC(n){return wT[n]}function VS(n){return A0[n]}function uC(n){return S0[n]}function Ec(n){return{fieldPath:n.canonicalString()}}function qh(n){return Jn.fromServerFormat(n.fieldPath)}function IT(n){return n instanceof Yt?function(e){if("=="===e.op){if(o0(e.value))return{unaryFilter:{field:Ec(e.field),op:"IS_NAN"}};if(s0(e.value))return{unaryFilter:{field:Ec(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(o0(e.value))return{unaryFilter:{field:Ec(e.field),op:"IS_NOT_NAN"}};if(s0(e.value))return{unaryFilter:{field:Ec(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ec(e.field),op:VS(e.op),value:e.value}}}(n):n instanceof In?function(e){const t=e.getFilters().map(r=>IT(r));return 1===t.length?t[0]:{compositeFilter:{op:uC(e.op),filters:t}}}(n):Je()}function US(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class nu{constructor(e,t,r,s,u=ht.min(),l=ht.min(),m=Cr.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=w}withSequenceNumber(e){return new nu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lC{constructor(e){this.fe=e}}function O0(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ky(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Gh(s=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Hh(s,u.version.toTimestamp()),createTime:Hh(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Wl(e.version)};else{if(!e.isUnknownDocument())return Je();r.unknownDocument={path:t.path.toArray(),version:Wl(e.version)}}var s,u;return r}function ky(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Wl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zl(n){const e=new En(n.seconds,n.nanoseconds);return ht.fromTimestamp(e)}function Kl(n,e){const t=(e.baseMutations||[]).map(u=>Oy(n.fe,u));for(let u=0;u<e.mutations.length-1;++u){const l=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(l.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Oy(n.fe,u)),s=En.fromMillis(e.localWriteTimeMs);return new I0(e.batchId,s,t,r)}function fg(n){const e=Zl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Zl(n.lastLimboFreeSnapshotVersion):ht.min();let r;var s;return void 0!==n.query.documents?(at(1===(s=n.query).documents.length),r=ss(Oh(M0(s.documents[0])))):r=ss(sC(n.query)),new nu(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Cr.fromBase64String(n.resumeToken))}function hC(n,e){const t=Wl(e.snapshotVersion),r=Wl(e.lastLimboFreeSnapshotVersion);let s;s=Zp(e.target)?N0(n.fe,e.target):P0(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ja(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function k0(n){const e=sC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Yp(e,e.limit,"L"):e}function Yl(n,e){return new C0(e.largestBatchId,Oy(n.fe,e.overlayMutation))}function F0(n,e){const t=e.path.lastSegment();return[n,bi(e.path.popLast()),t]}function L0(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Wl(r.readTime),documentKey:bi(r.documentKey.path),largestBatchId:r.largestBatchId}}class fC{getBundleMetadata(e,t){return V0(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Zl(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return V0(e).put({bundleId:(r=t).id,createTime:Wl(fr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return U0(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:k0(s.bundledQuery),readTime:Zl(s.readTime)};var s})}saveNamedQuery(e,t){return U0(e).put({name:(r=t).name,readTime:Wl(fr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function V0(n){return Kr(n,"bundles")}function U0(n){return Kr(n,"namedQueries")}class pg{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new pg(e,t.uid||"")}getOverlay(e,t){return gg(e).get(F0(this.userId,t)).next(r=>r?Yl(this.serializer,r):null)}getOverlays(e,t){const r=Eo();return te.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,l)=>{const m=new C0(t,l);s.push(this.we(e,m))}),te.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(l=>s.add(bi(l.getCollectionPath())));const u=[];return s.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(gg(e).J("collectionPathOverlayIndex",m))}),te.waitFor(u)}getOverlaysForCollection(e,t,r){const s=Eo(),u=bi(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return gg(e).j("collectionPathOverlayIndex",l).next(m=>{for(const w of m){const b=Yl(this.serializer,w);s.set(b.getKey(),b)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=Eo();let l;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gg(e).X({index:"collectionGroupOverlayIndex",range:m},(w,b,x)=>{const R=Yl(this.serializer,b);u.size()<s||R.largestBatchId===l?(u.set(R.getKey(),R),l=R.largestBatchId):x.done()}).next(()=>u)}we(e,t){return gg(e).put(function(r,s,u){const[l,m,w]=F0(s,u.mutation.key);return{userId:s,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:zh(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function gg(n){return Kr(n,"documentOverlays")}class Wh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ur(e.integerValue));else if("doubleValue"in e){const r=ur(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Dh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Wa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?vI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Je()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),Ye.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function pC(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function gC(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=pC(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Wh.Ve=new Wh;class CT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=t.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=t.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const t=this.Fe(e),r=gC(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Le(e){const t=this.Fe(e),r=gC(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class DT{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class bT{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class ru{constructor(){this.je=new CT,this.ze=new DT(this.je),this.We=new bT(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ql{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ql(this.indexId,this.documentKey,this.arrayValue,r)}}function sa(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Io(n.arrayValue,e.arrayValue),0!==t?t:(t=Io(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function Io(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class TT{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){at(e.collectionGroup===this.collectionId);const t=yy(e);if(void 0!==t&&!this.en(t))return!1;const r=fc(e);let s=0,u=0;for(;s<r.length&&this.en(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Ze){const l=r[s];if(!this.nn(this.Ze,l)||!this.sn(this.Ye[u++],l))return!1;++s}for(;s<r.length;++s){const l=r[s];if(u>=this.Ye.length||!this.sn(this.Ye[u++],l))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Fy(n){var e,t;if(at(n instanceof Yt||n instanceof In),n instanceof Yt){if(n instanceof wc){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Yt.create(n.field,"==",u)))||[];return In.create(s,"or")}return n}const r=n.filters.map(s=>Fy(s));return In.create(r,n.op)}function mg(n){if(0===n.getFilters().length)return[];const e=Zh(Fy(n));return at(mC(e)),B0(e)||j0(e)?[e]:e.getFilters()}function B0(n){return n instanceof Yt}function j0(n){return n instanceof In&&Cy(n)}function mC(n){return B0(n)||j0(n)||function(e){if(e instanceof In&&a0(e)){for(const t of e.getFilters())if(!B0(t)&&!j0(t))return!1;return!0}return!1}(n)}function Zh(n){if(at(n instanceof Yt||n instanceof In),n instanceof Yt)return n;if(1===n.filters.length)return Zh(n.filters[0]);const e=n.filters.map(r=>Zh(r));let t=In.create(e,n.op);return t=Ly(t),mC(t)?t:(at(t instanceof In),at(Nh(t)),at(t.filters.length>1),t.filters.reduce((r,s)=>Kh(r,s)))}function Kh(n,e){let t;return at(n instanceof Yt||n instanceof In),at(e instanceof Yt||e instanceof In),t=n instanceof Yt?e instanceof Yt?In.create([n,e],"and"):yC(n,e):e instanceof Yt?yC(e,n):function(r,s){if(at(r.filters.length>0&&s.filters.length>0),Nh(r)&&Nh(s))return l0(r,s.getFilters());const u=a0(r)?r:s,l=a0(r)?s:r,m=u.filters.map(w=>Kh(w,l));return In.create(m,"or")}(n,e),Ly(t)}function yC(n,e){if(Nh(e))return l0(e,n.getFilters());{const t=e.filters.map(r=>Kh(n,r));return In.create(t,"or")}}function Ly(n){if(at(n instanceof Yt||n instanceof In),n instanceof Yt)return n;const e=n.getFilters();if(1===e.length)return Ly(e[0]);if(u0(n))return n;const t=e.map(s=>Ly(s)),r=[];return t.forEach(s=>{s instanceof Yt?r.push(s):s instanceof In&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:In.create(r,n.op)}class vC{constructor(){this.rn=new Vy}addToCollectionParentIndex(e,t){return this.rn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(rs.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class Vy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new rn(tn.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rn(tn.comparator)).toArray()}}const Yh=new Uint8Array(0);class _C{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Vy,this.un=new eu(r=>Ja(r),(r,s)=>by(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:bi(s)};return wC(e).put(u)}return te.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[Bl(t),""],!1,!0);return wC(e).j(s).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(zs(l.parent))}return r})}addFieldIndex(e,t){const r=$0(e),s={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete s.indexId;const u=r.add(s);if(t.indexState){const l=Jl(e);return u.next(m=>{l.put(L0(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=$0(e),s=Jl(e),u=yg(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=yg(e);let s=!0;const u=new Map;return te.forEach(this.cn(t),l=>this.an(e,l).next(m=>{s&&(s=!!m),u.set(l,m)})).next(()=>{if(s){let l=Vt();const m=[];return te.forEach(u,(w,b)=>{var x;ke("IndexedDbIndexManager",`Using index ${x=w,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(St=>`${St.fieldPath}:${St.kind}`).join(",")}`} to execute ${Ja(t)}`);const R=function(St,Bt){const Zt=yy(Bt);if(void 0===Zt)return null;for(const dn of Kp(St,Zt.fieldPath))switch(dn.op){case"array-contains-any":return dn.value.arrayValue.values||[];case"array-contains":return[dn.value]}return null}(b,w),B=function(St,Bt){const Zt=new Map;for(const dn of fc(Bt))for(const ls of Kp(St,dn.fieldPath))switch(ls.op){case"==":case"in":Zt.set(dn.fieldPath.canonicalString(),ls.value);break;case"not-in":case"!=":return Zt.set(dn.fieldPath.canonicalString(),ls.value),Array.from(Zt.values())}return null}(b,w),K=function(St,Bt){const Zt=[];let dn=!0;for(const ls of fc(Bt)){const Kg=0===ls.kind?lT(St,ls.fieldPath,St.startAt):At(St,ls.fieldPath,St.startAt);Zt.push(Kg.value),dn&&(dn=Kg.inclusive)}return new _c(Zt,dn)}(b,w),ve=function(St,Bt){const Zt=[];let dn=!0;for(const ls of fc(Bt)){const Kg=0===ls.kind?At(St,ls.fieldPath,St.endAt):lT(St,ls.fieldPath,St.endAt);Zt.push(Kg.value),dn&&(dn=Kg.inclusive)}return new _c(Zt,dn)}(b,w),Ve=this.hn(w,b,K),Oe=this.hn(w,b,ve),_t=this.ln(w,b,B),Rt=this.fn(w.indexId,R,Ve,K.inclusive,Oe,ve.inclusive,_t);return te.forEach(Rt,St=>r.H(St,t.limit).next(Bt=>{Bt.forEach(Zt=>{const dn=Ye.fromSegments(Zt.documentKey);l.has(dn)||(l=l.add(dn),m.push(dn))})}))}).next(()=>m)}return te.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:mg(In.create(e.filters,"and")).map(r=>xI(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,s,u,l,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),b=w/(null!=t?t.length:1),x=[];for(let R=0;R<w;++R){const B=t?this.dn(t[R/b]):Yh,K=this.wn(e,B,r[R%b],s),ve=this._n(e,B,u[R%b],l),Ve=m.map(Oe=>this.wn(e,B,Oe,!0));x.push(...this.createRange(K,ve,Ve))}return x}wn(e,t,r,s){const u=new Ql(e,Ye.empty(),t,r);return s?u:u.Je()}_n(e,t,r,s){const u=new Ql(e,Ye.empty(),t,r);return s?u.Je():u}an(e,t){const r=new TT(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let l=null;for(const m of u)r.tn(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,t){let r=2;const s=this.cn(t);return te.forEach(s,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(m){let w=new rn(Jn.comparator),b=!1;for(const x of m.filters)for(const R of x.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?b=!0:w=w.add(R.field));for(const x of m.orderBy)x.field.isKeyField()||(w=w.add(x.field));return w.size+(b?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}mn(e,t){const r=new ru;for(const s of fc(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const l=r.He(s.kind);Wh.Ve._e(u,l)}return r.Qe()}dn(e){const t=new ru;return Wh.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new ru;return Wh.Ve._e(vc(this.databaseId,t),r.He(function(s){const u=fc(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let s=[];s.push(new ru);let u=0;for(const l of fc(e)){const m=r[u++];for(const w of s)if(this.yn(t,l.fieldPath)&&xh(m))s=this.pn(s,l,m);else{const b=w.He(l.kind);Wh.Ve._e(m,b)}}return this.In(s)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const s=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of s){const w=new ru;w.seed(m.Qe()),Wh.Ve._e(l,w.He(t.kind)),u.push(w)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof Yt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=$0(e),s=Jl(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const l=[];return te.forEach(u,m=>s.get([m.indexId,this.uid]).next(w=>{l.push(function(b,x){const R=x?new Up(x.sequenceNumber,new rs(Zl(x.readTime),new Ye(zs(x.documentKey)),x.largestBatchId)):Up.empty(),B=b.fields.map(([K,ve])=>new Vp(Jn.fromServerFormat(K),ve));return new Lp(b.indexId,b.collectionGroup,B,R)}(m,w))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Pt(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=$0(e),u=Jl(e);return this.Tn(e).next(l=>s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>te.forEach(m,w=>u.put(L0(w.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return te.forEach(t,(s,u)=>{const l=r.get(s.collectionGroup);return(l?te.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next(m=>(r.set(s.collectionGroup,m),te.forEach(m,w=>this.En(e,s,w).next(b=>{const x=this.An(u,w);return b.isEqual(x)?te.resolve():this.vn(e,u,w,b,x)}))))})}Rn(e,t,r,s){return yg(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,s){return yg(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const s=yg(e);let u=new rn(sa);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,m)=>{u=u.add(new Ql(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}An(e,t){let r=new rn(sa);const s=this.mn(t,e);if(null==s)return r;const u=yy(t);if(null!=u){const l=e.data.field(u.fieldPath);if(xh(l))for(const m of l.arrayValue.values||[])r=r.add(new Ql(t.indexId,e.key,this.dn(m),s))}else r=r.add(new Ql(t.indexId,e.key,Yh,s));return r}vn(e,t,r,s,u){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(m,w,b,x,R){const B=m.getIterator(),K=w.getIterator();let ve=Th(B),Ve=Th(K);for(;ve||Ve;){let Oe=!1,_t=!1;if(ve&&Ve){const Rt=b(ve,Ve);Rt<0?_t=!0:Rt>0&&(Oe=!0)}else null!=ve?_t=!0:Oe=!0;Oe?(x(Ve),Ve=Th(K)):_t?(R(ve),ve=Th(B)):(ve=Th(B),Ve=Th(K))}}(s,u,sa,m=>{l.push(this.Rn(e,t,r,m))},m=>{l.push(this.Pn(e,t,r,m))}),te.waitFor(l)}Tn(e){let t=1;return Jl(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,m)=>sa(l,m)).filter((l,m,w)=>!m||0!==sa(l,w[m-1]));const s=[];s.push(e);for(const l of r){const m=sa(l,e),w=sa(l,t);if(0===m)s[0]=e.Je();else if(m>0&&w<0)s.push(l),s.push(l.Je());else if(w>0)break}s.push(t);const u=[];for(let l=0;l<s.length;l+=2){if(this.bn(s[l],s[l+1]))return[];u.push(IDBKeyRange.bound([s[l].indexId,this.uid,s[l].arrayValue,s[l].directionalValue,Yh,[]],[s[l+1].indexId,this.uid,s[l+1].arrayValue,s[l+1].directionalValue,Yh,[]]))}return u}bn(e,t){return sa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Uy)}getMinOffset(e,t){return te.mapArray(this.cn(t),r=>this.an(e,r).next(s=>s||Je())).next(Uy)}}function wC(n){return Kr(n,"collectionParents")}function yg(n){return Kr(n,"indexEntries")}function $0(n){return Kr(n,"indexConfiguration")}function Jl(n){return Kr(n,"indexState")}function Uy(n){at(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Bp(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new rs(e.readTime,e.documentKey,t)}const H0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yr(e,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function By(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let m=0;const w=r.X({range:l},(x,R,B)=>(m++,B.delete()));u.push(w.next(()=>{at(1===m)}));const b=[];for(const x of t.mutations){const R=Y_(e,x.key.path,t.batchId);u.push(s.delete(R)),b.push(x.key)}return te.waitFor(u).next(()=>b)}function jy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je();e=n.noDocument}return JSON.stringify(e).length}Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(41943040,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);class $y{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,t,r,s){at(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new $y(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).X({index:"userMutationsIndex",range:r},(s,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=Xl(e),l=Ic(e);return l.add({}).next(m=>{at("number"==typeof m);const w=new I0(m,t,r,s),b=function(B,K,ve){const Ve=ve.baseMutations.map(_t=>zh(B.fe,_t)),Oe=ve.mutations.map(_t=>zh(B.fe,_t));return{userId:K,batchId:ve.batchId,localWriteTimeMs:ve.localWriteTime.toMillis(),baseMutations:Ve,mutations:Oe}}(this.serializer,this.userId,w),x=[];let R=new rn((B,K)=>Pt(B.canonicalString(),K.canonicalString()));for(const B of s){const K=Y_(this.userId,B.key.path,m);R=R.add(B.key.path.popLast()),x.push(l.put(b)),x.push(u.put(K,uI))}return R.forEach(B=>{x.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Vn[m]=w.keys()}),te.waitFor(x).next(()=>w)})}lookupMutationBatch(e,t){return Ic(e).get(t).next(r=>r?(at(r.userId===this.userId),Kl(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?te.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Vn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Ic(e).X({index:"userMutationsIndex",range:s},(l,m,w)=>{m.userId===this.userId&&(at(m.batchId>=r),u=Kl(this.serializer,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ic(e).X({index:"userMutationsIndex",range:t,reverse:!0},(s,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).j("userMutationsIndex",t).next(r=>r.map(s=>Kl(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=$p(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return Xl(e).X({range:s},(l,m,w)=>{const[b,x,R]=l,B=zs(x);if(b===this.userId&&t.path.isEqual(B))return Ic(e).get(R).next(K=>{if(!K)throw Je();at(K.userId===this.userId),u.push(Kl(this.serializer,K))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rn(Pt);const s=[];return t.forEach(u=>{const l=$p(this.userId,u.path),m=IDBKeyRange.lowerBound(l),w=Xl(e).X({range:m},(b,x,R)=>{const[B,K,ve]=b,Ve=zs(K);B===this.userId&&u.path.isEqual(Ve)?r=r.add(ve):R.done()});s.push(w)}),te.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=$p(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new rn(Pt);return Xl(e).X({range:l},(w,b,x)=>{const[R,B,K]=w,ve=zs(B);R===this.userId&&r.isPrefixOf(ve)?ve.length===s&&(m=m.add(K)):x.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(Ic(e).get(u).next(l=>{if(null===l)throw Je();at(l.userId===this.userId),r.push(Kl(this.serializer,l))}))}),te.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return By(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),te.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return te.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Xl(e).X({range:r},(u,l,m)=>{if(u[0]===this.userId){const w=zs(u[1]);s.push(w)}else m.done()}).next(()=>{at(0===s.length)})})}containsKey(e,t){return EC(e,this.userId,t)}xn(e){return Hy(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function EC(n,e,t){const r=$p(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return Xl(n).X({range:u,Y:!0},(m,w,b)=>{const[x,R,B]=m;x===e&&R===s&&(l=!0),b.done()}).next(()=>l)}function Ic(n){return Kr(n,"mutations")}function Xl(n){return Kr(n,"documentMutations")}function Hy(n){return Kr(n,"mutationQueues")}class Cc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Cc(0)}static Mn(){return new Cc(-1)}}class AT{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Cc(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ht.fromTimestamp(new En(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.On(e,s)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ed(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(at(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return ed(e).X((l,m)=>{const w=fg(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(s++,u.push(this.removeTargetData(e,w)))}).next(()=>te.waitFor(u)).next(()=>s)}forEachTarget(e,t){return ed(e).X((r,s)=>{const u=fg(s);t(u)})}$n(e){return G0(e).get("targetGlobalKey").next(t=>(at(null!==t),t))}On(e,t){return G0(e).put("targetGlobalKey",t)}Fn(e,t){return ed(e).put(hC(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ja(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return ed(e).X({range:s,index:"queryTargetsIndex"},(l,m,w)=>{const b=fg(m);by(t,b.target)&&(u=b,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=Dc(e);return t.forEach(l=>{const m=bi(l.path);s.push(u.put({targetId:r,path:m})),s.push(this.referenceDelegate.addReference(e,r,l))}),te.waitFor(s)}removeMatchingKeys(e,t,r){const s=Dc(e);return te.forEach(t,u=>{const l=bi(u.path);return te.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Dc(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Dc(e);let u=Vt();return s.X({range:r,Y:!0},(l,m,w)=>{const b=zs(l[1]),x=new Ye(b);u=u.add(x)}).next(()=>u)}containsKey(e,t){const r=bi(t.path),s=IDBKeyRange.bound([r],[Bl(r)],!1,!0);let u=0;return Dc(e).X({index:"documentTargetsIndex",Y:!0,range:s},([l,m],w,b)=>{0!==l&&(u++,b.done())}).next(()=>u>0)}le(e,t){return ed(e).get(t).next(r=>r?fg(r):null)}}function ed(n){return Kr(n,"targets")}function G0(n){return Kr(n,"targetGlobal")}function Dc(n){return Kr(n,"targetDocuments")}function z0([n,e],[t,r]){const s=Pt(n,t);return 0===s?Pt(e,r):s}class IC{constructor(e){this.Ln=e,this.buffer=new rn(z0),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();z0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,me.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){qa(r)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield _o(r)}yield t.Qn(3e5)}))}}class DC{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return te.resolve(is.ct);const r=new IC(t);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(H0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H0):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,s,u,l,m,w,b;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),s=this.params.maximumSequenceNumbersToCollect):s=R,l=Date.now(),this.nthSequenceNumber(e,s))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,t))).next(R=>(u=R,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(b=Date.now(),$_()<=Zo.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-x}ms\n\tDetermined least recently used ${s} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${R} documents in `+(b-w)+`ms\nTotal Duration: ${b-x}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:R})))}}class Bi{constructor(e,t){this.db=e,this.garbageCollector=function bC(n,e){return new DC(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,s)=>t(s))}addReference(e,t,r){return iu(e,r)}removeReference(e,t,r){return iu(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return iu(e,t)}Xn(e,t){return function(r,s){let u=!1;return Hy(r).Z(l=>EC(r,l,s).next(m=>(m&&(u=!0),te.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Yn(e,(l,m)=>{if(m<=t){const w=this.Xn(e,l).next(b=>{if(!b)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,ht.min()),Dc(e).delete([0,bi(l.path)])))});s.push(w)}}).next(()=>te.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return iu(e,t)}Yn(e,t){const r=Dc(e);let s,u=is.ct;return r.X({index:"documentTargetsIndex"},([l,m],{path:w,sequenceNumber:b})=>{0===l?(u!==is.ct&&t(new Ye(zs(s)),u),u=b,s=w):u=is.ct}).next(()=>{u!==is.ct&&t(new Ye(zs(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function iu(n,e){return Dc(n).put((r=n.currentSequenceNumber,{targetId:0,path:bi(e.path),sequenceNumber:r}));var r}class TC{constructor(){this.changes=new eu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ST{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return bc(e).put(r)}removeEntry(e,t,r){return bc(e).delete(function(s,u){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],ky(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=qn.newInvalidDocument(t);return bc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(su(t))},(s,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:qn.newInvalidDocument(t)};return bc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(su(t))},(s,u)=>{r={document:this.ts(t,u),size:jy(u)}}).next(()=>r)}getEntries(e,t){let r=os();return this.ns(e,t,(s,u)=>{const l=this.ts(s,u);r=r.insert(s,l)}).next(()=>r)}ss(e,t){let r=os(),s=new zn(Ye.comparator);return this.ns(e,t,(u,l)=>{const m=this.ts(u,l);r=r.insert(u,m),s=s.insert(u,jy(l))}).next(()=>({documents:r,rs:s}))}ns(e,t,r){if(t.isEmpty())return te.resolve();let s=new rn(Gy);t.forEach(w=>s=s.add(w));const u=IDBKeyRange.bound(su(s.first()),su(s.last())),l=s.getIterator();let m=l.getNext();return bc(e).X({index:"documentKeyIndex",range:u},(w,b,x)=>{const R=Ye.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;m&&Gy(m,R)<0;)r(m,null),m=l.getNext();m&&m.isEqual(R)&&(r(m,b),m=l.hasNext()?l.getNext():null),m?x.G(su(m)):x.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,s){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),ky(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bc(e).j(IDBKeyRange.bound(l,m,!0)).next(w=>{let b=os();for(const x of w){const R=this.ts(Ye.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);R.isFoundDocument()&&(Fh(t,R)||s.has(R.key))&&(b=b.insert(R.key,R))}return b})}getAllFromCollectionGroup(e,t,r,s){let u=os();const l=AC(t,r),m=AC(t,rs.max());return bc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(w,b,x)=>{const R=this.ts(Ye.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(R.key,R),u.size===s&&x.done()}).next(()=>u)}newChangeBuffer(e){return new BS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return q0(e).get("remoteDocumentGlobalKey").next(t=>(at(!!t),t))}Zn(e,t){return q0(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function dC(n,e){let t;if(e.document)t=nC(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),s=Zl(e.noDocument.readTime);t=qn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je();{const r=Ye.fromSegments(e.unknownDocument.path),s=Zl(e.unknownDocument.version);t=qn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new En(r[0],r[1]);return ht.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(ht.min()))return r}return qn.newInvalidDocument(e)}}function xT(n){return new ST(n)}class BS extends TC{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new eu(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new rn((u,l)=>Pt(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.us.get(u);if(t.push(this.os.removeEntry(e,u,m.readTime)),l.isValidDocument()){const w=O0(this.os.serializer,l);s=s.add(u.path.popLast()),r+=jy(w)-m.size,t.push(this.os.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=O0(this.os.serializer,l.convertToNoDocument(ht.min()));t.push(this.os.addEntry(e,u,w))}}),s.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),te.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:s})=>(s.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function q0(n){return Kr(n,"remoteDocumentGlobal")}function bc(n){return Kr(n,"remoteDocumentsV14")}function su(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function AC(n,e){const t=e.documentKey.path.toArray();return[n,ky(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gy(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=Pt(t[u],r[u]),s)return s;return s=Pt(t.length,r.length),s||(s=Pt(t[t.length-2],r[r.length-2]),s||Pt(t[t.length-1],r[r.length-1]))}class MT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class W0{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&jh(r.mutation,s,Xn.empty(),En.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Vt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Vt()){const s=Eo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=Xp();return u.forEach((m,w)=>{l=l.insert(m,w.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Eo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Vt()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,s){let u=os();const l=Lh(),m=Lh();return t.forEach((w,b)=>{const x=r.get(b.key);s.has(b.key)&&(void 0===x||x.mutation instanceof tu)?u=u.insert(b.key,b):void 0!==x?(l.set(b.key,x.mutation.getFieldMask()),jh(x.mutation,b,x.mutation.getFieldMask(),En.now())):l.set(b.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((b,x)=>l.set(b,x)),t.forEach((b,x)=>{var R;return m.set(b,new MT(x,null!==(R=l.get(b))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Lh();let s=new zn((l,m)=>l-m),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(w=>{const b=t.get(w);if(null===b)return;let x=r.get(w)||Xn.empty();x=m.applyToLocalView(b,x),r.set(w,x);const R=(s.get(m.batchId)||Vt()).add(w);s=s.insert(m.batchId,R)})}).next(()=>{const l=[],m=s.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),b=w.key,x=w.value,R=m0();x.forEach(B=>{if(!u.has(B)){const K=VI(t.get(B),r.get(B));null!==K&&R.set(B,K),u=u.add(B)}}),l.push(this.documentOverlayCache.saveOverlays(e,b,R))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ye.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):kh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):te.resolve(Eo());let m=-1,w=u;return l.next(b=>te.forEach(b,(x,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(x)?te.resolve():this.remoteDocumentCache.getEntry(e,x).next(B=>{w=w.insert(x,B)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,w,b,Vt())).next(x=>({batchId:m,changes:eg(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(r=>{let s=Xp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=Xp();return this.indexManager.getCollectionParents(e,s).next(l=>te.forEach(l,m=>{const w=(b=t,x=m.child(s),new Xa(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,x;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(b=>{b.forEach((x,R)=>{u=u.insert(x,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((m,w)=>{const b=w.getKey();null===u.get(b)&&(u=u.insert(b,qn.newInvalidDocument(b)))});let l=Xp();return u.forEach((m,w)=>{const b=s.get(m);void 0!==b&&jh(b.mutation,w,Xn.empty(),En.now()),Fh(t,w)&&(l=l.insert(m,w))}),l})}}class RT{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return te.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:fr(r.createTime)}),te.resolve()}getNamedQuery(e,t){return te.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:k0(r.bundledQuery),readTime:fr(r.readTime)}),te.resolve();var r}}class NT{constructor(){this.overlays=new zn(Ye.comparator),this.ls=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Eo();return te.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const s=Eo(),u=t.length+1,l=new Ye(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const w=m.getNext().value,b=w.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&w.largestBatchId>r&&s.set(w.getKey(),w)}return te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new zn((b,x)=>b-x);const l=this.overlays.getIterator();for(;l.hasNext();){const b=l.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let x=u.get(b.largestBatchId);null===x&&(x=Eo(),u=u.insert(b.largestBatchId,x)),x.set(b.getKey(),b)}}const m=Eo(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((b,x)=>m.set(b,x)),!(m.size()>=s)););return te.resolve(m)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new C0(t,r));let u=this.ls.get(t);void 0===u&&(u=Vt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class Z0{constructor(){this.fs=new rn(br.ds),this.ws=new rn(br._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new br(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new br(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ye(new tn([])),r=new br(t,e),s=new br(t,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ye(new tn([])),r=new br(t,e),s=new br(t,e+1);let u=Vt();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new br(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class br{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ye.comparator(e.key,t.key)||Pt(e.As,t.As)}static _s(e,t){return Pt(e.As,t.As)||Ye.comparator(e.key,t.key)}}class SC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new rn(br.ds)}checkEmpty(e){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const l=new I0(u,t,r,s);this.mutationQueue.push(l);for(const m of s)this.Rs=this.Rs.add(new br(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new br(t,0),s=new br(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const m=this.Ps(l.As);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rn(Pt);return t.forEach(s=>{const u=new br(s,0),l=new br(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),te.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Ye.isDocumentKey(u)||(u=u.child(""));const l=new br(new Ye(u),0);let m=new rn(Pt);return this.Rs.forEachWhile(w=>{const b=w.key.path;return!!r.isPrefixOf(b)&&(b.length===s&&(m=m.add(w.As)),!0)},l),te.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){at(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return te.forEach(t.mutations,s=>{const u=new br(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new br(t,0),s=this.Rs.firstAfterOrEqual(r);return te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return te.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xC{constructor(e){this.Ds=e,this.docs=new zn(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(t))}getEntries(e,t){let r=os();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():qn.newInvalidDocument(s))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=os();const l=t.path,m=new Ye(l.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:b,value:{document:x}}=w.getNext();if(!l.isPrefixOf(b.path))break;b.path.length>l.length+1||Bp(iI(x),r)<=0||(s.has(x.key)||Fh(t,x))&&(u=u.insert(x.key,x.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,r,s){Je()}Cs(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zy(this)}getSize(e){return te.resolve(this.size)}}class zy extends TC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class K0{constructor(e){this.persistence=e,this.xs=new eu(t=>Ja(t),by),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Z0,this.targetCount=0,this.Ms=Cc.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),te.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Cc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Fn(t),te.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),te.waitFor(u).next(()=>s)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.ks.containsKey(t))}}class MC{constructor(e,t){this.$s={},this.overlays={},this.Os=new is(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new K0(this),this.indexManager=new vC,this.remoteDocumentCache=new xC(r=>this.referenceDelegate.Ls(r)),this.serializer=new lC(t),this.qs=new RT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new SC(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const s=new RC(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return te.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class RC extends sI{constructor(e){super(),this.currentSequenceNumber=e}}class qy{constructor(e){this.persistence=e,this.Qs=new Z0,this.js=null}static zs(e){return new qy(e)}get Ws(){if(this.js)return this.js;throw Je()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),te.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Ws,r=>{const s=Ye.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,ht.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return te.or([()=>te.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Qh{constructor(e){this.serializer=e}O(e,t,r,s){const u=new _y("createOrUpgrade",t);var m;r<1&&s>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wy,{unique:!0}),m.createObjectStore("documentMutations"),NC(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=te.resolve();return r<3&&s>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),NC(e)),l=l.next(()=>function(m){const w=m.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ht.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",b)}(u))),r<4&&s>=4&&(0!==r&&(l=l.next(()=>function(m,w){return w.store("mutations").j().next(b=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wy,{unique:!0});const x=w.store("mutations"),R=b.map(B=>x.put(B));return te.waitFor(R)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(l=l.next(()=>this.Ys(u))),r<6&&s>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&s>=7&&(l=l.next(()=>this.Zs(u))),r<8&&s>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&s>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(l=l.next(()=>this.ei(u))),r<11&&s>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(l=l.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:gI});w.createIndex("collectionPathOverlayIndex",tT,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",nT,{unique:!1})}(e)})),r<13&&s>=13&&(l=l.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:cI});w.createIndex("documentKeyIndex",lI),w.createIndex("collectionGroupIndex",dI)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(l=l.next(()=>this.si(e,u))),r<15&&s>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:Xb}).createIndex("sequenceNumberIndex",pI,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:eT}).createIndex("documentKeyIndex",Lr,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,s)=>{t+=jy(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(s=>te.forEach(s,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(m=>te.forEach(m,w=>{at(w.userId===u.userId);const b=Kl(this.serializer,w);return By(e,u.userId,b).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((l,m)=>{const w=new tn(l),b=[0,bi(w)];u.push(t.get(b).next(x=>x?te.resolve():t.put({targetId:0,path:bi(w),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>te.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Jb});const r=t.store("collectionParents"),s=new Vy,u=l=>{if(s.add(l)){const m=l.lastSegment(),w=l.popLast();return r.put({collectionId:m,parent:bi(w)})}};return t.store("remoteDocuments").X({Y:!0},(l,m)=>{const w=new tn(l);return u(w.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,m,w],b)=>{const x=zs(m);return u(x.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,s)=>{const u=fg(s),l=hC(this.serializer,u);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),s=[];return r.X((u,l)=>{const m=t.store("remoteDocumentsV14"),w=(b=l,b.document?new Ye(tn.fromString(b.document.name).popFirst(5)):b.noDocument?Ye.fromSegments(b.noDocument.path):b.unknownDocument?Ye.fromSegments(b.unknownDocument.path):Je()).path.toArray();var b;const x={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(m.put(x))}).next(()=>te.waitFor(s))}si(e,t){const r=t.store("mutations"),s=xT(this.serializer),u=new MC(qy.zs,this.serializer.fe);return r.j().next(l=>{const m=new Map;return l.forEach(w=>{var b;let x=null!==(b=m.get(w.userId))&&void 0!==b?b:Vt();Kl(this.serializer,w).keys().forEach(R=>x=x.add(R)),m.set(w.userId,x)}),te.forEach(m,(w,b)=>{const x=new Ir(b),R=pg.de(this.serializer,x),B=u.getIndexManager(x),K=$y.de(x,this.serializer,B,u.referenceDelegate);return new W0(s,K,R,B).recalculateAndSaveOverlaysForDocumentKeys(new e0(t,is.ct),w).next()})})}}function NC(n){n.createObjectStore("targetDocuments",{keyPath:fI}).createIndex("documentTargetsIndex",LS,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hI,{unique:!0}),n.createObjectStore("targetGlobal")}const Wy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _g{constructor(e,t,r,s,u,l,m,w,b,x,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=l,this.document=m,this.ri=b,this.oi=x,this.ui=R,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=B=>Promise.resolve(),!_g.D())throw new be(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bi(this,s),this.di=t+"main",this.serializer=new lC(w),this.wi=new Ms(this.di,this.ui,new Qh(this.serializer)),this.Bs=new AT(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xT(this.serializer),this.qs=new fC,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new be(oe.FAILED_PRECONDITION,Wy);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new is(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,me.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ky(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(qa(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Zy(e).get("owner").next(t=>te.resolve(this.Ri(t)))}Pi(e){return Ky(e).delete(this.clientId)}bi(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Kr(r,"clientMetadata");return s.j().next(u=>{const l=e.Si(u,18e5),m=u.filter(w=>-1===l.indexOf(w));return te.forEach(m,w=>s.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?te.resolve(!0):Zy(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new be(oe.FAILED_PRECONDITION,Wy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ky(e).j().next(r=>void 0===this.Si(r,5e3).find(s=>{if(this.clientId!==s.clientId){const l=!this.inForeground&&s.inForeground,m=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||l&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new e0(t,is.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ky(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return $y.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _C(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return pg.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){ke("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(l=this.ui)?bh:14===l?X_:13===l?J_:12===l?rT:11===l?Q_:void Je();var l;let m;return this.wi.runTransaction(e,s,u,w=>(m=new e0(w,this.Os?this.Os.next():is.ct),"readwrite-primary"===t?this.Ti(m).next(b=>!!b||this.Ei(m)).next(b=>{if(!b)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new be(oe.FAILED_PRECONDITION,vy);return r(m)}).next(b=>this.vi(m).next(()=>b)):this.Oi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Oi(e){return Zy(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new be(oe.FAILED_PRECONDITION,Wy)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zy(e).put("owner",t)}static D(){return Ms.D()}Ai(e){const t=Zy(e);return t.get("owner").next(r=>this.Ri(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):te.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(dr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ln.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zy(n){return Kr(n,"owner")}function Ky(n){return Kr(n,"clientMetadata")}function PC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Y0{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=Vt(),s=Vt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Y0(e,t.fromCache,r,s)}}class OC{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if($l(t))return te.resolve(null);let r=ss(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Yp(t,null,"F"),r=ss(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Vt(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const b=this.ji(t,m);return this.zi(t,b,l,w.readTime)?this.Ki(e,Yp(t,null,"F")):this.Wi(e,b,t,w)}))})))}Gi(e,t,r,s){return $l(t)||s.isEqual(ht.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,s)?this.Qi(e,t):($_()<=Zo.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ay(t)),this.Wi(e,l,t,z_(s,-1)))})}ji(e,t){let r=new rn(RI(e));return t.forEach((s,u)=>{Fh(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return $_()<=Zo.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Ay(t)),this.Ui.getDocumentsMatchingQuery(e,t,rs.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class PT{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new zn(Pt),this.Yi=new eu(u=>Ja(u),by),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W0(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Q0(n,e,t,r){return new PT(n,e,t,r)}function J0(n,e){return X0.apply(this,arguments)}function X0(){return X0=(0,me.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let w=Vt();for(const b of s){l.push(b.batchId);for(const x of b.mutations)w=w.add(x.key)}for(const b of u){m.push(b.batchId);for(const x of b.mutations)w=w.add(x.key)}return t.localDocuments.getDocuments(r,w).next(b=>({er:b,removedBatchIds:l,addedBatchIds:m}))})})}),X0.apply(this,arguments)}function kC(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,w,b){const x=w.batch,R=x.keys();let B=te.resolve();return R.forEach(K=>{B=B.next(()=>b.getEntry(m,K)).next(ve=>{const Ve=w.docVersions.get(K);at(null!==Ve),ve.version.compareTo(Ve)<0&&(x.applyToRemoteDocument(ve,w),ve.isValidDocument()&&(ve.setReadTime(w.commitVersion),b.addEntry(ve)))})}),B.next(()=>l.mutationQueue.removeMutationBatch(m,x))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=Vt();for(let w=0;w<l.mutationResults.length;++w)l.mutationResults[w].transformResults.length>0&&(m=m.add(l.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function ew(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function OT(n,e){const t=Ze(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const m=[];e.targetChanges.forEach((x,R)=>{const B=s.get(R);if(!B)return;m.push(t.Bs.removeMatchingKeys(u,x.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(u,x.addedDocuments,R)));let K=B.withSequenceNumber(u.currentSequenceNumber);var ve,Ve,Oe;null!==e.targetMismatches.get(R)?K=K.withResumeToken(Cr.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):x.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(x.resumeToken,r)),s=s.insert(R,K),Ve=K,Oe=x,(0===(ve=B).resumeToken.approximateByteSize()||Ve.snapshotVersion.toMicroseconds()-ve.snapshotVersion.toMicroseconds()>=3e8||Oe.addedDocuments.size+Oe.modifiedDocuments.size+Oe.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,K))});let w=os(),b=Vt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))}),m.push(FC(u,l,e.documentUpdates).next(x=>{w=x.nr,b=x.sr})),!r.isEqual(ht.min())){const x=t.Bs.getLastRemoteSnapshotVersion(u).next(R=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(x)}return te.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,b)).next(()=>w)}).then(u=>(t.Ji=s,u))}function FC(n,e,t){let r=Vt(),s=Vt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=os();return t.forEach((m,w)=>{const b=u.get(m);w.isFoundDocument()!==b.isFoundDocument()&&(s=s.add(m)),w.isNoDocument()&&w.version.isEqual(ht.min())?(e.removeEntry(m,w.readTime),l=l.insert(m,w)):!b.isValidDocument()||w.version.compareTo(b.version)>0||0===w.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(w),l=l.insert(m,w)):ke("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",w.version)}),{nr:l,sr:s}})}function LC(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jh(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,te.resolve(s)):t.Bs.allocateTargetId(r).next(l=>(s=new nu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function td(n,e,t){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,me.Z)(function*(n,e,t){const r=Ze(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!qa(l))throw l;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),Yy.apply(this,arguments)}function wg(n,e,t){const r=Ze(n);let s=ht.min(),u=Vt();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,w,b){const x=Ze(m),R=x.Yi.get(b);return void 0!==R?te.resolve(x.Ji.get(R)):x.Bs.getTargetData(w,b)}(r,l,ss(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(w=>{u=w})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?s:ht.min(),t?u:Vt())).next(m=>(UC(r,g0(e),m),{documents:m,ir:u})))}function tw(n,e){const t=Ze(n),r=Ze(t.Bs),s=t.Ji.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function VC(n,e){const t=Ze(n),r=t.Xi.get(e)||ht.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Zi.getAllFromCollectionGroup(s,e,z_(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(UC(t,e,s),s))}function UC(n,e,t){let r=n.Xi.get(e)||ht.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function Qy(){return Qy=(0,me.Z)(function*(n,e,t,r){const s=Ze(n);let u=Vt(),l=os();for(const b of t){const x=e.rr(b.metadata.name);b.document&&(u=u.add(x));const R=e.ur(b);R.setReadTime(e.cr(b.metadata.readTime)),l=l.insert(x,R)}const m=s.Zi.newChangeBuffer({trackRemovals:!0}),w=yield Jh(s,(b=r,ss(Oh(tn.fromString(`__bundle__/docs/${b}`)))));var b;return s.persistence.runTransaction("Apply bundle documents","readwrite",b=>FC(b,m,l).next(x=>(m.apply(b),x)).next(x=>s.Bs.removeMatchingKeysForTargetId(b,w.targetId).next(()=>s.Bs.addMatchingKeys(b,u,w.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(b,x.nr,x.sr)).next(()=>x.nr)))}),Qy.apply(this,arguments)}function $S(n,e){return BC.apply(this,arguments)}function BC(){return BC=(0,me.Z)(function*(n,e,t=Vt()){const r=yield Jh(n,ss(k0(e.bundledQuery))),s=Ze(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const l=fr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return s.qs.saveNamedQuery(u,e);const m=r.withResumeToken(Cr.EMPTY_BYTE_STRING,l);return s.Ji=s.Ji.insert(m.targetId,m),s.Bs.updateTargetData(u,m).next(()=>s.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>s.qs.saveNamedQuery(u,e))})}),BC.apply(this,arguments)}function kT(n,e){return`firestore_clients_${n}_${e}`}function FT(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jC(n,e){return`firestore_targets_${n}_${e}`}class nw{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static ar(e,t,r){const s=JSON.parse(r);let u,l="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(u=new be(s.error.code,s.error.message))),l?new nw(e,t,s.state,u):(dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jy{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new be(r.error.code,r.error.message))),u?new Jy(e,r.state,s):(dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=y0();for(let l=0;s&&l<r.activeTargetIds.length;++l)s=K_(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return s?new rw(e,u):(dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xh{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xh(t.clientId,t.onlineState):(dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $C{constructor(){this.activeTargetIds=y0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xy{constructor(e,t,r,s,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new zn(Pt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=kT(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new $C),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.$i();for(const s of t){if(s===e.wr)continue;const u=e.getItem(kT(e.persistenceKey,s));if(u){const l=rw.ar(s,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const s=e.br(r);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jC(this.persistenceKey,e));if(r){const s=Jy.ar(e,r);s&&(t=s.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jC(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const s=t.Or(r.key);return t.Fr(s,null)}{const s=t.Br(r.key,r.newValue);if(s)return t.Fr(s.clientId,s)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const s=t.Lr(r.key,r.newValue);if(s)return t.qr(s)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const s=t.Ur(r.key,r.newValue);if(s)return t.Kr(s)}}else if(r.key===t.vr){if(null!==r.newValue){const s=t.br(r.newValue);if(s)return t.Vr(s)}}else if(r.key===t.Ir){const s=function(u){let l=is.ct;if(null!=u)try{const m=JSON.parse(u);at("number"==typeof m),l=m}catch(m){dr("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);s!==is.ct&&t.sequenceNumberHandler(s)}else if(r.key===t.Rr){const s=t.Gr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const s=new nw(this.currentUser,e,t,r),u=FT(this.persistenceKey,this.currentUser,e);this.setItem(u,s.hr())}Cr(e){const t=FT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const s=jC(this.persistenceKey,e),u=new Jy(e,t,r);this.setItem(s,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return rw.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),s=Number(r[1]);return nw.ar(new Ir(void 0!==r[2]?r[2]:null),s,t)}Ur(e,t){const r=this.Ar.exec(e),s=Number(r[1]);return Jy.ar(s,t)}br(e){return Xh.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),s=this.Sr(this.gr),u=this.Sr(r),l=[],m=[];return u.forEach(w=>{s.has(w)||l.push(w)}),s.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Wr(l,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=y0();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class Eg{constructor(){this.Hr=new $C,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new $C,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HC{Yr(e){}shutdown(){}}class iw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sw=null;function Ig(){return null===sw?sw=268435456+Math.round(2147483648*Math.random()):sw++,"0x"+sw.toString(16)}const GC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const hi="WebChannelConnection";class HS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const l=Ig(),m=this.To(e,t);ke("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const w={};return this.Eo(w,s,u),this.Ao(e,m,w,r).then(b=>(ke("RestConnection",`Received RPC '${e}' ${l}: `,b),b),b=>{throw Gs("RestConnection",`RPC '${e}' ${l} failed with error: `,b,"url: ",m,"request:",r),b})}vo(e,t,r,s,u,l){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${GC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=Ig();return new Promise((l,m)=>{const w=new qb;w.setWithCredentials(!0),w.listenOnce(Op.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case U_.NO_ERROR:const x=w.getResponseJson();ke(hi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),l(x);break;case U_.TIMEOUT:ke(hi,`RPC '${e}' ${u} timed out`),m(new be(oe.DEADLINE_EXCEEDED,"Request time out"));break;case U_.HTTP_ERROR:const R=w.getStatus();if(ke(hi,`RPC '${e}' ${u} failed with status:`,R,"response text:",w.getResponseText()),R>0){let B=w.getResponseJson();Array.isArray(B)&&(B=B[0]);const K=B?.error;if(K&&K.status&&K.message){const ve=function(Ve){const Oe=Ve.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(Oe)>=0?Oe:oe.UNKNOWN}(K.status);m(new be(ve,K.message))}else m(new be(oe.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new be(oe.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{ke(hi,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(s);ke(hi,`RPC '${e}' ${u} sending request:`,s),w.send(t,"POST",b,r,15)})}Ro(e,t,r){const s=Ig(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=eI(),m=$b(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(w.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(w.xmlHttpFactory=new zb({})),this.Eo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const x=u.join("");ke(hi,`Creating RPC '${e}' stream ${s}: ${x}`,w);const R=l.createWebChannel(x,w);let B=!1,K=!1;const ve=new LT({ro:Oe=>{K?ke(hi,`Not sending because RPC '${e}' stream ${s} is closed:`,Oe):(B||(ke(hi,`Opening RPC '${e}' stream ${s} transport.`),R.open(),B=!0),ke(hi,`RPC '${e}' stream ${s} sending:`,Oe),R.send(Oe))},oo:()=>R.close()}),Ve=(Oe,_t,Rt)=>{Oe.listen(_t,St=>{try{Rt(St)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return Ve(R,B_.EventType.OPEN,()=>{K||ke(hi,`RPC '${e}' stream ${s} transport opened.`)}),Ve(R,B_.EventType.CLOSE,()=>{K||(K=!0,ke(hi,`RPC '${e}' stream ${s} transport closed`),ve.wo())}),Ve(R,B_.EventType.ERROR,Oe=>{K||(K=!0,Gs(hi,`RPC '${e}' stream ${s} transport errored:`,Oe),ve.wo(new be(oe.UNAVAILABLE,"The operation could not be completed")))}),Ve(R,B_.EventType.MESSAGE,Oe=>{var _t;if(!K){const Rt=Oe.data[0];at(!!Rt);const St=Rt,Bt=St.error||(null===(_t=St[0])||void 0===_t?void 0:_t.error);if(Bt){ke(hi,`RPC '${e}' stream ${s} received error:`,Bt);const Zt=Bt.status;let dn=function(Kg){const H1=Dr[Kg];if(void 0!==H1)return Ry(H1)}(Zt),ls=Bt.message;void 0===dn&&(dn=oe.INTERNAL,ls="Unknown error status: "+Zt+" with message "+Bt.message),K=!0,ve.wo(new be(dn,ls)),R.close()}else ke(hi,`RPC '${e}' stream ${s} received:`,Rt),ve._o(Rt)}}),Ve(m,Hb.STAT_EVENT,Oe=>{Oe.stat===Gb.PROXY?ke(hi,`RPC '${e}' stream ${s} detected buffering proxy`):Oe.stat===Gb.NOPROXY&&ke(hi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ve.fo()},0),ve}}function VT(){return typeof window<"u"?window:null}function ev(){return typeof document<"u"?document:null}function Cg(n){return new JI(n,!0)}class ef{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class zC{constructor(e,t,r,s,u,l,m,w){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ef(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,me.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,me.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===oe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new be(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,me.Z)(function*(){e.state=0,e.start()}))}tu(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GS extends zC{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function R0(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Je(),s=e.targetChange.targetIds||[],u=function(w,b){return w.useProto3Json?(at(void 0===b||"string"==typeof b),Cr.fromBase64String(b||"")):(at(void 0===b||b instanceof Uint8Array),Cr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(w){const b=void 0===w.code?oe.UNKNOWN:Ry(w.code);return new be(b,w.message||"")}(l);t=new WI(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=ia(n,r.document.name),u=fr(r.document.updateTime),l=r.document.createTime?fr(r.document.createTime):ht.min(),m=new di({mapValue:{fields:r.document.fields}}),w=qn.newFoundDocument(s,u,l,m);t=new dg(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,s=ia(n,r.document),u=r.readTime?fr(r.readTime):ht.min(),l=qn.newNoDocument(s,u);t=new dg([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=ia(n,r.document);t=new dg([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return Je();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new $I(s,u);t=new T0(r.targetId,l)}}var w;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ht.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?ht.min():u.readTime?fr(u.readTime):ht.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=ql(this.serializer),t.addTarget=function(s,u){let l;const m=u.target;if(l=Zp(m)?{documents:N0(s,m)}:{query:P0(s,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=XI(s,u.resumeToken);const w=hg(s,u.expectedCount);null!==w&&(l.expectedCount=w)}else if(u.snapshotVersion.compareTo(ht.min())>0){l.readTime=Hh(s,u.snapshotVersion.toTimestamp());const w=hg(s,u.expectedCount);null!==w&&(l.expectedCount=w)}return l}(this.serializer,e);const r=function ET(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=ql(this.serializer),t.removeTarget=e,this.Wo(t)}}class zS extends zC{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function iC(n,e){return n&&n.length>0?(at(void 0!==e),n.map(t=>function(r,s){let u=fr(r.updateTime?r.updateTime:s);return u.isEqual(ht.min())&&(u=fr(s)),new sg(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.cu(r,t)}return at(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ql(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zh(this.serializer,r))};this.Wo(t)}}class qS extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(oe.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(oe.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class BT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(dr(t),this.mu=!1):ke("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class WS{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,me.Z)(function*(){var w;oa(l)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,me.Z)(function*(b){const x=Ze(b);x.vu.add(4),yield nd(x),x.bu.set("Unknown"),x.vu.delete(4),yield Dg(x)}),function(b){return w.apply(this,arguments)})(l))}))}),this.bu=new BT(r,s)}}function Dg(n){return tv.apply(this,arguments)}function tv(){return tv=(0,me.Z)(function*(n){if(oa(n))for(const e of n.Ru)yield e(!0)}),tv.apply(this,arguments)}function nd(n){return qC.apply(this,arguments)}function qC(){return qC=(0,me.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),qC.apply(this,arguments)}function as(n,e){const t=Ze(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),aw(t)?us(t):Ac(t).Ko()&&Tg(t,e))}function bg(n,e){const t=Ze(n),r=Ac(t);t.Au.delete(e),r.Ko()&&WC(t,e),0===t.Au.size&&(r.Ko()?r.jo():oa(t)&&t.bu.set("Unknown"))}function Tg(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ht.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ac(n).su(e)}function WC(n,e){n.Vu.qt(e),Ac(n).iu(e)}function us(n){n.Vu=new KI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ac(n).start(),n.bu.gu()}function aw(n){return oa(n)&&!Ac(n).Uo()&&n.Au.size>0}function oa(n){return 0===Ze(n).vu.size}function ZC(n){n.Vu=void 0}function jT(n){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,me.Z)(function*(n){n.Au.forEach((e,t)=>{Tg(n,e)})}),Ag.apply(this,arguments)}function KC(n,e){return nv.apply(this,arguments)}function nv(){return nv=(0,me.Z)(function*(n,e){ZC(n),aw(n)?(n.bu.Iu(e),us(n)):n.bu.set("Unknown")}),nv.apply(this,arguments)}function $T(n,e,t){return rv.apply(this,arguments)}function rv(){return rv=(0,me.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof WI&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(s,u){const l=u.cause;for(const m of u.targetIds)s.Au.has(m)&&(yield s.remoteSyncer.rejectListen(m,l),s.Au.delete(m),s.Vu.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sg(n,r)}else if(e instanceof dg?n.Vu.Ht(e):e instanceof T0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ht.min()))try{const r=yield ew(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const b=s.Au.get(w);b&&s.Au.set(w,b.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,w)=>{const b=s.Au.get(m);if(!b)return;s.Au.set(m,b.withResumeToken(Cr.EMPTY_BYTE_STRING,b.snapshotVersion)),WC(s,m);const x=new nu(b.target,m,w,b.sequenceNumber);Tg(s,x)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield Sg(n,r)}var r}),rv.apply(this,arguments)}function Sg(n,e,t){return uw.apply(this,arguments)}function uw(){return uw=(0,me.Z)(function*(n,e,t){if(!qa(e))throw e;n.vu.add(1),yield nd(n),n.bu.set("Offline"),t||(t=()=>ew(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Dg(n)}))}),uw.apply(this,arguments)}function cw(n,e){return e().catch(t=>Sg(n,t,e))}function tf(n){return xg.apply(this,arguments)}function xg(){return xg=(0,me.Z)(function*(n){const e=Ze(n),t=ou(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Tc(e);)try{const s=yield LC(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,YC(e,s)}catch(s){yield Sg(e,s)}iv(e)&&aa(e)}),xg.apply(this,arguments)}function Tc(n){return oa(n)&&n.Eu.length<10}function YC(n,e){n.Eu.push(e);const t=ou(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function iv(n){return oa(n)&&!ou(n).Uo()&&n.Eu.length>0}function aa(n){ou(n).start()}function HT(n){return QC.apply(this,arguments)}function QC(){return QC=(0,me.Z)(function*(n){ou(n).hu()}),QC.apply(this,arguments)}function GT(n){return lw.apply(this,arguments)}function lw(){return lw=(0,me.Z)(function*(n){const e=ou(n);for(const t of n.Eu)e.uu(t.mutations)}),lw.apply(this,arguments)}function zT(n,e,t){return dw.apply(this,arguments)}function dw(){return dw=(0,me.Z)(function*(n,e,t){const r=n.Eu.shift(),s=og.from(r,e,t);yield cw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield tf(n)}),dw.apply(this,arguments)}function JC(n,e){return XC.apply(this,arguments)}function XC(){return XC=(0,me.Z)(function*(n,e){var t;e&&ou(n).ou&&(yield(t=(0,me.Z)(function*(r,s){if(HI(u=s.code)&&u!==oe.ABORTED){const l=r.Eu.shift();ou(r).Qo(),yield cw(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield tf(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),iv(n)&&aa(n)}),XC.apply(this,arguments)}function hw(n,e){return fw.apply(this,arguments)}function fw(){return fw=(0,me.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=oa(t);t.vu.add(3),yield nd(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Dg(t)}),fw.apply(this,arguments)}function sv(n,e){return eD.apply(this,arguments)}function eD(){return eD=(0,me.Z)(function*(n,e){const t=Ze(n);e?(t.vu.delete(2),yield Dg(t)):e||(t.vu.add(2),yield nd(t),t.bu.set("Unknown"))}),eD.apply(this,arguments)}function Ac(n){return n.Su||(n.Su=function(e,t,r){const s=Ze(e);return s.fu(),new GS(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:jT.bind(null,n),ao:KC.bind(null,n),nu:$T.bind(null,n)}),n.Ru.push(function(){var e=(0,me.Z)(function*(t){t?(n.Su.Qo(),aw(n)?us(n):n.bu.set("Unknown")):(yield n.Su.stop(),ZC(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ou(n){return n.Du||(n.Du=function(e,t,r){const s=Ze(e);return s.fu(),new zS(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:HT.bind(null,n),ao:JC.bind(null,n),au:GT.bind(null,n),cu:zT.bind(null,n)}),n.Ru.push(function(){var e=(0,me.Z)(function*(t){t?(n.Du.Qo(),yield tf(n)):(yield n.Du.stop(),n.Eu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class ov{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,m=new ov(e,t,l,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new be(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rd(n,e){if(dr("AsyncQueue",`${e}: ${n}`),qa(n))return new be(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class id{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Xp(),this.sortedSet=new zn(this.comparator)}static emptySet(e){return new id(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof id)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new id;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class pw{constructor(){this.Cu=new zn(Ye.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Je():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class au{constructor(e,t,r,s,u,l,m,w,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new au(e,t,id.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class av{constructor(){this.Nu=void 0,this.listeners=[]}}class tD{constructor(){this.queries=new eu(e=>p0(e),Qp),this.onlineState="Unknown",this.ku=new Set}}function gw(n,e){return uv.apply(this,arguments)}function uv(){return uv=(0,me.Z)(function*(n,e){const t=Ze(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new av),s)try{u.Nu=yield t.onListen(r)}catch(l){const m=rd(l,`Initialization of query '${Ay(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&nD(t)}),uv.apply(this,arguments)}function cv(n,e){return mw.apply(this,arguments)}function mw(){return mw=(0,me.Z)(function*(n,e){const t=Ze(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),mw.apply(this,arguments)}function qT(n,e){const t=Ze(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const m of l.listeners)m.$u(s)&&(r=!0);l.Nu=s}}r&&nD(t)}function ZS(n,e,t){const r=Ze(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function nD(n){n.ku.forEach(e=>{e.next()})}class lv{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class WT{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class rD{constructor(e){this.serializer=e}rr(e){return ia(this.serializer,e)}ur(e){return e.metadata.exists?nC(this.serializer,e.document,!1):qn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return fr(e)}}class ZT{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KT(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=tn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new rD(this.serializer);for(const s of e)if(s.metadata.queries){const u=r.rr(s.metadata.name);for(const l of s.metadata.queries){const m=(t.get(l)||Vt()).add(u);t.set(l,m)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function jS(n,e,t,r){return Qy.apply(this,arguments)}(e.localStore,new rD(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const s of e.queries)yield $S(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function KT(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class YT{constructor(e){this.key=e}}class QT{constructor(e){this.key=e}}class JT{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Vt(),this.mutatedKeys=Vt(),this.tc=RI(e),this.ec=new id(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new pw,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,m=!1;const w="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,b="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((x,R)=>{const B=s.get(x),K=Fh(this.query,R)?R:null,ve=!!B&&this.mutatedKeys.has(B.key),Ve=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Oe=!1;B&&K?B.data.isEqual(K.data)?ve!==Ve&&(r.track({type:3,doc:K}),Oe=!0):this.rc(B,K)||(r.track({type:2,doc:K}),Oe=!0,(w&&this.tc(K,w)>0||b&&this.tc(K,b)<0)&&(m=!0)):!B&&K?(r.track({type:0,doc:K}),Oe=!0):B&&!K&&(r.track({type:1,doc:B}),Oe=!0,(w||b)&&(m=!0)),Oe&&(K?(l=l.add(K),u=Ve?u.add(x):u.delete(x)):(l=l.delete(x),u=u.delete(x)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const x="F"===this.query.limitType?l.last():l.first();l=l.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((b,x)=>function(R,B){const K=ve=>{switch(ve){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return K(R)-K(B)}(b.type,x.type)||this.tc(b.doc,x.doc)),this.oc(r);const l=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,w=m!==this.Xu;return this.Xu=m,0!==u.length||w?{snapshot:new au(this.query,e.ec,s,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new pw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Vt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new QT(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new YT(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Vt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return au.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class KS{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class XT{constructor(e){this.key=e,this.fc=!1}}class dv{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new eu(m=>p0(m),Qp),this._c=new Map,this.mc=new Set,this.gc=new zn(Ye.comparator),this.yc=new Map,this.Ic=new Z0,this.Tc={},this.Ec=new Map,this.Ac=Cc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function eA(n,e){return yw.apply(this,arguments)}function yw(){return yw=(0,me.Z)(function*(n,e){const t=gD(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield Jh(t.localStore,ss(e)),m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield hv(t,e,r,"current"===m,l.resumeToken),t.isPrimaryClient&&as(t.remoteStore,l)}return s}),yw.apply(this,arguments)}function hv(n,e,t,r,s){return uu.apply(this,arguments)}function uu(){return uu=(0,me.Z)(function*(n,e,t,r,s){n.Rc=(R,B,K)=>{return(ve=(0,me.Z)(function*(Ve,Oe,_t,Rt){let St=Oe.view.sc(_t);St.zi&&(St=yield wg(Ve.localStore,Oe.query,!1).then(({documents:dn})=>Oe.view.sc(dn,St)));const Bt=Rt&&Rt.targetChanges.get(Oe.targetId),Zt=Oe.view.applyChanges(St,Ve.isPrimaryClient,Bt);return Dw(Ve,Oe.targetId,Zt.cc),Zt.snapshot}),function(Ve,Oe,_t,Rt){return ve.apply(this,arguments)})(n,R,B,K);var ve};const u=yield wg(n.localStore,e,!0),l=new JT(e,u.ir),m=l.sc(u.documents),w=lg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),b=l.applyChanges(m,n.isPrimaryClient,w);Dw(n,t,b.cc);const x=new KS(e,t,l);return n.wc.set(e,x),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),uu.apply(this,arguments)}function iD(n,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,me.Z)(function*(n,e){const t=Ze(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!Qp(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield td(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),bg(t.remoteStore,r.targetId),sd(t,r.targetId)}).catch(_o))):(sd(t,r.targetId),yield td(t.localStore,r.targetId,!0))}),Mg.apply(this,arguments)}function _w(){return _w=(0,me.Z)(function*(n,e,t){const r=mD(n);try{const s=yield function(u,l){const m=Ze(u),w=En.now(),b=l.reduce((B,K)=>B.add(K.key),Vt());let x,R;return m.persistence.runTransaction("Locally write mutations","readwrite",B=>{let K=os(),ve=Vt();return m.Zi.getEntries(B,b).next(Ve=>{K=Ve,K.forEach((Oe,_t)=>{_t.isValidDocument()||(ve=ve.add(Oe))})}).next(()=>m.localDocuments.getOverlayedDocuments(B,K)).next(Ve=>{x=Ve;const Oe=[];for(const _t of l){const Rt=vT(_t,x.get(_t.key).overlayedDocument);null!=Rt&&Oe.push(new tu(_t.key,Rt,EI(Rt.value.mapValue),Zn.exists(!0)))}return m.mutationQueue.addMutationBatch(B,w,Oe,l)}).next(Ve=>{R=Ve;const Oe=Ve.applyToLocalDocumentSet(x,ve);return m.documentOverlayCache.saveOverlays(B,Ve.batchId,Oe)})}).then(()=>({batchId:R.batchId,changes:eg(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,m){let w=u.Tc[u.currentUser.toKey()];w||(w=new zn(Pt)),w=w.insert(l,m),u.Tc[u.currentUser.toKey()]=w}(r,s.batchId,t),yield Co(r,s.changes),yield tf(r.remoteStore)}catch(s){const u=rd(s,"Failed to persist write");t.reject(u)}}),_w.apply(this,arguments)}function fv(n,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,me.Z)(function*(n,e){const t=Ze(n);try{const r=yield OT(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.yc.get(u);l&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?at(l.fc):s.removedDocuments.size>0&&(at(l.fc),l.fc=!1))}),yield Co(t,r,e)}catch(r){yield _o(r)}}),Rg.apply(this,arguments)}function Ng(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&s.push(m.snapshot)}),function(u,l){const m=Ze(u);m.onlineState=l;let w=!1;m.queries.forEach((b,x)=>{for(const R of x.listeners)R.Mu(l)&&(w=!0)}),w&&nD(m)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function YS(n,e,t){return sD.apply(this,arguments)}function sD(){return sD=(0,me.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new zn(Ye.comparator);l=l.insert(u,qn.newNoDocument(u,ht.min()));const m=Vt().add(u),w=new cg(ht.min(),new Map,new zn(Pt),l,m);yield fv(r,w),r.gc=r.gc.remove(u),r.yc.delete(e),gv(r)}else yield td(r.localStore,e,!1).then(()=>sd(r,e,t)).catch(_o)}),sD.apply(this,arguments)}function QS(n,e){return oD.apply(this,arguments)}function oD(){return oD=(0,me.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const s=yield kC(t.localStore,e);pv(t,r,null),Iw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Co(t,s)}catch(s){yield _o(s)}}),oD.apply(this,arguments)}function aD(n,e,t){return ww.apply(this,arguments)}function ww(){return ww=(0,me.Z)(function*(n,e,t){const r=Ze(n);try{const s=yield function(u,l){const m=Ze(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let b;return m.mutationQueue.lookupMutationBatch(w,l).next(x=>(at(null!==x),b=x.keys(),m.mutationQueue.removeMutationBatch(w,x))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,b,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,b)).next(()=>m.localDocuments.getDocuments(w,b))})}(r.localStore,e);pv(r,e,t),Iw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Co(r,s)}catch(s){yield _o(s)}}),ww.apply(this,arguments)}function Ew(){return Ew=(0,me.Z)(function*(n,e){const t=Ze(n);oa(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=Ze(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const s=t.Ec.get(r)||[];s.push(e),t.Ec.set(r,s)}catch(r){const s=rd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),Ew.apply(this,arguments)}function Iw(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function pv(n,e,t){const r=Ze(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function sd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Cw(n,r)})}function Cw(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(bg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),gv(n))}function Dw(n,e,t){for(const r of t)r instanceof YT?(n.Ic.addReference(r.key,e),nA(n,r)):r instanceof QT?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Cw(n,r.key)):Je()}function nA(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.mc.add(r),gv(n))}function gv(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ye(tn.fromString(e)),r=n.Ac.next();n.yc.set(r,new XT(t)),n.gc=n.gc.insert(t,r),as(n.remoteStore,new nu(ss(Oh(t.path)),r,"TargetPurposeLimboResolution",is.ct))}}function Co(n,e,t){return uD.apply(this,arguments)}function uD(){return uD=(0,me.Z)(function*(n,e,t){const r=Ze(n),s=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,w)=>{l.push(r.Rc(w,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,b?.fromCache?"not-current":"current"),b){s.push(b);const x=Y0.Li(w.targetId,b);u.push(x)}}))}),yield Promise.all(l),r.dc.nu(s),yield(m=(0,me.Z)(function*(w,b){const x=Ze(w);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>te.forEach(b,B=>te.forEach(B.Fi,K=>x.persistence.referenceDelegate.addReference(R,B.targetId,K)).next(()=>te.forEach(B.Bi,K=>x.persistence.referenceDelegate.removeReference(R,B.targetId,K)))))}catch(R){if(!qa(R))throw R;ke("LocalStore","Failed to update sequence numbers: "+R)}for(const R of b){const B=R.targetId;if(!R.fromCache){const K=x.Ji.get(B),Ve=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);x.Ji=x.Ji.insert(B,Ve)}}}),function(w,b){return m.apply(this,arguments)})(r.localStore,u))}),uD.apply(this,arguments)}function cD(n,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,me.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield J0(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(l=>{l.forEach(m=>{m.reject(new be(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Co(t,r.er)}var s}),Pg.apply(this,arguments)}function rA(n,e){const t=Ze(n),r=t.yc.get(e);if(r&&r.fc)return Vt().add(r.key);{let s=Vt();const u=t._c.get(e);if(!u)return s;for(const l of u){const m=t.wc.get(l);s=s.unionWith(m.view.nc)}return s}}function iA(n,e){return lD.apply(this,arguments)}function lD(){return lD=(0,me.Z)(function*(n,e){const t=Ze(n),r=yield wg(t.localStore,e.query,!0),s=e.view.hc(r);return t.isPrimaryClient&&Dw(t,e.targetId,s.cc),s}),lD.apply(this,arguments)}function JS(n,e){return bw.apply(this,arguments)}function bw(){return bw=(0,me.Z)(function*(n,e){const t=Ze(n);return VC(t.localStore,e).then(r=>Co(t,r))}),bw.apply(this,arguments)}function sA(n,e,t,r){return Tw.apply(this,arguments)}function Tw(){return Tw=(0,me.Z)(function*(n,e,t,r){const s=Ze(n),u=yield function(l,m){const w=Ze(l),b=Ze(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",x=>b.Sn(x,m).next(R=>R?w.localDocuments.getDocuments(x,R):te.resolve(null)))}(s.localStore,e);var m;null!==u?("pending"===t?yield tf(s.remoteStore):"acknowledged"===t||"rejected"===t?(pv(s,e,r||null),Iw(s,e),m=e,Ze(Ze(s.localStore).mutationQueue).Cn(m)):Je(),yield Co(s,u)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),Tw.apply(this,arguments)}function dD(){return dD=(0,me.Z)(function*(n,e){const t=Ze(n);if(gD(t),mD(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield oA(t,r.toArray());t.vc=!0,yield sv(t.remoteStore,!0);for(const u of s)as(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let s=Promise.resolve();t._c.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):s=s.then(()=>(sd(t,l),td(t.localStore,l,!0))),bg(t.remoteStore,l)}),yield s,yield oA(t,r),function(u){const l=Ze(u);l.yc.forEach((m,w)=>{bg(l.remoteStore,w)}),l.Ic.Ts(),l.yc=new Map,l.gc=new zn(Ye.comparator)}(t),t.vc=!1,yield sv(t.remoteStore,!1)}}),dD.apply(this,arguments)}function oA(n,e,t){return hD.apply(this,arguments)}function hD(){return hD=(0,me.Z)(function*(n,e,t){const r=Ze(n),s=[],u=[];for(const l of e){let m;const w=r._c.get(l);if(w&&0!==w.length){m=yield Jh(r.localStore,ss(w[0]));for(const b of w){const x=r.wc.get(b),R=yield iA(r,x);R.snapshot&&u.push(R.snapshot)}}else{const b=yield tw(r.localStore,l);m=yield Jh(r.localStore,b),yield hv(r,aA(b),l,!1,m.resumeToken)}s.push(m)}return r.dc.nu(u),s}),hD.apply(this,arguments)}function aA(n){return MI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function uA(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).$i()}function ex(n,e,t,r){return fD.apply(this,arguments)}function fD(){return fD=(0,me.Z)(function*(n,e,t,r){const s=Ze(n);if(s.vc)return void ke("SyncEngine","Ignoring unexpected query state notification.");const u=s._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield VC(s.localStore,g0(u[0])),m=cg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Cr.EMPTY_BYTE_STRING);yield Co(s,l,m);break}case"rejected":yield td(s.localStore,e,!0),sd(s,e,r);break;default:Je()}}),fD.apply(this,arguments)}function tx(n,e,t){return pD.apply(this,arguments)}function pD(){return pD=(0,me.Z)(function*(n,e,t){const r=gD(n);if(r.vc){for(const s of e){if(r._c.has(s)){ke("SyncEngine","Adding an already active target "+s);continue}const u=yield tw(r.localStore,s),l=yield Jh(r.localStore,u);yield hv(r,aA(u),l.targetId,!1,l.resumeToken),as(r.remoteStore,l)}for(const s of t)r._c.has(s)&&(yield td(r.localStore,s,!1).then(()=>{bg(r.remoteStore,s),sd(r,s)}).catch(_o))}}),pD.apply(this,arguments)}function gD(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YS.bind(null,e),e.dc.nu=qT.bind(null,e.eventManager),e.dc.Pc=ZS.bind(null,e.eventManager),e}function mD(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,e),e}class o{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.serializer=Cg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Q0(this.persistence,new OC,e.initialUser,this.serializer)}createPersistence(e){return new MC(qy.zs,this.serializer)}createSharedClientState(e){return new Eg}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class c extends o{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield mD(r.Vc.syncEngine),yield tf(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Q0(this.persistence,new OC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new CC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new Yb(t,this.persistence);return new oI(e.asyncQueue,r)}createPersistence(e){const t=PC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new _g(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,VT(),ev(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Eg}}class d extends c{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const s=r.Vc.syncEngine;r.sharedClientState instanceof Xy&&(r.sharedClientState.syncEngine={jr:sA.bind(null,s),zr:ex.bind(null,s),Wr:tx.bind(null,s),$i:uA.bind(null,s),Qr:JS.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,me.Z)(function*(l){yield function XS(n,e){return dD.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=VT();if(!Xy.D(t))throw new be(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=PC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class g{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>Ng(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=cD.bind(null,r.syncEngine),yield sv(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tD}createDatastore(e){const t=Cg(e.databaseInfo.databaseId),r=new HS(e.databaseInfo);return new qS(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>Ng(this.syncEngine,m,0),l=iw.D()?new iw:new HC,new WS(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,m,w,b){const x=new dv(r,s,u,l,m,w);return b&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=Ze(t);ke("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield nd(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function v(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class I{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class C{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new hr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,me.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),s=Number(r);isNaN(s)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(s);return new WT(JSON.parse(u),t.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,me.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,me.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class A{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new be(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,me.Z)(function*(u,l){const m=Ze(u),w=ql(m.serializer)+"/documents",b={documents:l.map(K=>Gh(m.serializer,K))},x=yield m.vo("BatchGetDocuments",w,b,l.length),R=new Map;x.forEach(K=>{const ve=function rC(n,e){return"found"in e?function(t,r){at(!!r.found);const s=ia(t,r.found.name),u=fr(r.found.updateTime),l=r.found.createTime?fr(r.found.createTime):ht.min(),m=new di({mapValue:{fields:r.found.fields}});return qn.newFoundDocument(s,u,l,m)}(n,e):"missing"in e?function(t,r){at(!!r.missing),at(!!r.readTime);const s=ia(t,r.missing),u=fr(r.readTime);return qn.newNoDocument(s,u)}(n,e):Je()}(m.serializer,K);R.set(ve.key.toString(),ve)});const B=[];return l.forEach(K=>{const ve=R.get(K.toString());at(!!ve),B.push(ve)}),B}),function(u,l){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $h(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=Ye.fromPath(s);e.mutations.push(new My(u,e.precondition(u)))}),yield(r=(0,me.Z)(function*(s,u){const l=Ze(s),m=ql(l.serializer)+"/documents",w={writes:u.map(b=>zh(l.serializer,b))};yield l.Io("Commit",m,w)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je();t=ht.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new be(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ht.min())?Zn.exists(!1):Zn.updateTime(t):Zn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ht.min()))throw new be(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zn.updateTime(t)}return Zn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class N{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new ef(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,me.Z)(function*(){const t=new A(e.datastore),r=e.qc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Uc(u)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const t=this.updateFunction(e);return!Ch(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!HI(t)}return!1}}class k{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Ir.UNAUTHENTICATED,this.clientId=Ul.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,me.Z)(function*(m){ke("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(ke("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=rd(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function $(n,e){return Q.apply(this,arguments)}function Q(){return Q=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,me.Z)(function*(u){r.isEqual(u)||(yield J0(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Q.apply(this,arguments)}function ye(n,e){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ut(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>hw(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>hw(e.remoteStore,u)),n._onlineComponents=e}),Ue.apply(this,arguments)}function Ke(n){return"FirebaseError"===n.name?n.code===oe.FAILED_PRECONDITION||n.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function ut(n){return Ct.apply(this,arguments)}function Ct(){return Ct=(0,me.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Ke(t))throw t;Gs("Error using user provided cache. Falling back to memory cache: "+t),yield $(n,new o)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),yield $(n,new o);return n._offlineComponents}),Ct.apply(this,arguments)}function Te(n){return Mt.apply(this,arguments)}function Mt(){return Mt=(0,me.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield ye(n,n._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),yield ye(n,new g))),n._onlineComponents}),Mt.apply(this,arguments)}function gn(n){return ut(n).then(e=>e.persistence)}function Mn(n){return ut(n).then(e=>e.localStore)}function Sc(n){return Te(n).then(e=>e.remoteStore)}function Og(n){return Te(n).then(e=>e.syncEngine)}function xc(n){return kg.apply(this,arguments)}function kg(){return kg=(0,me.Z)(function*(n){const e=yield Te(n),t=e.eventManager;return t.onListen=eA.bind(null,e.syncEngine),t.onUnlisten=iD.bind(null,e.syncEngine),t}),kg.apply(this,arguments)}function yv(n,e,t={}){const r=new hr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(s,u,l,m,w){const b=new I({next:R=>{u.enqueueAndForget(()=>cv(s,x));const B=R.docs.has(l);!B&&R.fromCache?w.reject(new be(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&R.fromCache&&m&&"server"===m.source?w.reject(new be(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(R)},error:R=>w.reject(R)}),x=new lv(Oh(l.path),b,{includeMetadataChanges:!0,Ku:!0});return gw(s,x)}(yield xc(n),n.asyncQueue,e,t,r)})),r.promise}function nx(n,e,t={}){const r=new hr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(s,u,l,m,w){const b=new I({next:R=>{u.enqueueAndForget(()=>cv(s,x)),R.fromCache&&"server"===m.source?w.reject(new be(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(R)},error:R=>w.reject(R)}),x=new lv(l,b,{includeMetadataChanges:!0,Ku:!0});return gw(s,x)}(yield xc(n),n.asyncQueue,e,t,r)})),r.promise}function rx(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const ix=new Map;function cA(n,e,t){if(!t)throw new be(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sx(n,e,t,r){if(!0===e&&!0===r)throw new be(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ox(n){if(!Ye.isDocumentKey(n))throw new be(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ax(n){if(Ye.isDocumentKey(n))throw new be(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yD(n);throw new be(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ux(n,e){if(e<=0)throw new be(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cx{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new be(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new be(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rx(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rw{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new be(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ta;switch(t.type){case"firstParty":return new my(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new be(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ix.get(e);t&&(ke("ComponentProvider","Removing Datastore"),ix.delete(e),t.terminate())}(this),Promise.resolve()}}class er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class ji{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class Mc extends ji{constructor(e,t,r){super(e,t,Oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new Ye(e))}withConverter(e){return new Mc(this.firestore,e,this._path)}}function dx(n,e,...t){if(n=(0,ln.m9)(n),cA("collection","path",e),n instanceof Rw){const r=tn.fromString(e,...t);return ax(r),new Mc(n,null,r)}{if(!(n instanceof er||n instanceof Mc))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return ax(r),new Mc(n.firestore,null,r)}}function vD(n,e,...t){if(n=(0,ln.m9)(n),1===arguments.length&&(e=Ul.A()),cA("doc","path",e),n instanceof Rw){const r=tn.fromString(e,...t);return ox(r),new er(n,null,new Ye(r))}{if(!(n instanceof er||n instanceof Mc))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return ox(r),new er(n.firestore,n instanceof Mc?n.converter:null,new Ye(r))}}function hx(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),(n instanceof er||n instanceof Mc)&&(e instanceof er||e instanceof Mc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function lA(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),n instanceof ji&&e instanceof ji&&n.firestore===e.firestore&&Qp(n._query,e._query)&&n.converter===e.converter}class K1{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ef(this,"async_queue_retry"),this.Xc=()=>{const t=ev();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=ev();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ev();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new hr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,me.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!qa(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,dr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=ov.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&Je()}verifyOperationInProgress(){}sa(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function dA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Y1{constructor(){this._progressObserver={},this._taskCompletionResolver=new hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tr extends Rw{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new K1,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fx(this),this._firestoreClient.terminate()}}function Ur(n){return n._firestoreClient||fx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fx(n){var e,t,r;const s=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new iT(n._databaseId,m,n._persistenceKey,(b=s).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,rx(b.experimentalLongPollingOptions),b.useFetchStreams));var m,b;n._firestoreClient=new k(n._authCredentials,n._appCheckCredentials,n._queue,u),(null===(t=s.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=s.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function px(n,e,t){const r=new hr;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield $(n,t),yield ye(n,e),r.resolve()}catch(s){const u=s;if(!Ke(u))throw u;Gs("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function gx(n){if(n._initialized||n._terminated)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rc(Cr.fromBase64String(e))}catch(t){throw new be(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rc(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class od{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new be(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fg{constructor(e){this._methodName=e}}class _D{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const aR=/^__.*__$/;class uR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new tu(e,this.data,this.fieldMask,t,this.fieldTransforms):new ra(e,this.data,t,this.fieldTransforms)}}class mx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new tu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class wD{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return CD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(yx(this.ca)&&aR.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class cR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cg(e)}ya(e,t,r,s=!1){return new wD({ca:e,methodName:t,ga:r,path:Jn.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lg(n){const e=n._freezeSettings(),t=Cg(n._databaseId);return new cR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ED(n,e,t,r,s,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,s);gA("Data must be an object, but it was:",l,r);const m=wx(r,l);let w,b;if(u.merge)w=new Xn(l.fieldMask),b=l.fieldTransforms;else if(u.mergeFields){const x=[];for(const R of u.mergeFields){const B=Ow(e,R,t);if(!l.contains(B))throw new be(oe.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);Ix(x,B)||x.push(B)}w=new Xn(x),b=l.fieldTransforms.filter(R=>w.covers(R.field))}else w=null,b=l.fieldTransforms;return new uR(new di(m),w,b)}class Pw extends Fg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pw}}function vx(n,e,t){return new wD({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hA extends Fg{_toFieldTransform(e){return new ig(e.path,new Vh)}isEqual(e){return e instanceof hA}}class lR extends Fg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=vx(this,e,!0),r=this.pa.map(u=>Vg(u,t)),s=new Uh(r);return new ig(e.path,s)}isEqual(e){return this===e}}class dR extends Fg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=vx(this,e,!0),r=this.pa.map(u=>Vg(u,t)),s=new Bh(r);return new ig(e.path,s)}isEqual(e){return this===e}}class hR extends Fg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Gl(e.serializer,_0(e.serializer,this.Ia));return new ig(e.path,t)}isEqual(e){return this===e}}function fA(n,e,t,r){const s=n.ya(1,e,t);gA("Data must be an object, but it was:",s,r);const u=[],l=di.empty();gc(r,(w,b)=>{const x=ID(e,w,t);b=(0,ln.m9)(b);const R=s.da(x);if(b instanceof Pw)u.push(x);else{const B=Vg(b,R);null!=B&&(u.push(x),l.set(x,B))}});const m=new Xn(u);return new mx(l,m,s.fieldTransforms)}function pA(n,e,t,r,s,u){const l=n.ya(1,e,t),m=[Ow(e,r,t)],w=[s];if(u.length%2!=0)throw new be(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<u.length;B+=2)m.push(Ow(e,u[B])),w.push(u[B+1]);const b=[],x=di.empty();for(let B=m.length-1;B>=0;--B)if(!Ix(b,m[B])){const K=m[B];let ve=w[B];ve=(0,ln.m9)(ve);const Ve=l.da(K);if(ve instanceof Pw)b.push(K);else{const Oe=Vg(ve,Ve);null!=Oe&&(b.push(K),x.set(K,Oe))}}const R=new Xn(b);return new mx(x,R,l.fieldTransforms)}function _x(n,e,t,r=!1){return Vg(t,n.ya(r?4:3,e))}function Vg(n,e){if(Ex(n=(0,ln.m9)(n)))return gA("Unsupported field value:",e,n),wx(n,e);if(n instanceof Fg)return function(t,r){if(!yx(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let m=Vg(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,ln.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _0(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=En.fromDate(t);return{timestampValue:Hh(r.serializer,s)}}if(t instanceof En){const s=new En(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hh(r.serializer,s)}}if(t instanceof _D)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rc)return{bytesValue:XI(r.serializer,t._byteString)};if(t instanceof er){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ny(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${yD(t)}`)}(n,e)}function wx(n,e){const t={};return n0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gc(n,(r,s)=>{const u=Vg(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Ex(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof En||n instanceof _D||n instanceof Rc||n instanceof er||n instanceof Fg)}function gA(n,e,t){if(!Ex(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=yD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Ow(n,e,t){if((e=(0,ln.m9)(e))instanceof od)return e._internalPath;if("string"==typeof e)return ID(n,e);throw CD("Field path arguments must be of type string or ",n,!1,void 0,t)}const fR=new RegExp("[~\\*/\\[\\]]");function ID(n,e,t){if(e.search(fR)>=0)throw CD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new od(...e.split("."))._internalPath}catch{throw CD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function CD(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||l)&&(w+=" (found",u&&(w+=` in field ${r}`),l&&(w+=` in document ${s}`),w+=")"),new be(oe.INVALID_ARGUMENT,m+n+w)}function Ix(n,e){return n.some(t=>t.isEqual(e))}class kw{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pR extends kw{data(){return super.data()}}function DD(n,e){return"string"==typeof e?ID(n,e):e instanceof od?e._internalPath:e._delegate._internalPath}function Cx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new be(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mA{}class Fw extends mA{}function nf(n,e,...t){let r=[];e instanceof mA&&r.push(e),r=r.concat(t),function(s){const u=s.filter(m=>m instanceof vv).length,l=s.filter(m=>m instanceof Lw).length;if(u>1||u>0&&l>0)throw new be(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Lw extends Fw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lw(e,t,r)}_apply(e){const t=this._parse(e);return Ax(e._query,t),new ji(e.firestore,e.converter,Ty(e._query,t))}_parse(e){const t=Lg(e.firestore);return function(s,u,l,m,w,b,x){let R;if(w.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new be(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){Tx(x,b);const B=[];for(const K of x)B.push(bx(m,s,K));R={arrayValue:{values:B}}}else R=bx(m,s,x)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||Tx(x,b),R=_x(l,"where",x,"in"===b||"not-in"===b);return Yt.create(w,b,R)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class vv extends mA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:In.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const m of l)Ax(u,m),u=Ty(u,m)}(e._query,t),new ji(e.firestore,e.converter,Ty(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yA extends Fw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yA(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new be(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new be(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Rh(s,u);return function(m,w){if(null===f0(m)){const b=Hl(m);null!==b&&Sx(0,b,w.field)}}(r,l),l}(e._query,this._field,this._direction);return new ji(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Xa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class bD extends Fw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new bD(e,t,r)}_apply(e){return new ji(e.firestore,e.converter,Yp(e._query,this._limit,this._limitType))}}class TD extends Fw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new TD(e,t,r)}_apply(e){const t=Dx(e,this.type,this._docOrFields,this._inclusive);return new ji(e.firestore,e.converter,(s=t,new Xa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class AD extends Fw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new AD(e,t,r)}_apply(e){const t=Dx(e,this.type,this._docOrFields,this._inclusive);return new ji(e.firestore,e.converter,(s=t,new Xa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function Dx(n,e,t,r){if(t[0]=(0,ln.m9)(t[0]),t[0]instanceof kw)return function(s,u,l,m,w){if(!m)throw new be(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const b=[];for(const x of Tn(s))if(x.field.isKeyField())b.push(vc(u,m.key));else{const R=m.data.field(x.field);if(Ey(R))throw new be(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const B=x.field.canonicalString();throw new be(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}b.push(R)}return new _c(b,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Lg(n.firestore);return function(u,l,m,w,b,x){const R=u.explicitOrderBy;if(b.length>R.length)throw new be(oe.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let K=0;K<b.length;K++){const ve=b[K];if(R[K].field.isKeyField()){if("string"!=typeof ve)throw new be(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ve}`);if(!kh(u)&&-1!==ve.indexOf("/"))throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${ve}' contains a slash.`);const Ve=u.path.child(tn.fromString(ve));if(!Ye.isDocumentKey(Ve))throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Ve}' is not because it contains an odd number of segments.`);const Oe=new Ye(Ve);B.push(vc(l,Oe))}else{const Ve=_x(m,w,ve);B.push(Ve)}}return new _c(B,x)}(n._query,n.firestore._databaseId,s,e,t,r)}}function bx(n,e,t){if("string"==typeof(t=(0,ln.m9)(t))){if(""===t)throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kh(e)&&-1!==t.indexOf("/"))throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!Ye.isDocumentKey(r))throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vc(n,new Ye(r))}if(t instanceof er)return vc(n,t._key);throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yD(t)}.`)}function Tx(n,e){if(!Array.isArray(n)||0===n.length)throw new be(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ax(n,e){if(e.isInequality()){const r=Hl(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new be(oe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=f0(n);null!==u&&Sx(0,s,u)}const t=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new be(oe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Sx(n,e,t){if(!t.isEqual(e))throw new be(oe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vA{convertValue(e,t="none"){switch(Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return gc(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new _D(ur(e.latitude),ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ah(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Za(e));default:return null}}convertTimestamp(e){const t=mc(e);return new En(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);at(cC(r));const s=new Ka(r.get(1),r.get(3)),u=new Ye(r.popFirst(5));return s.isEqual(t)||dr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function SD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class CR extends vA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}class Ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ad extends kw{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(DD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Vw extends ad{data(e={}){return super.data(e)}}class rf{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ug(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vw(this._firestore,this._userDataWriter,r.key,r,new Ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Vw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ug(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const m=new Vw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ug(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,b=-1;return 0!==l.type&&(w=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),b=u.indexOf(l.doc.key)),{type:bR(l.type),doc:m,oldIndex:w,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function Mx(n,e){return n instanceof ad&&e instanceof ad?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof rf&&e instanceof rf&&n._firestore===e._firestore&&lA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class sf extends vA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function Rx(n,e,t){n=on(n,er);const r=on(n.firestore,tr),s=SD(n.converter,e,t);return _v(r,[ED(Lg(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Zn.none())])}function Nx(n,e,t,...r){n=on(n,er);const s=on(n.firestore,tr),u=Lg(s);let l;return l="string"==typeof(e=(0,ln.m9)(e))||e instanceof od?pA(u,"updateDoc",n._key,e,t,r):fA(u,"updateDoc",n._key,e),_v(s,[l.toMutation(n._key,Zn.exists(!0))])}function Px(n,...e){var t,r,s;n=(0,ln.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||dA(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(dA(e[l])){const R=e[l];e[l]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[l+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[l+2]=null===(s=R.complete)||void 0===s?void 0:s.bind(R)}let w,b,x;if(n instanceof er)b=on(n.firestore,tr),x=Oh(n._key.path),w={next:R=>{e[l]&&e[l](_A(b,n,R))},error:e[l+1],complete:e[l+2]};else{const R=on(n,ji);b=on(R.firestore,tr),x=R._query;const B=new sf(b);w={next:K=>{e[l]&&e[l](new rf(b,B,R,K))},error:e[l+1],complete:e[l+2]},Cx(n._query)}return function(R,B,K,ve){const Ve=new I(ve),Oe=new lv(B,Ve,K);return R.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return gw(yield xc(R),Oe)})),()=>{Ve.Dc(),R.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return cv(yield xc(R),Oe)}))}}(Ur(b),x,m,w)}function _v(n,e){return function(t,r){const s=new hr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function vw(n,e,t){return _w.apply(this,arguments)}(yield Og(t),r,s)})),s.promise}(Ur(n),e)}function _A(n,e,t){const r=t.docs.get(e._key),s=new sf(n);return new ad(n,s,e._key,r,new Ug(t.hasPendingWrites,t.fromCache),e.converter)}const HR={maxAttempts:5};class Ox{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lg(e)}set(e,t,r){this._verifyNotCommitted();const s=af(e,this._firestore),u=SD(s.converter,t,r),l=ED(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(l.toMutation(s._key,Zn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=af(e,this._firestore);let l;return l="string"==typeof(t=(0,ln.m9)(t))||t instanceof od?pA(this._dataReader,"WriteBatch.update",u._key,t,r,s):fA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,Zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=af(e,this._firestore);return this._mutations=this._mutations.concat(new $h(t._key,Zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function af(n,e){if((n=(0,ln.m9)(n)).firestore!==e)throw new be(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class GR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lg(e)}get(e){const t=af(e,this._firestore),r=new CR(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return Je();const u=s[0];if(u.isFoundDocument())return new kw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new kw(this._firestore,r,t._key,null,t.converter);throw Je()})}set(e,t,r){const s=af(e,this._firestore),u=SD(s.converter,t,r),l=ED(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,l),this}update(e,t,r,...s){const u=af(e,this._firestore);let l;return l="string"==typeof(t=(0,ln.m9)(t))||t instanceof od?pA(this._dataReader,"Transaction.update",u._key,t,r,s):fA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=af(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=af(e,this._firestore),r=new sf(this._firestore);return super.get(e).then(s=>new ad(this._firestore,r,t._key,s._document,new Ug(!1,!1),t.converter))}}function wA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Fx(){if(typeof Uint8Array>"u")throw new be("unimplemented","Uint8Arrays are not available in this environment.")}function Lx(){if(!function wo(){return typeof atob<"u"}())throw new be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){_h=ch.SDK_VERSION,(0,ch._registerComponent)(new Mm.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),l=new tr(new Di(t.getProvider("auth-internal")),new G_(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new be(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ka(m.options.projectId,w)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),(0,ch.registerVersion)(j_,"3.12.0",n),(0,ch.registerVersion)(j_,"3.12.0","esm2017")}();class Uw{constructor(e){this._delegate=e}static fromBase64String(e){return Lx(),new Uw(Rc.fromBase64String(e))}static fromUint8Array(e){return Fx(),new Uw(Rc.fromUint8Array(e))}toBase64(){return Lx(),this._delegate.toBase64()}toUint8Array(){return Fx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function EA(n){return function XR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class eN{enableIndexedDbPersistence(e,t){return function J1(n,e){gx(n=on(n,tr));const t=Ur(n);if(t._uninitializedComponentsProvider)throw new be(oe.FAILED_PRECONDITION,"SDK cache is already specified.");Gs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new g;return px(t,s,new c(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function X1(n){gx(n=on(n,tr));const e=Ur(n);if(e._uninitializedComponentsProvider)throw new be(oe.FAILED_PRECONDITION,"SDK cache is already specified.");Gs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new g;return px(e,r,new d(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function eR(n){if(n._initialized&&!n._terminated)throw new be(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!Ms.D())return Promise.resolve();const s=r+"main";yield Ms.delete(s)}),function(r){return t.apply(this,arguments)})(PC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Vx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ka||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Gs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function lx(n,e,t,r={}){var s;const u=(n=on(n,Rw))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Gs("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,m;if("string"==typeof r.mockUserToken)l=r.mockUserToken,m=Ir.MOCK_USER;else{l=(0,ln.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new be(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ir(w)}n._authCredentials=new kp(new tI(l,m))}}(this._delegate,e,t,r)}enableNetwork(){return function nR(n){return function Aw(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield gn(n),t=yield Sc(n);return e.setNetworkEnabled(!0),function(r){const s=Ze(r);return s.vu.delete(0),Dg(s)}(t)}))}(Ur(n=on(n,tr)))}(this._delegate)}disableNetwork(){return function rR(n){return function Sw(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield gn(n),t=yield Sc(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(s){const u=Ze(s);u.vu.add(0),yield nd(u),u.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Ur(n=on(n,tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,sx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function tR(n){return function(e){const t=new hr;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function tA(n,e){return Ew.apply(this,arguments)}(yield Og(e),t)})),t.promise}(Ur(n=on(n,tr)))}(this._delegate)}onSnapshotsInSync(e){return function OR(n,e){return function G1(n,e){const t=new I(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield xc(n),s=t,Ze(r).ku.add(s),void s.next();var r,s})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield xc(n),s=t,void Ze(r).ku.delete(s);var r,s}))}}(Ur(n=on(n,tr)),dA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wv(this,dx(this._delegate,e))}catch(t){throw Ns(t,"collection()","Firestore.collection()")}}doc(e){try{return new ua(this,vD(this._delegate,e))}catch(t){throw Ns(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ps(this,function Z1(n,e){if(n=on(n,Rw),cA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new be(oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ji(n,null,(t=e,new Xa(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ns(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zR(n,e,t){n=on(n,tr);const r=Object.assign(Object.assign({},HR),t);return function(s){if(s.maxAttempts<1)throw new be(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,l){const m=new hr;return s.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const w=yield function mv(n){return Te(n).then(e=>e.datastore)}(s);new N(s.asyncQueue,w,l,u,m).run()})),m.promise}(Ur(n),s=>e(new GR(n,s)),r)}(this._delegate,t=>e(new Ux(this,t)))}batch(){return Ur(this._delegate),new Bx(new Ox(this._delegate,e=>_v(this._delegate,e)))}loadBundle(e){return function iR(n,e){const t=Ur(n=on(n,tr)),r=new Y1;return function z1(n,e,t,r){const s=function(u,l){let m;return m="string"==typeof u?GI().encode(u):u,w=function(w,b){if(w instanceof Uint8Array)return v(w,b);if(w instanceof ArrayBuffer)return v(new Uint8Array(w),b);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new C(w,l);var w}(t,Cg(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function i(n,e,t){const r=Ze(n);var s;(s=(0,me.Z)(function*(u,l,m){try{const w=yield l.getMetadata();if(yield function(B,K){const ve=Ze(B),Ve=fr(K.createTime);return ve.persistence.runTransaction("hasNewerBundle","readonly",Oe=>ve.qs.getBundleMetadata(Oe,K.id)).then(Oe=>!!Oe&&Oe.createTime.compareTo(Ve)>=0)}(u.localStore,w))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(B=w).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);m._updateProgress(KT(w));const b=new ZT(w,u.localStore,l.serializer);let x=yield l.bc();for(;x;){const B=yield b.zu(x);B&&m._updateProgress(B),x=yield l.bc()}const R=yield b.complete();return yield Co(u,R.Ju,void 0),yield function(B,K){const ve=Ze(B);return ve.persistence.runTransaction("Save bundle","readwrite",Ve=>ve.qs.saveBundleMetadata(Ve,K))}(u.localStore,w),m._completeWith(R.progress),Promise.resolve(R.Hu)}catch(w){return Gs("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var B}),function(u,l,m){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield Og(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function sR(n,e){return function q1(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const s=Ze(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.qs.getNamedQuery(u,r))}(yield Mn(n),e)}))}(Ur(n=on(n,tr)),e).then(t=>t?new ji(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ps(this,t):null)}}class xD extends vA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uw(new Rc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ua.forKey(t,this.firestore,null)}}class Ux{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}get(e){const t=jg(e);return this._delegate.get(t).then(r=>new Bw(this._firestore,new ad(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=jg(e);return r?(wA("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=jg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=jg(e);return this._delegate.delete(t),this}}class Bx{constructor(e){this._delegate=e}set(e,t,r){const s=jg(e);return r?(wA("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=jg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=jg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Vw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Bg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Bg(e,new xD(e),t),s.set(t,u)),u}}Bg.INSTANCES=new WeakMap;class ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ua(t,new er(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new ua(t,new er(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wv(this.firestore,dx(this._delegate,e))}catch(t){throw Ns(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ln.m9)(e))instanceof er&&hx(this._delegate,e)}set(e,t){t=wA("DocumentReference.set",t);try{return t?Rx(this._delegate,e,t):Rx(this._delegate,e)}catch(r){throw Ns(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Nx(this._delegate,e):Nx(this._delegate,e,t,...r)}catch(s){throw Ns(s,"updateDoc()","DocumentReference.update()")}}delete(){return function NR(n){return _v(on(n.firestore,tr),[new $h(n._key,Zn.none())])}(this._delegate)}onSnapshot(...e){const t=jx(e),r=$x(e,s=>new Bw(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return Px(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function AR(n){n=on(n,er);const e=on(n.firestore,tr),t=Ur(e),r=new sf(e);return function xw(n,e){const t=new hr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(s,u,l){try{const m=yield function(w,b){const x=Ze(w);return x.persistence.runTransaction("read document","readonly",R=>x.localDocuments.getDocument(R,b))}(s,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new be(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=rd(m,`Failed to get document '${u} from cache`);l.reject(w)}}),function(s,u,l){return r.apply(this,arguments)})(yield Mn(n),e,t);var r})),t.promise}(t,n._key).then(s=>new ad(e,r,n._key,s,new Ug(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function SR(n){n=on(n,er);const e=on(n.firestore,tr);return yv(Ur(e),n._key,{source:"server"}).then(t=>_A(e,n,t))}(this._delegate):function TR(n){n=on(n,er);const e=on(n.firestore,tr);return yv(Ur(e),n._key).then(t=>_A(e,n,t))}(this._delegate),t.then(r=>new Bw(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ua(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}function Ns(n,e,t){return n.message=n.message.replace(e,t),n}function jx(n){for(const e of n)if("object"==typeof e&&!EA(e))return e;return{}}function $x(n,e){var t,r;let s;return s=EA(n[0])?n[0]:EA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class Bw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Mx(this._delegate,e._delegate)}}class jw extends Bw{data(e){const t=this._delegate.data(e);return function FS(n,e){n||Je()}(void 0!==t),t}}class Ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}where(e,t,r){try{return new Ps(this.firestore,nf(this._delegate,function gR(n,e,t){const r=e,s=DD("where",n);return Lw._create(s,r,t)}(e,t,r)))}catch(s){throw Ns(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ps(this.firestore,nf(this._delegate,function mR(n,e="asc"){const t=e,r=DD("orderBy",n);return yA._create(r,t)}(e,t)))}catch(r){throw Ns(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ps(this.firestore,nf(this._delegate,function yR(n){return ux("limit",n),bD._create("limit",n,"F")}(e)))}catch(t){throw Ns(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ps(this.firestore,nf(this._delegate,function vR(n){return ux("limitToLast",n),bD._create("limitToLast",n,"L")}(e)))}catch(t){throw Ns(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ps(this.firestore,nf(this._delegate,function _R(...n){return TD._create("startAt",n,!0)}(...e)))}catch(t){throw Ns(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ps(this.firestore,nf(this._delegate,function wR(...n){return TD._create("startAfter",n,!1)}(...e)))}catch(t){throw Ns(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ps(this.firestore,nf(this._delegate,function ER(...n){return AD._create("endBefore",n,!1)}(...e)))}catch(t){throw Ns(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ps(this.firestore,nf(this._delegate,function IR(...n){return AD._create("endAt",n,!0)}(...e)))}catch(t){throw Ns(t,"endAt()","Query.endAt()")}}isEqual(e){return lA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function MR(n){n=on(n,ji);const e=on(n.firestore,tr),t=Ur(e),r=new sf(e);return function Mw(n,e){const t=new hr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(s,u,l){try{const m=yield wg(s,u,!0),w=new JT(u,m.ir),b=w.sc(m.documents),x=w.applyChanges(b,!1);l.resolve(x.snapshot)}catch(m){const w=rd(m,`Failed to execute query '${u} against cache`);l.reject(w)}}),function(s,u,l){return r.apply(this,arguments)})(yield Mn(n),e,t);var r})),t.promise}(t,n._query).then(s=>new rf(e,r,n,s))}(this._delegate):"server"===e?.source?function RR(n){n=on(n,ji);const e=on(n.firestore,tr),t=Ur(e),r=new sf(e);return nx(t,n._query,{source:"server"}).then(s=>new rf(e,r,n,s))}(this._delegate):function xR(n){n=on(n,ji);const e=on(n.firestore,tr),t=Ur(e),r=new sf(e);return Cx(n._query),nx(t,n._query).then(s=>new rf(e,r,n,s))}(this._delegate),t.then(r=>new IA(this.firestore,new rf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=jx(e),r=$x(e,s=>new IA(this.firestore,new rf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return Px(this._delegate,t,r)}withConverter(e){return new Ps(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}class nN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new nN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new jw(this._firestore,r))})}isEqual(e){return Mx(this._delegate,e._delegate)}}class wv extends Ps{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ua(this.firestore,e):null}doc(e){try{return new ua(this.firestore,void 0===e?vD(this._delegate):vD(this._delegate,e))}catch(t){throw Ns(t,"doc()","CollectionReference.doc()")}}add(e){return function PR(n,e){const t=on(n.firestore,tr),r=vD(n),s=SD(n.converter,e);return _v(t,[ED(Lg(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ua(this.firestore,t))}isEqual(e){return hx(this._delegate,e._delegate)}withConverter(e){return new wv(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}function jg(n){return on(n,er)}class CA{constructor(...e){this._delegate=new od(...e)}static documentId(){return new CA(Jn.keyField().canonicalString())}isEqual(e){return(e=(0,ln.m9)(e))instanceof od&&this._delegate._internalPath.isEqual(e._internalPath)}}class $g{constructor(e){this._delegate=e}static serverTimestamp(){const e=function WR(){return new hA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new $g(e)}static delete(){const e=function qR(){return new Pw("deleteField")}();return e._methodName="FieldValue.delete",new $g(e)}static arrayUnion(...e){const t=function ZR(...n){return new lR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new $g(t)}static arrayRemove(...e){const t=function KR(...n){return new dR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new $g(t)}static increment(e){const t=function YR(n){return new hR("increment",n)}(e);return t._methodName="FieldValue.increment",new $g(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const rN={Firestore:Vx,GeoPoint:_D,Timestamp:En,Blob:Uw,Transaction:Ux,WriteBatch:Bx,DocumentReference:ua,DocumentSnapshot:Bw,Query:Ps,QueryDocumentSnapshot:jw,QuerySnapshot:IA,CollectionReference:wv,FieldPath:CA,FieldValue:$g,setLogLevel:function tN(n){!function Zb(n){ea.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function sN(n){(function iN(n,e){n.INTERNAL.registerComponent(new Mm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},rN)))})(n,(e,t)=>new Vx(e,t,new eN)),n.registerVersion("@firebase/firestore-compat","0.3.9")}(pE.Z);var ud=F(7579),oN=F(6451),MD=F(5363);function Ti(n,e){return(0,Vi.e)((t,r)=>{let s=null,u=0,l=!1;const m=()=>l&&!s&&r.complete();t.subscribe((0,kn.x)(r,w=>{s?.unsubscribe();let b=0;const x=u++;(0,so.Xf)(n(w,x)).subscribe(s=(0,kn.x)(r,R=>r.next(e?e(w,R,x,b++):R),()=>{s=null,m()}))},()=>{l=!0,m()}))})}var aN=F(6063);class uN extends ud.x{constructor(e=1/0,t=1/0,r=aN.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=l;w+=2)m=w;m&&r.splice(0,m+1)}}}var cN=F(3099);function Hx(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,cN.B)({connector:()=>new uN(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}const RD=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hg=F(515);function $w(n){return n<=0?()=>Hg.E:(0,Vi.e)((e,t)=>{let r=0;e.subscribe((0,kn.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function ND(n){return(0,Vi.e)((e,t)=>{let r=!1;e.subscribe((0,kn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function Gx(n=dN){return(0,Vi.e)((e,t)=>{let r=!1;e.subscribe((0,kn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function dN(){return new RD}function cd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mo((s,u)=>n(s,u,r)):uh.y,$w(1),t?ND(e):Gx(()=>new RD))}var DA=F(576);function zx(n,e){return(0,DA.m)(e)?Ti(()=>n,e):Ti(()=>n)}var bA=F(9468);F(259);const AA=new Map,Wx={activated:!1,tokenObservers:[]},mN={initialized:!1,enabled:!1};function Tr(n){return AA.get(n)||Object.assign({},Wx)}function OD(){return mN}class IN{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new ln.BH,yield function CN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ln.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const $i=new ln.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xA(n){if(!Tr(n).activated)throw $i.create("use-before-activation",{appName:n.name})}function LD(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,me.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const R=yield s.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(R){throw $i.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==l.status)throw $i.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(R){throw $i.create("fetch-parse-error",{originalErrorMessage:R?.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw $i.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const b=1e3*Number(w[1]),x=Date.now();return{token:m.token,expireTimeMillis:x+b,issuedAtTimeMillis:x}}),RA.apply(this,arguments)}function Kx(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const Hw="firebase-app-check-store";let VD=null;function Qx(){return VD||(VD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e($i.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hw,{keyPath:"compositeKey"})}}catch(t){e($i.create("storage-open",{originalErrorMessage:t?.message}))}}),VD)}function NA(){return NA=(0,me.Z)(function*(n,e){const r=(yield Qx()).transaction(Hw,"readwrite"),u=r.objectStore(Hw).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=w=>{l()},r.onerror=w=>{var b;m($i.create("storage-set",{originalErrorMessage:null===(b=w.target.error)||void 0===b?void 0:b.message}))}})}),NA.apply(this,arguments)}const Gw=new Zo.Yd("@firebase/app-check");function kA(n,e){return(0,ln.hl)()?function MN(n,e){return function Jx(n,e){return NA.apply(this,arguments)}(function eM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Gw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function LA(){return OD().enabled}function VA(){return UA.apply(this,arguments)}function UA(){return UA=(0,me.Z)(function*(){const n=OD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),UA.apply(this,arguments)}const FN={error:"UNKNOWN_ERROR"};function LN(n){return ln.US.encodeString(JSON.stringify(n),!1)}function UD(n){return BA.apply(this,arguments)}function BA(){return BA=(0,me.Z)(function*(n,e=!1){const t=n.app;xA(t);const r=Tr(t);let u,s=r.token;if(s&&!Ev(s)&&(r.token=void 0,s=void 0),!s){const w=yield r.cachedTokenPromise;w&&(Ev(w)?s=w:yield kA(t,void 0))}if(!e&&s&&Ev(s))return{token:s.token};let m,l=!1;if(LA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=LD(Kx(t,yield VA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const w=yield r.exchangeTokenPromise;return yield kA(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield Tr(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Gw.warn(w.message):Gw.error(w),u=w}return s?u?m=Ev(s)?{token:s.token,internalError:u}:rM(u):(m={token:s.token},r.token=s,yield kA(t,s)):m=rM(u),l&&nM(t,m),m}),BA.apply(this,arguments)}function HA(n,e){const t=Tr(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function tM(n){const{app:e}=n,t=Tr(e);let r=t.tokenRefresher;r||(r=function UN(n){const{app:e}=n;return new IN((0,me.Z)(function*(){let r;if(r=Tr(e).token?yield UD(n,!0):yield UD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Tr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nM(n,e){const t=Tr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ev(n){return n.expireTimeMillis-Date.now()>0}function rM(n){return{token:LN(FN),error:n}}class BN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Tr(this.app);for(const t of e)HA(this.app,t.next);return Promise.resolve()}}const dM="app-check-internal";!function eP(){(0,ch._registerComponent)(new Mm.wA("app-check",n=>function jN(n,e){return new BN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dM).initialize()})),(0,ch._registerComponent)(new Mm.wA(dM,n=>function $N(n){return{getToken:e=>UD(n,e),addTokenListener:e=>function $A(n,e,t,r){const{app:s}=n,u=Tr(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Ev(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),tM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>tM(n))}(n,"INTERNAL",e),removeTokenListener:e=>HA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ch.registerVersion)("@firebase/app-check","0.7.0")}();class WA{constructor(){return(0,oi.vb)("app-check")}}typeof window<"u"&&window;var fM=F(9260);const pM=new h.OlP("angularfire2.auth.use-emulator"),gM=new h.OlP("angularfire2.auth.settings"),mM=new h.OlP("angularfire2.auth.tenant-id"),yM=new h.OlP("angularfire2.auth.langugage-code"),vM=new h.OlP("angularfire2.auth.use-device-language"),_M=new h.OlP("angularfire.auth.persistence"),wM=(n,e,t,r,s,u,l,m)=>(0,go.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=s,u&&w.useDeviceLanguage(),l)for(const[b,x]of Object.entries(l))w.settings[b]=x;return m&&w.setPersistence(m),w},[t,r,s,u,l,m]);let EM=(()=>{class n{constructor(t,r,s,u,l,m,w,b,x,R,B,K){const ve=new ud.x,Ve=vt(void 0).pipe((0,MD.Q)(l.outsideAngular),Ti(()=>u.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2644)))),(0,it.U)(()=>(0,go.on)(t,u,r)),(0,it.U)(Oe=>wM(Oe,u,m,b,x,R,w,B)),Hx({bufferSize:1,refCount:!1}));if(vu(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=vt(null);else{Ve.pipe(cd()).subscribe();const _t=Ve.pipe(Ti(Bt=>Bt.getRedirectResult().then(Zt=>Zt,()=>null)),oi.iC,Hx({bufferSize:1,refCount:!1})),Rt=Ve.pipe(Ti(Bt=>new zr.y(Zt=>({unsubscribe:u.runOutsideAngular(()=>Bt.onAuthStateChanged(dn=>Zt.next(dn),dn=>Zt.error(dn),()=>Zt.complete()))})))),St=Ve.pipe(Ti(Bt=>new zr.y(Zt=>({unsubscribe:u.runOutsideAngular(()=>Bt.onIdTokenChanged(dn=>Zt.next(dn),dn=>Zt.error(dn),()=>Zt.complete()))}))));this.authState=_t.pipe(zx(Rt),(0,bA.R)(l.outsideAngular),(0,MD.Q)(l.insideAngular)),this.user=_t.pipe(zx(St),(0,bA.R)(l.outsideAngular),(0,MD.Q)(l.insideAngular)),this.idToken=this.user.pipe(Ti(Bt=>Bt?(0,cn.D)(Bt.getIdToken()):vt(null))),this.idTokenResult=this.user.pipe(Ti(Bt=>Bt?(0,cn.D)(Bt.getIdTokenResult()):vt(null))),this.credential=(0,oN.T)(_t,ve,this.authState.pipe(mo(Bt=>!Bt))).pipe((0,it.U)(Bt=>Bt?.user?Bt:null),(0,bA.R)(l.outsideAngular),(0,MD.Q)(l.insideAngular))}return(0,go.pX)(this,Ve,u,{spy:{apply:(Oe,_t,Rt)=>{(Oe.startsWith("signIn")||Oe.startsWith("createUser"))&&Rt.then(St=>ve.next(St))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(go.Dh),h.LFG(go.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(oi.HU),h.LFG(pM,8),h.LFG(gM,8),h.LFG(mM,8),h.LFG(yM,8),h.LFG(vM,8),h.LFG(_M,8),h.LFG(WA,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function IM(n,e){return function oP(n,e=qv.z){return new zr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function KA(n,e){return IM(n,e).pipe((0,it.U)(t=>({payload:t,type:"query"})))}function jD(n,e){return KA(n,e).pipe(Zv(void 0),dE(),(0,it.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const w=s.find(x=>x.doc.ref.isEqual(l.ref)),b=t?.payload.docs.find(x=>x.ref.isEqual(l.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(l.metadata)||!w&&b&&JSON.stringify(b.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function CM(n,e,t){return jD(n,t).pipe(Al((r,s)=>function uP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function cP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return YA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return YA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return YA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function hE(n,e=uh.y){return n=n??fE,(0,Vi.e)((t,r)=>{let s,u=!0;t.subscribe((0,kn.x)(r,l=>{const m=e(l);(u||!n(s,m))&&(u=!1,s=m,r.next(l))}))})}(),(0,it.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function YA(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function DM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class bM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=jD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,it.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Zv(void 0),dE(),mo(([r,s])=>s.length>0||!r),(0,it.U)(([r,s])=>s),oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Al((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=DM(e);return CM(this.query,t,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return KA(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),oi.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(oi.iC)}add(e){return this.ref.add(e)}doc(e){return new TM(this.ref.doc(e),this.afs)}}class TM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=xM(r,t);return new bM(s,u,this.afs)}snapshotChanges(){return function aP(n,e){return IM(n,e).pipe(Zv(void 0),dE(),(0,it.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cn.D)(this.ref.get(e)).pipe(oi.iC)}}class lP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?jD(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),mo(t=>t.length>0),oi.iC):jD(this.query,this.afs.schedulers.outsideAngular).pipe(oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Al((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=DM(e);return CM(this.query,t,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return KA(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),oi.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(oi.iC)}}const AM=new h.OlP("angularfire2.enableFirestorePersistence"),SM=new h.OlP("angularfire2.firestore.persistenceSettings"),dP=new h.OlP("angularfire2.firestore.settings"),hP=new h.OlP("angularfire2.firestore.use-emulator");function xM(n,e=(t=>t)){return{query:e(n),ref:n}}let $D=(()=>{class n{constructor(t,r,s,u,l,m,w,b,x,R,B,K,ve,Ve,Oe,_t,Rt){this.schedulers=w;const St=(0,go.on)(t,m,r),Bt=x;R&&wM(St,m,B,ve,Ve,Oe,K,_t),[this.firestore,this.persistenceEnabled$]=(0,go.cc)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const Zt=m.runOutsideAngular(()=>St.firestore());if(u&&Zt.settings(u),Bt&&Zt.useEmulator(...Bt),s&&!vu(l)){const dn=()=>{try{return(0,cn.D)(Zt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(ls){return typeof console<"u"&&console.warn(ls),vt(!1)}};return[Zt,m.runOutsideAngular(dn)]}return[Zt,vt(!1)]},[u,Bt,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=xM(s,r),m=this.schedulers.ngZone.run(()=>u);return new bM(m,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new lP(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new TM(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(go.Dh),h.LFG(go.xv,8),h.LFG(AM,8),h.LFG(dP,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(oi.HU),h.LFG(SM,8),h.LFG(hP,8),h.LFG(EM,8),h.LFG(pM,8),h.LFG(gM,8),h.LFG(mM,8),h.LFG(yM,8),h.LFG(vM,8),h.LFG(_M,8),h.LFG(WA,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fP=(()=>{class n{constructor(){fM.Z.registerVersion("angularfire",oi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:AM,useValue:!0},{provide:SM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[$D]}),n})();class cu extends ud.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var pP=F(9672);function MM(...n){const e=(0,Xi.yG)(n),t=(0,Xi.jO)(n),{args:r,keys:s}=al(n);if(0===r.length)return(0,cn.D)([],e);const u=new zr.y(function gP(n,e,t=uh.y){return r=>{RM(e,()=>{const{length:s}=n,u=new Array(s);let l=s,m=s;for(let w=0;w<s;w++)RM(e,()=>{const b=(0,cn.D)(n[w],e);let x=!1;b.subscribe((0,kn.x)(r,R=>{u[w]=R,x||(x=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>Ra(s,l):uh.y));return t?u.pipe(cl(t)):u}function RM(n,e,t){n?(0,pP.f)(t,n,e):e()}function NM(n){return new zr.y(e=>{(0,so.Xf)(n()).subscribe(e)})}var mP=F(9635);function zw(n,e){const t=(0,DA.m)(n)?n:()=>n,r=s=>s.error(t());return new zr.y(e?s=>e.schedule(r,0,s):r)}var PM=F(727);function QA(){return(0,Vi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,kn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class OM extends zr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Vi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new PM.w0;const t=this.getSubject();e.add(this.source.subscribe((0,kn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=PM.w0.EMPTY)}return e}refCount(){return QA()(this)}}var Os=F(5577);function Gg(n,e){return(0,DA.m)(e)?(0,Os.z)(n,e,1):(0,Os.z)(n,1)}var cs=F(8505);function uf(n){return(0,Vi.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,kn.x)(t,void 0,void 0,l=>{u=(0,so.Xf)(n(l,uf(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function JA(n){return n<=0?()=>Hg.E:(0,Vi.e)((e,t)=>{let r=[];e.subscribe((0,kn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function kM(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mo((s,u)=>n(s,u,r)):uh.y,JA(1),t?ND(e):Gx(()=>new RD))}function XA(n){return(0,Vi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Wt="primary",qw=Symbol("RouteTitle");class _P{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Iv(n){return new _P(n)}function wP(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))s[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Nc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!FM(n[s],e[s]))return!1;return!0}function FM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function LM(n){return Array.prototype.concat.apply([],n)}function VM(n){return n.length>0?n[n.length-1]:null}function Hi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function cf(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,cn.D)(Promise.resolve(n)):vt(n)}const CP={exact:function jM(n,e,t){if(!qg(n.segments,e.segments)||!HD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!jM(n.children[r],e.children[r],t))return!1;return!0},subset:$M},UM={exact:function DP(n,e){return Nc(n,e)},subset:function bP(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>FM(n[t],e[t]))},ignored:()=>!0};function BM(n,e,t){return CP[t.paths](n.root,e.root,t.matrixParams)&&UM[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function $M(n,e,t){return HM(n,e,e.segments,t)}function HM(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!qg(s,t)||e.hasChildren()||!HD(s,t,r))}if(n.segments.length===t.length){if(!qg(n.segments,t)||!HD(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!$M(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(qg(n.segments,s)&&HD(n.segments,s,r)&&n.children[Wt])&&HM(n.children[Wt],e,u,r)}}function HD(n,e,t){return e.every((r,s)=>UM[t](n[s].parameters,r.parameters))}class zg{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return SP.serialize(this)}}class Qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Hi(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return GD(this)}}class Ww{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Iv(this.parameters)),this._parameterMap}toString(){return WM(this)}}function qg(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let GM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new tS},providedIn:"root"}),n})();class tS{parse(e){const t=new LP(e);return new zg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zw(e.root,!0)}`,r=function RP(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${zD(t)}=${zD(s)}`).join("&"):`${zD(t)}=${zD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),s="string"==typeof e.fragment?`#${function xP(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${s}`}}const SP=new tS;function GD(n){return n.segments.map(e=>WM(e)).join("/")}function Zw(n,e){if(!n.hasChildren())return GD(n);if(e){const t=n.children[Wt]?Zw(n.children[Wt],!1):"",r=[];return Hi(n.children,(s,u)=>{u!==Wt&&r.push(`${u}:${Zw(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function AP(n,e){let t=[];return Hi(n.children,(r,s)=>{s===Wt&&(t=t.concat(e(r,s)))}),Hi(n.children,(r,s)=>{s!==Wt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===Wt?[Zw(n.children[Wt],!1)]:[`${s}:${Zw(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${GD(n)}/${t[0]}`:`${GD(n)}/(${t.join("//")})`}}function zM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zD(n){return zM(n).replace(/%3B/gi,";")}function nS(n){return zM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qD(n){return decodeURIComponent(n)}function qM(n){return qD(n.replace(/\+/g,"%20"))}function WM(n){return`${nS(n.path)}${function MP(n){return Object.keys(n).map(e=>`;${nS(e)}=${nS(n[e])}`).join("")}(n.parameters)}`}const NP=/^[^\/()?;=#]+/;function WD(n){const e=n.match(NP);return e?e[0]:""}const PP=/^[^=?&#]+/,kP=/^[^&#]+/;class LP{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Wt]=new Qt(e,t)),r}parseSegment(){const e=WD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new Ww(qD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=WD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=WD(this.remaining);s&&(r=s,this.capture(r))}e[qD(t)]=qD(r)}parseQueryParam(e){const t=function OP(n){const e=n.match(PP);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function FP(n){const e=n.match(kP);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=qM(t),u=qM(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=WD(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Wt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Wt]:new Qt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function rS(n){return n.segments.length>0?new Qt([],{[Wt]:n}):n}function ZD(n){const e={};for(const r of Object.keys(n.children)){const u=ZD(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function VP(n){if(1===n.numberOfChildren&&n.children[Wt]){const e=n.children[Wt];return new Qt(n.segments.concat(e.segments),e.children)}return n}(new Qt(n.segments,e))}function Wg(n){return n instanceof zg}function jP(n,e,t,r,s){if(0===t.length)return Cv(e.root,e.root,e.root,r,s);const u=function YM(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new KM(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Hi(u.outlets,(w,b)=>{m[b]="string"==typeof w?w.split("/"):w}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new KM(t,e,r)}(t);return u.toRoot()?Cv(e.root,e.root,new Qt([],{}),r,s):function l(w){const b=function HP(n,e,t,r){if(n.isAbsolute)return new Dv(e.root,!0,0);if(-1===r)return new Dv(t,t===e.root,0);return function QM(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new h.vHH(4005,!1);s=r.segments.length}return new Dv(r,!1,s-u)}(t,r+(Kw(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),x=b.processChildren?Qw(b.segmentGroup,b.index,u.commands):sS(b.segmentGroup,b.index,u.commands);return Cv(e.root,b.segmentGroup,x,r,s)}(n.snapshot?._lastPathIndex)}function Kw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yw(n){return"object"==typeof n&&null!=n&&n.outlets}function Cv(n,e,t,r,s){let l,u={};r&&Hi(r,(w,b)=>{u[b]=Array.isArray(w)?w.map(x=>`${x}`):`${w}`}),l=n===e?t:ZM(n,e,t);const m=rS(ZD(l));return new zg(m,u,s)}function ZM(n,e,t){const r={};return Hi(n.children,(s,u)=>{r[u]=s===e?t:ZM(s,e,t)}),new Qt(n.segments,r)}class KM{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Kw(r[0]))throw new h.vHH(4003,!1);const s=r.find(Yw);if(s&&s!==VM(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dv{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function sS(n,e,t){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return Qw(n,e,t);const r=function zP(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],m=t[r];if(Yw(m))break;const w=`${m}`,b=r<t.length-1?t[r+1]:null;if(s>0&&void 0===w)break;if(w&&b&&"object"==typeof b&&void 0===b.outlets){if(!XM(w,b,l))return u;r+=2}else{if(!XM(w,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Qt(n.segments.slice(0,r.pathIndex),{});return u.children[Wt]=new Qt(n.segments.slice(r.pathIndex),n.children),Qw(u,0,s)}return r.match&&0===s.length?new Qt(n.segments,{}):r.match&&!n.hasChildren()?oS(n,e,t):r.match?Qw(n,0,s):oS(n,e,t)}function Qw(n,e,t){if(0===t.length)return new Qt(n.segments,{});{const r=function GP(n){return Yw(n[0])?n[0].outlets:{[Wt]:n}}(t),s={};return Hi(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[l]=sS(n.children[l],e,u))}),Hi(n.children,(u,l)=>{void 0===r[l]&&(s[l]=u)}),new Qt(n.segments,s)}}function oS(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Yw(u)){const w=qP(u.outlets);return new Qt(r,w)}if(0===s&&Kw(t[0])){r.push(new Ww(n.segments[e].path,JM(t[0]))),s++;continue}const l=Yw(u)?u.outlets[Wt]:`${u}`,m=s<t.length-1?t[s+1]:null;l&&m&&Kw(m)?(r.push(new Ww(l,JM(m))),s+=2):(r.push(new Ww(l,{})),s++)}return new Qt(r,{})}function qP(n){const e={};return Hi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=oS(new Qt([],{}),0,t))}),e}function JM(n){const e={};return Hi(n,(t,r)=>e[r]=`${t}`),e}function XM(n,e,t){return n==t.path&&Nc(e,t.parameters)}class ld{constructor(e,t){this.id=e,this.url=t}}class aS extends ld{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zg extends ld{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class KD extends ld{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class e1 extends ld{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WP extends ld{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZP extends ld{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KP extends ld{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YP extends ld{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QP extends ld{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JP{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XP{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eO{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tO{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nO{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rO{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t1{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class n1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uS(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=uS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return cS(e,this._root).map(t=>t.value)}}function uS(n,e){if(n===e.value)return e;for(const t of e.children){const r=uS(n,t);if(r)return r}return null}function cS(n,e){if(n===e.value)return[e];for(const t of e.children){const r=cS(n,t);if(r.length)return r.unshift(e),r}return[]}class dd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function bv(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class r1 extends n1{constructor(e,t){super(e),this.snapshot=t,lS(this,e)}toString(){return this.snapshot.toString()}}function i1(n,e){const t=function sO(n,e){const l=new YD([],{},{},"",{},Wt,e,null,n.root,-1,{});return new o1("",new dd(l,[]))}(n,e),r=new cu([new Ww("",{})]),s=new cu({}),u=new cu({}),l=new cu({}),m=new cu(""),w=new hd(r,s,l,m,u,Wt,e,t.root);return w.snapshot=t.root,new r1(new dd(w,[]),t)}class hd{constructor(e,t,r,s,u,l,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this.title=this.data?.pipe((0,it.U)(b=>b[qw]))??vt(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>Iv(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>Iv(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function s1(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function oO(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class YD{constructor(e,t,r,s,u,l,m,w,b,x,R,B){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this.title=this.data?.[qw],this.routeConfig=w,this._urlSegment=b,this._lastPathIndex=x,this._correctedLastPathIndex=B??x,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class o1 extends n1{constructor(e,t){super(t),this.url=e,lS(this,t)}toString(){return a1(this._root)}}function lS(n,e){e.value._routerState=n,e.children.forEach(t=>lS(n,t))}function a1(n){const e=n.children.length>0?` { ${n.children.map(a1).join(", ")} } `:"";return`${n.value}${e}`}function dS(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Nc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Nc(e.params,t.params)||n.params.next(t.params),function EP(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Nc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Nc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hS(n,e){const t=Nc(n.params,e.params)&&function TP(n,e){return qg(n,e)&&n.every((t,r)=>Nc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hS(n.parent,e.parent))}function Jw(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function uO(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Jw(n,r,s);return Jw(n,r)})}(n,e,t);return new dd(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>Jw(n,m)),l}}const r=function cO(n){return new hd(new cu(n.url),new cu(n.params),new cu(n.queryParams),new cu(n.fragment),new cu(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Jw(n,u));return new dd(r,s)}}const fS="ngNavigationCancelingError";function u1(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Wg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=c1(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function c1(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[fS]=!0,r.cancellationCode=e,t&&(r.url=t),r}function l1(n){return d1(n)&&Wg(n.url)}function d1(n){return n&&n[fS]}class lO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Xw,this.attachRef=null}}let Xw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lO,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QD=!1;let pS=(()=>{class n{constructor(t,r,s,u,l){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=s||Wt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,QD);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,QD);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,QD);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,QD);this._activatedRoute=t;const s=this.location,l=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new dO(t,m,s.injector);if(r&&function hO(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(l);this.activated=s.createComponent(b,s.length,w)}else this.activated=s.createComponent(l,{index:s.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Xw),h.Y36(h.s_b),h.$8M("name"),h.Y36(h.sBO),h.Y36(h.lqb))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class dO{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===hd?this.route:e===Xw?this.childContexts:this.parent.get(e,t)}}let gS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[pS],encapsulation:2}),n})();function h1(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yS(n){const e=n.children&&n.children.map(yS),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wt&&(t.component=gS),t}function ca(n){return n.outlet||Wt}function f1(n,e){const t=n.filter(r=>ca(r)===e);return t.push(...n.filter(r=>ca(r)!==e)),t}function eE(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yO{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dS(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=bv(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),Hi(s,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=bv(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=bv(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=bv(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new rO(u.value.snapshot))}),e.children.length&&this.forwardEvent(new tO(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(dS(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),dS(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=eE(s.snapshot),w=m?.get(h._Vd)??null;l.attachRef=null,l.route=s,l.resolver=w,l.injector=m,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class p1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class JD{constructor(e,t){this.component=e,this.route=t}}function vO(n,e,t){const r=n._root;return tE(r,e?e._root:null,t,[r.value])}function Tv(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function tE(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=bv(e);return n.children.forEach(l=>{(function wO(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const w=function EO(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qg(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qg(n.url,e.url)||!Nc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hS(n,e)||!Nc(n.queryParams,e.queryParams);default:return!hS(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new p1(r)):(u.data=l.data,u._resolvedData=l._resolvedData),tE(n,e,u.component?m?m.children:null:t,r,s),w&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new JD(m.outlet.component,l))}else l&&nE(e,m,s),s.canActivateChecks.push(new p1(r)),tE(n,null,u.component?m?m.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),Hi(u,(l,m)=>nE(l,t.getContext(m),s)),s}function nE(n,e,t){const r=bv(n),s=n.value;Hi(r,(u,l)=>{nE(u,s.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new JD(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function rE(n){return"function"==typeof n}function vS(n){return n instanceof RD||"EmptyError"===n?.name}const XD=Symbol("INITIAL_VALUE");function Av(){return Ti(n=>MM(n.map(e=>e.pipe($w(1),Zv(XD)))).pipe((0,it.U)(e=>{for(const t of e)if(!0!==t){if(t===XD)return XD;if(!1===t||t instanceof zg)return t}return!0}),mo(e=>e!==XD),$w(1)))}function g1(n){return(0,mP.z)((0,cs.b)(e=>{if(Wg(e))throw u1(0,e)}),(0,it.U)(e=>!0===e))}const _S={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m1(n,e,t,r,s){const u=wS(n,e,t);return u.matched?function VO(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?vt(s.map(l=>{const m=Tv(l,n);return cf(function AO(n){return n&&rE(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Av(),g1()):vt(!0)}(r=h1(e,r),e,t).pipe((0,it.U)(l=>!0===l?u:{..._S})):vt(u)}function wS(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{..._S}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||wP)(t,n,e);if(!s)return{..._S};const u={};Hi(s.posParams,(m,w)=>{u[w]=m.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function eb(n,e,t,r,s="corrected"){if(t.length>0&&function jO(n,e,t){return t.some(r=>tb(n,e,r)&&ca(r)!==Wt)}(n,t,r)){const l=new Qt(e,function BO(n,e,t,r){const s={};s[Wt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ca(u)!==Wt){const l=new Qt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,s[ca(u)]=l}return s}(n,e,r,new Qt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function $O(n,e,t){return t.some(r=>tb(n,e,r))}(n,t,r)){const l=new Qt(n.segments,function UO(n,e,t,r,s,u){const l={};for(const m of r)if(tb(n,t,m)&&!s[ca(m)]){const w=new Qt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,l[ca(m)]=w}return{...s,...l}}(n,e,t,r,n.children,s));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const u=new Qt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function tb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function y1(n,e,t,r){return!!(ca(n)===r||r!==Wt&&tb(e,t,n))&&("**"===n.path||wS(e,n,t).matched)}function v1(n,e,t){return 0===e.length&&!n.children[t]}const nb=!1;class rb{constructor(e){this.segmentGroup=e||null}}class _1{constructor(e){this.urlTree=e}}function iE(n){return zw(new rb(n))}function w1(n){return zw(new _1(n))}class qO{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=eb(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Wt).pipe((0,it.U)(u=>this.createUrlTree(ZD(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uf(u=>{if(u instanceof _1)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof rb?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Wt).pipe((0,it.U)(s=>this.createUrlTree(ZD(s),e.queryParams,e.fragment))).pipe(uf(s=>{throw s instanceof rb?this.noMatchError(s):s}))}noMatchError(e){return new h.vHH(4002,nb)}createUrlTree(e,t,r){const s=rS(e);return new zg(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,it.U)(u=>new Qt([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,cn.D)(s).pipe(Gg(u=>{const l=r.children[u],m=f1(t,u);return this.expandSegmentGroup(e,m,l,u).pipe((0,it.U)(w=>({segment:w,outlet:u})))}),Al((u,l)=>(u[l.outlet]=l.segment,u),{}),kM())}expandSegment(e,t,r,s,u,l){return(0,cn.D)(r).pipe(Gg(m=>this.expandSegmentAgainstRoute(e,t,r,m,s,u,l).pipe(uf(b=>{if(b instanceof rb)return vt(null);throw b}))),cd(m=>!!m),uf((m,w)=>{if(vS(m))return v1(t,s,u)?vt(new Qt([],{})):iE(t);throw m}))}expandSegmentAgainstRoute(e,t,r,s,u,l,m){return y1(s,t,u,l)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,l):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l):iE(t):iE(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?w1(u):this.lineralizeSegments(r,u).pipe((0,Os.z)(l=>{const m=new Qt(l,{});return this.expandSegment(e,m,t,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:m,consumedSegments:w,remainingSegments:b,positionalParamSegments:x}=wS(t,s,u);if(!m)return iE(t);const R=this.applyRedirectCommands(w,s.redirectTo,x);return s.redirectTo.startsWith("/")?w1(R):this.lineralizeSegments(s,R).pipe((0,Os.z)(B=>this.expandSegment(e,t,r,B.concat(b),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=h1(r,e),r.loadChildren?(r._loadedRoutes?vt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,it.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Qt(s,{})))):vt(new Qt(s,{}))):m1(t,r,s,e).pipe(Ti(({matched:l,consumedSegments:m,remainingSegments:w})=>l?this.getChildConfig(e=r._injector??e,r,s).pipe((0,Os.z)(x=>{const R=x.injector??e,B=x.routes,{segmentGroup:K,slicedSegments:ve}=eb(t,m,w,B),Ve=new Qt(K.segments,K.children);if(0===ve.length&&Ve.hasChildren())return this.expandChildren(R,B,Ve).pipe((0,it.U)(St=>new Qt(m,St)));if(0===B.length&&0===ve.length)return vt(new Qt(m,{}));const Oe=ca(r)===u;return this.expandSegment(R,Ve,B,ve,Oe?Wt:u,!0).pipe((0,it.U)(Rt=>new Qt(m.concat(Rt.segments),Rt.children)))})):iE(t)))}getChildConfig(e,t,r){return t.children?vt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?vt({routes:t._loadedRoutes,injector:t._loadedInjector}):function LO(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?vt(!0):vt(s.map(l=>{const m=Tv(l,n);return cf(function CO(n){return n&&rE(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Av(),g1())}(e,t,r).pipe((0,Os.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,cs.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function GO(n){return zw(c1(nb,3))}())):vt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return vt(r);if(s.numberOfChildren>1||!s.children[Wt])return zw(new h.vHH(4e3,nb));s=s.children[Wt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new zg(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Hi(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[u]=t[m]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return Hi(t.children,(m,w)=>{l[w]=this.createSegmentGroup(e,m,r,s)}),new Qt(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new h.vHH(4001,nb);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class ZO{}class QO{constructor(e,t,r,s,u,l,m,w){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=m,this.urlSerializer=w}recognize(){const e=eb(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Wt).pipe((0,it.U)(t=>{if(null===t)return null;const r=new YD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new dd(r,t),u=new o1(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=s1(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,cn.D)(Object.keys(r.children)).pipe(Gg(s=>{const u=r.children[s],l=f1(t,s);return this.processSegmentGroup(e,l,u,s)}),Al((s,u)=>s&&u?(s.push(...u),s):null),function yP(n,e=!1){return(0,Vi.e)((t,r)=>{let s=0;t.subscribe((0,kn.x)(r,u=>{const l=n(u,s++);(l||e)&&r.next(u),!l&&r.complete()}))})}(s=>null!==s),ND(null),kM(),(0,it.U)(s=>{if(null===s)return null;const u=E1(s);return function JO(n){n.sort((e,t)=>e.value.outlet===Wt?-1:t.value.outlet===Wt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,cn.D)(t).pipe(Gg(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,s,u)),cd(l=>!!l),uf(l=>{if(vS(l))return v1(r,s,u)?vt([]):vt(null);throw l}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!y1(t,r,s,u))return vt(null);let l;if("**"===t.path){const m=s.length>0?VM(s).parameters:{},w=C1(r)+s.length;l=vt({snapshot:new YD(s,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,b1(t),ca(t),t.component??t._loadedComponent??null,t,I1(r),w,T1(t),w),consumedSegments:[],remainingSegments:[]})}else l=m1(r,t,s,e).pipe((0,it.U)(({matched:m,consumedSegments:w,remainingSegments:b,parameters:x})=>{if(!m)return null;const R=C1(r)+w.length;return{snapshot:new YD(w,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,b1(t),ca(t),t.component??t._loadedComponent??null,t,I1(r),R,T1(t),R),consumedSegments:w,remainingSegments:b}}));return l.pipe(Ti(m=>{if(null===m)return vt(null);const{snapshot:w,consumedSegments:b,remainingSegments:x}=m;e=t._injector??e;const R=t._loadedInjector??e,B=function XO(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:K,slicedSegments:ve}=eb(r,b,x,B.filter(Oe=>void 0===Oe.redirectTo),this.relativeLinkResolution);if(0===ve.length&&K.hasChildren())return this.processChildren(R,B,K).pipe((0,it.U)(Oe=>null===Oe?null:[new dd(w,Oe)]));if(0===B.length&&0===ve.length)return vt([new dd(w,[])]);const Ve=ca(t)===u;return this.processSegment(R,B,K,ve,Ve?Wt:u).pipe((0,it.U)(Oe=>null===Oe?null:[new dd(w,Oe)]))}))}}function ek(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function E1(n){const e=[],t=new Set;for(const r of n){if(!ek(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=E1(r.children);e.push(new dd(r.value,s))}return e.filter(r=>!t.has(r))}function I1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function C1(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function b1(n){return n.data||{}}function T1(n){return n.resolve||{}}function A1(n){return"string"==typeof n.title||null===n.title}function ES(n){return Ti(e=>{const t=n(e);return t?(0,cn.D)(t).pipe((0,it.U)(()=>e)):vt(e)})}let S1=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===Wt);return r}getResolvedTitleForRoute(t){return t.data[qw]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(x1)},providedIn:"root"}),n})(),x1=(()=>{class n extends S1{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Mf))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uk{}class lk extends class ck{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const sb=new h.OlP("",{providedIn:"root",factory:()=>({})}),IS=new h.OlP("ROUTES");let CS=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return vt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=cf(t.loadComponent()).pipe((0,cs.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),XA(()=>{this.componentLoaders.delete(t)})),s=new OM(r,()=>new ud.x).pipe(QA());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return vt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,it.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,b,x=!1;Array.isArray(m)?b=m:(w=m.create(t).injector,b=LM(w.get(IS,[],h.XFs.Self|h.XFs.Optional)));return{routes:b.map(yS),injector:w}}),XA(()=>{this.childrenLoaders.delete(r)})),l=new OM(u,()=>new ud.x).pipe(QA());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return cf(t()).pipe((0,Os.z)(r=>r instanceof h.YKP||Array.isArray(r)?vt(r):(0,cn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3),h.LFG(h.Sil))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hk{}class fk{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pk(n){throw n}function gk(n,e,t){return e.parse("/")}const mk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function R1(){const n=(0,h.f3M)(GM),e=(0,h.f3M)(Xw),t=(0,h.f3M)(Ne),r=(0,h.f3M)(h.zs3),s=(0,h.f3M)(h.Sil),u=(0,h.f3M)(IS,{optional:!0})??[],l=(0,h.f3M)(sb,{optional:!0})??{},m=(0,h.f3M)(x1),w=(0,h.f3M)(S1,{optional:!0}),b=(0,h.f3M)(hk,{optional:!0}),x=(0,h.f3M)(uk,{optional:!0}),R=new Gi(null,n,e,t,r,s,LM(u));return b&&(R.urlHandlingStrategy=b),x&&(R.routeReuseStrategy=x),R.titleStrategy=w??m,function vk(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,R),R}let Gi=(()=>{class n{constructor(t,r,s,u,l,m,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ud.x,this.errorHandler=pk,this.malformedUriErrorHandler=gk,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>vt(void 0),this.urlHandlingStrategy=new fk,this.routeReuseStrategy=new lk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(CS),this.configLoader.onLoadEndListener=B=>this.triggerEvent(new XP(B)),this.configLoader.onLoadStartListener=B=>this.triggerEvent(new JP(B)),this.ngModule=l.get(h.h0i),this.console=l.get(h.c2e);const R=l.get(h.R0b);this.isNgZoneEnabled=R instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function IP(){return new zg(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=i1(this.currentUrlTree,this.rootComponentType),this.transitions=new cu({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(mo(s=>0!==s.id),(0,it.U)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ti(s=>{let u=!1,l=!1;return vt(s).pipe((0,cs.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ti(m=>{const w=this.browserUrlTree.toString(),b=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return N1(m.source)&&(this.browserUrlTree=m.extractedUrl),vt(m).pipe(Ti(R=>{const B=this.transitions.getValue();return r.next(new aS(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),B!==this.transitions.getValue()?Hg.E:Promise.resolve(R)}),function WO(n,e,t,r){return Ti(s=>function zO(n,e,t,r,s){return new qO(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,it.U)(u=>({...s,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,cs.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},s.urlAfterRedirects=R.urlAfterRedirects}),function nk(n,e,t,r,s,u){return(0,Os.z)(l=>function YO(n,e,t,r,s,u,l="emptyOnly",m="legacy"){return new QO(n,e,t,r,s,l,m,u).recognize().pipe(Ti(w=>null===w?function KO(n){return new zr.y(e=>e.error(n))}(new ZO):vt(w)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,s,u).pipe((0,it.U)(m=>({...l,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,cs.b)(R=>{if(s.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(K,R)}this.browserUrlTree=R.urlAfterRedirects}const B=new WP(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(B)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:K,source:ve,restoredState:Ve,extras:Oe}=m,_t=new aS(B,this.serializeUrl(K),ve,Ve);r.next(_t);const Rt=i1(K,this.rootComponentType).snapshot;return vt(s={...m,targetSnapshot:Rt,urlAfterRedirects:K,extras:{...Oe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),Hg.E}),(0,cs.b)(m=>{const w=new ZP(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,it.U)(m=>s={...m,guards:vO(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function xO(n,e){return(0,Os.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?vt({...t,guardsResult:!0}):function MO(n,e,t,r){return(0,cn.D)(n).pipe((0,Os.z)(s=>function FO(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?vt(u.map(m=>{const w=eE(e)??s,b=Tv(m,w);return cf(function TO(n){return n&&rE(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):w.runInContext(()=>b(n,e,t,r))).pipe(cd())})).pipe(Av()):vt(!0)}(s.component,s.route,t,e,r)),cd(s=>!0!==s,!0))}(l,r,s,n).pipe((0,Os.z)(m=>m&&function IO(n){return"boolean"==typeof n}(m)?function RO(n,e,t,r){return(0,cn.D)(e).pipe(Gg(s=>Wv(function PO(n,e){return null!==n&&e&&e(new eO(n)),vt(!0)}(s.route.parent,r),function NO(n,e){return null!==n&&e&&e(new nO(n)),vt(!0)}(s.route,r),function kO(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function _O(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>NM(()=>vt(l.guards.map(w=>{const b=eE(l.node)??t,x=Tv(w,b);return cf(function bO(n){return n&&rE(n.canActivateChild)}(x)?x.canActivateChild(r,n):b.runInContext(()=>x(r,n))).pipe(cd())})).pipe(Av())));return vt(u).pipe(Av())}(n,s.path,t),function OO(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return vt(!0);const s=r.map(u=>NM(()=>{const l=eE(e)??t,m=Tv(u,l);return cf(function DO(n){return n&&rE(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(cd())}));return vt(s).pipe(Av())}(n,s.route,t))),cd(s=>!0!==s,!0))}(r,u,n,e):vt(m)),(0,it.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,cs.b)(m=>{if(s.guardsResult=m.guardsResult,Wg(m.guardsResult))throw u1(0,m.guardsResult);const w=new KP(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),mo(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),ES(m=>{if(m.guards.canActivateChecks.length)return vt(m).pipe((0,cs.b)(w=>{const b=new YP(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(b)}),Ti(w=>{let b=!1;return vt(w).pipe(function rk(n,e){return(0,Os.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return vt(t);let u=0;return(0,cn.D)(s).pipe(Gg(l=>function ik(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!A1(s)&&(u[qw]=s.title),function sk(n,e,t,r){const s=function ok(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return vt({});const u={};return(0,cn.D)(s).pipe((0,Os.z)(l=>function ak(n,e,t,r){const s=eE(e)??r,u=Tv(n,s);return cf(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(cd(),(0,cs.b)(m=>{u[l]=m}))),JA(1),function vP(n){return(0,it.U)(()=>n)}(u),uf(l=>vS(l)?Hg.E:zw(l)))}(u,n,e,r).pipe((0,it.U)(l=>(n._resolvedData=l,n.data=s1(n,t).resolve,s&&A1(s)&&(n.data[qw]=s.title),null)))}(l.route,r,n,e)),(0,cs.b)(()=>u++),JA(1),(0,Os.z)(l=>u===s.length?vt(t):Hg.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,cs.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,cs.b)(w=>{const b=new QP(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(b)}))}),ES(m=>{const w=b=>{const x=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,cs.b)(R=>{b.component=R}),(0,it.U)(()=>{})));for(const R of b.children)x.push(...w(R));return x};return MM(w(m.targetSnapshot.root)).pipe(ND(),$w(1))}),ES(()=>this.afterPreactivation()),(0,it.U)(m=>{const w=function aO(n,e,t){const r=Jw(n,e._root,t?t._root:void 0);return new r1(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return s={...m,targetRouterState:w}}),(0,cs.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,it.U)(r=>(new yO(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,cs.b)({next(){u=!0},complete(){u=!0}}),XA(()=>{u||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),uf(m=>{if(l=!0,d1(m)){l1(m)||(this.navigated=!0,this.restoreHistory(s,!0));const w=new KD(s.id,this.serializeUrl(s.extractedUrl),m.message,m.cancellationCode);if(r.next(w),l1(m)){const b=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),x={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||N1(s.source)};this.scheduleNavigation(b,"imperative",null,x,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{this.restoreHistory(s,!0);const w=new e1(s.id,this.serializeUrl(s.extractedUrl),m,s.targetSnapshot??void 0);r.next(w);try{s.resolve(this.errorHandler(m))}catch(b){s.reject(b)}}return Hg.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const s={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const m={...u};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(yS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:w}=r,b=s||this.routerState.root,x=w?this.currentUrlTree.fragment:l;let R=null;switch(m){case"merge":R={...this.currentUrlTree.queryParams,...u};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=u||null}return null!==R&&(R=this.removeEmptyProps(R)),jP(b,this.currentUrlTree,t,R,x??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Wg(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function _k(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...mk}:!1===r?{...yk}:r,Wg(t))return BM(this.currentUrlTree,t,s);const u=this.parseUrl(t);return BM(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Zg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let m,w,b;l?(m=l.resolve,w=l.reject,b=l.promise):b=new Promise((B,K)=>{m=B,w=K});const x=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),R=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:x,targetPageId:R,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(B=>Promise.reject(B))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===s?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,s){const u=new KD(t.id,this.serializeUrl(t.extractedUrl),r,s);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:function(){return R1()},providedIn:"root"}),n})();function N1(n){return"imperative"!==n}let ab=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ud.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Gi),h.Y36(hd),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})(),sE=(()=>{class n{constructor(t,r,s){this.router=t,this.route=r,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ud.x,this.subscription=t.events.subscribe(u=>{u instanceof Zg&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,s,u,l){return!!(0!==t||r||s||u||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Gi),h.Y36(hd),h.Y36(ge))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)("href",r.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})();class P1{}let Ik=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(mo(t=>t instanceof Zg),Gg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?s.push(this.preloadConfig(l,u)):(u.children||u._loadedRoutes)&&s.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,cn.D)(s).pipe((0,sp.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):vt(null);const u=s.pipe((0,Os.z)(l=>null===l?vt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,cn.D)([u,l]).pipe((0,sp.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Gi),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(P1),h.LFG(CS))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DS=new h.OlP("");let O1=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof aS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zg&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof t1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new t1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Sv(n,e){return{\u0275kind:n,\u0275providers:e}}function bS(n){return[{provide:IS,multi:!0,useValue:n}]}function F1(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Gi),s=n.get(L1);1===n.get(TS)&&r.initialNavigation(),n.get(V1,null,h.XFs.Optional)?.setUpPreloading(),n.get(DS,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const L1=new h.OlP("",{factory:()=>new ud.x}),TS=new h.OlP("",{providedIn:"root",factory:()=>1});const V1=new h.OlP("");function Tk(n){return Sv(0,[{provide:V1,useExisting:Ik},{provide:P1,useExisting:n}])}const U1=new h.OlP("ROUTER_FORROOT_GUARD"),Ak=[Ne,{provide:GM,useClass:tS},{provide:Gi,useFactory:R1},Xw,{provide:hd,useFactory:function k1(n){return n.routerState.root},deps:[Gi]},CS];function Sk(){return new h.PXZ("Router",Gi)}let B1=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ak,[],bS(t),{provide:U1,useFactory:Nk,deps:[[Gi,new h.FiY,new h.tp0]]},{provide:sb,useValue:r||{}},r?.useHash?{provide:ge,useClass:wt}:{provide:ge,useClass:pt},{provide:DS,useFactory:()=>{const n=(0,h.f3M)(Gi),e=(0,h.f3M)(fs),t=(0,h.f3M)(sb);return t.scrollOffset&&e.setOffset(t.scrollOffset),new O1(n,e,t)}},r?.preloadingStrategy?Tk(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Sk},r?.initialNavigation?Pk(r):[],[{provide:j1,useFactory:F1},{provide:h.tb,multi:!0,useExisting:j1}]]}}static forChild(t){return{ngModule:n,providers:[bS(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(U1,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[gS]}),n})();function Nk(n){return"guarded"}function Pk(n){return["disabled"===n.initialNavigation?Sv(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Gi);return()=>{e.setUpLocationChangeListener()}}},{provide:TS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Sv(2,[{provide:TS,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(H,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const l=e.get(Gi),m=e.get(L1);(function s(u){e.get(Gi).events.pipe(mo(m=>m instanceof Zg||m instanceof KD||m instanceof e1),(0,it.U)(m=>m instanceof Zg||m instanceof KD&&(0===m.code||1===m.code)&&null),mo(m=>null!==m),$w(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),l.afterPreactivation=()=>(u(!0),r||m.closed?vt(void 0):m),l.initialNavigation()}))}}]).\u0275providers:[]]}const j1=new h.OlP("");let AS=(()=>{class n{constructor(t){this.afs=t}loadFeatured(){return this.afs.collection("posts",t=>t.where("isFeatured","==",!0).limit(4)).snapshotChanges().pipe((0,it.U)(t=>t.map(r=>{const s=r.payload.doc.data();return{id:r.payload.doc.id,data:s}})))}loadLatest(){return this.afs.collection("posts",t=>t.orderBy("createdAt")).snapshotChanges().pipe((0,it.U)(t=>t.map(r=>{const s=r.payload.doc.data();return{id:r.payload.doc.id,data:s}})))}loadCategoryPosts(t){return this.afs.collection("posts",r=>r.where("category.categoryId","==",t).limit(4)).snapshotChanges().pipe((0,it.U)(r=>r.map(s=>{const u=s.payload.doc.data();return{id:s.payload.doc.id,data:u}})))}loadOnePost(t){return this.afs.doc(`posts/${t}`).valueChanges()}loadSimilar(t){return this.afs.collection("posts",r=>r.where("category.categoryId","==",t).limit(4)).snapshotChanges().pipe((0,it.U)(r=>r.map(s=>{const u=s.payload.doc.data();return{id:s.payload.doc.id,data:u}})))}countViews(t){const r={views:fM.Z.firestore.FieldValue.increment(1)};this.afs.doc(`posts/${t}`).update(r).then(()=>{console.log("Views Count Updated ..!")})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($D))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kk(n,e){1&n&&(h.TgZ(0,"small",9),h._uU(1," Featured "),h.qZA())}const Fk=function(n){return["/post",n]};function Lk(n,e){if(1&n&&(h.TgZ(0,"div",1),h._UZ(1,"img",2),h.TgZ(2,"div",3)(3,"small",4),h._uU(4),h.qZA(),h.YNc(5,kk,2,0,"small",5),h.TgZ(6,"small",6),h._uU(7),h.qZA(),h.TgZ(8,"h5",7),h._uU(9),h.qZA(),h.TgZ(10,"p"),h._uU(11),h.qZA(),h.TgZ(12,"small",8),h._uU(13),h.ALo(14,"date"),h.qZA()()()),2&n){const t=h.oxw();h.Q6J("routerLink",h.VKq(10,Fk,t.postData.id)),h.xp6(1),h.s9C("src",t.postData.data.postImgPath,h.LSH),h.xp6(3),h.hij(" ",t.postData.data.category.category," "),h.xp6(1),h.Q6J("ngIf",t.postData.data.isFeatured),h.xp6(2),h.hij(" Views - ",t.postData.data.views," "),h.xp6(2),h.hij(" ",t.postData.data.title," "),h.xp6(2),h.hij(" ",t.postData.data.excerpt," "),h.xp6(2),h.hij(" LAST UPDATED - ",h.lcZ(14,8,t.postData.data.createdAt.toMillis())," ")}}let SS=(()=>{class n{constructor(){}ngOnInit(){console.log(this.postData)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-post-card"]],inputs:{postData:"postData"},decls:1,vars:1,consts:[["class","card shadow-effect",3,"routerLink",4,"ngIf"],[1,"card","shadow-effect",3,"routerLink"],["alt","post-image",1,"card-img-top",3,"src"],[1,"card-body","justify-content-between"],[1,"bg-light","text-danger","text-center"],["class","bg-light text-success text-center ml-3",4,"ngIf"],[1,"bg-light","text-info","text-center","ml-3"],[1,"mt-1"],[1,"bg-light","text-warning","text-center"],[1,"bg-light","text-success","text-center","ml-3"]],template:function(t,r){1&t&&h.YNc(0,Lk,15,12,"div",0),2&t&&h.Q6J("ngIf",r.postData)},dependencies:[ir,ab,gu],styles:[".card[_ngcontent-%COMP%]{max-width:400px;min-height:500px}"]}),n})();function Vk(n,e){if(1&n&&(h.TgZ(0,"div",9),h._UZ(1,"app-post-card",10),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Q6J("postData",t)}}function Uk(n,e){if(1&n&&(h.TgZ(0,"div",11),h._UZ(1,"app-post-card",10),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Q6J("postData",t)}}let Bk=(()=>{class n{constructor(t){this.postService=t,this.featuredPostsArray=[],this.latestPostsArray=[],this.postService.loadFeatured().subscribe(r=>{this.featuredPostsArray=r}),this.postService.loadLatest().subscribe(r=>{this.latestPostsArray=r})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(AS))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:18,vars:2,consts:[[1,"featured-section"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","text-center","mt-5"],[1,"text-white"],["class","col-lg-3",4,"ngFor","ngForOf"],[1,"container","mt-5"],[1,"col-md-12","text-center"],["class","col-md-4 mt-3",4,"ngFor","ngForOf"],[1,"col-lg-3"],[3,"postData"],[1,"col-md-4","mt-3"]],template:function(t,r){1&t&&(h.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),h._uU(5,"Featured Posts"),h.qZA(),h.TgZ(6,"p",4),h._uU(7,"A Glimpse into our Featured Posts: Uncover the Rich Tapestry of Knowledge and Inspiration."),h.qZA()()(),h.TgZ(8,"div",2),h.YNc(9,Vk,2,1,"div",5),h.qZA()()(),h.TgZ(10,"section",6)(11,"div",7)(12,"h2"),h._uU(13,"Latest Posts"),h.qZA(),h.TgZ(14,"p"),h._uU(15,"Stay Up-to-Date with Our Latest Posts: A Gateway to Fresh Perspectives."),h.qZA()(),h.TgZ(16,"div",2),h.YNc(17,Uk,2,1,"div",8),h.qZA()()),2&t&&(h.xp6(9),h.Q6J("ngForOf",r.featuredPostsArray),h.xp6(8),h.Q6J("ngForOf",r.latestPostsArray))},dependencies:[un,SS],styles:[".featured-section[_ngcontent-%COMP%]{padding-left:130px;padding-right:130px;padding-bottom:130px;background-color:var(--primary-color)}"]}),n})();function jk(n,e){if(1&n&&(h.TgZ(0,"div",6),h._UZ(1,"app-post-card",7),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Q6J("postData",t)}}let $k=(()=>{class n{constructor(t,r){this.route=t,this.postService=r,this.postsArray=[]}ngOnInit(){this.route.params.subscribe(t=>{console.log(t),this.categoryObj=t,this.postService.loadCategoryPosts(t.id).subscribe(r=>{this.postsArray=r})})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(hd),h.Y36(AS))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-single-category"]],decls:9,vars:3,consts:[[1,"bg-theme","p-5"],[1,"container"],[1,"text-white"],[1,"container","mt-5","mb-5"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[3,"postData"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),h._uU(3),h.qZA(),h.TgZ(4,"p",2),h._uU(5),h.qZA()()(),h.TgZ(6,"div",3)(7,"div",4),h.YNc(8,jk,2,1,"div",5),h.qZA()()),2&t&&(h.xp6(3),h.hij(" ",r.categoryObj.category," "),h.xp6(2),h.hij(" ",r.categoryObj.category.excerpt," "),h.xp6(3),h.Q6J("ngForOf",r.postsArray))},dependencies:[un,SS]}),n})(),Hk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-comment-form"]],decls:17,vars:0,consts:[[1,"card","mt-5","shadow-effect"],[1,"card-body"],[1,"form-group"],["for","name"],["type","text","placeholder","Enter your name here","id","name",1,"form-control","shadow-effect"],["for","comment",1,"mt-2"],["placeholder","Add your comment here","id","comment","cols","30","rows","10",1,"form-control","shadow-effect"],["type","submit","value","Submit",1,"btn","btn-info","text-white","mt-2","btn-theme"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h4"),h._uU(3,"Leave a Comment"),h.qZA(),h.TgZ(4,"p"),h._uU(5,"You can leave a comment using this comment form"),h.qZA(),h.TgZ(6,"form")(7,"div",2)(8,"label",3),h._uU(9,"Name"),h.qZA(),h._UZ(10,"input",4),h.qZA(),h.TgZ(11,"div",2)(12,"label",5),h._uU(13,"Comment"),h.qZA(),h._UZ(14,"textarea",6),h.qZA(),h.TgZ(15,"button",7),h._uU(16,"Add a Comment"),h.qZA()()()())},dependencies:[Ua,wi,ec]}),n})(),Gk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-comment-list"]],decls:43,vars:0,consts:[[1,"card","mb-5","mt-5","pb-5","shadow-effect"],[1,"card-body"],[1,"mt-3","mb-3"],[1,"comment-box","mt-3"],[1,"mb-0"],[1,"text-danger"],["role","group","aria-label","Comment actions",1,"btn-group"],["href","#",1,"btn","btn-outline-primary","btn-sm","mt-1"],["href","#",1,"btn","btn-outline-secondary","btn-sm","mt-1","ml-3"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),h._uU(3," Comments (17,234) "),h.qZA(),h.TgZ(4,"div",3)(5,"h6",4),h._uU(6," John Doe "),h.qZA(),h.TgZ(7,"small",5),h._uU(8," LAST UPDATED - MAR 20, 2023 "),h.qZA(),h.TgZ(9,"div",2),h._uU(10," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Cumque veniam, in, blanditiis dolor voluptas placeat dicta explicabo aspernatur possimus sit exercitationem. Architecto numquam quam facilis ut, quibusdam blanditiis deleniti a. "),h.qZA(),h.TgZ(11,"div",6)(12,"a",7),h._uU(13,"Reply"),h.qZA(),h.TgZ(14,"a",8),h._uU(15,"View Reply"),h.qZA()(),h._UZ(16,"hr"),h.qZA(),h.TgZ(17,"div",3)(18,"h6",4),h._uU(19," John Doe "),h.qZA(),h.TgZ(20,"small",5),h._uU(21," LAST UPDATED - MAR 20, 2023 "),h.qZA(),h.TgZ(22,"div",2),h._uU(23," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Cumque veniam, in, blanditiis dolor voluptas placeat dicta explicabo aspernatur possimus sit exercitationem. Architecto numquam quam facilis ut, quibusdam blanditiis deleniti a. "),h.qZA(),h.TgZ(24,"div",6)(25,"a",7),h._uU(26,"Reply"),h.qZA(),h.TgZ(27,"a",8),h._uU(28,"View Reply"),h.qZA()(),h._UZ(29,"hr"),h.qZA(),h.TgZ(30,"div",3)(31,"h6",4),h._uU(32," John Doe "),h.qZA(),h.TgZ(33,"small",5),h._uU(34," LAST UPDATED - MAR 20, 2023 "),h.qZA(),h.TgZ(35,"div",2),h._uU(36," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Cumque veniam, in, blanditiis dolor voluptas placeat dicta explicabo aspernatur possimus sit exercitationem. Architecto numquam quam facilis ut, quibusdam blanditiis deleniti a. "),h.qZA(),h.TgZ(37,"div",6)(38,"a",7),h._uU(39,"Reply"),h.qZA(),h.TgZ(40,"a",8),h._uU(41,"View Reply"),h.qZA()(),h._UZ(42,"hr"),h.qZA()()())},styles:[".comment-box[_ngcontent-%COMP%]{padding:15px 35px;background-color:#f0f0f0}"]}),n})();function zk(n,e){1&n&&(h.TgZ(0,"small",13),h._uU(1,"Featured"),h.qZA())}function qk(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"app-post-card",14),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Q6J("postData",t)}}const Wk=[{path:"",component:Bk},{path:"category/:category/:id",component:$k},{path:"post/:id",component:(()=>{class n{constructor(t,r){this.route=t,this.postService=r,this.similarPostArray=[]}ngOnInit(){this.route.params.subscribe(t=>{this.postService.countViews(t.id),this.postService.loadOnePost(t.id).subscribe(r=>{this.postData=r,this.loadSimilarPost(this.postData.category.categoryId)})})}loadSimilarPost(t){this.postService.loadSimilar(t).subscribe(r=>{this.similarPostArray=r})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(hd),h.Y36(AS))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-single-posts"]],decls:25,vars:10,consts:[[1,"container"],[1,"row"],[1,"col-md-9"],[1,"card","shadow-effect"],["alt","",1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"bg-light","text-danger","text-center"],["class","bg-light text-success text-center ml-2",4,"ngIf"],[1,"bg-light","text-info","text-center","ml-2"],[1,"bg-light","text-warning","text-center","ml-2"],[1,"mt-3","mb-3"],[1,"col-md-3"],[4,"ngFor","ngForOf"],[1,"bg-light","text-success","text-center","ml-2"],[3,"postData"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),h._UZ(4,"img",4),h.TgZ(5,"div",5)(6,"small",6),h._uU(7),h.qZA(),h._uU(8,"\xa0 "),h.YNc(9,zk,2,0,"small",7),h._uU(10,"\xa0 "),h.TgZ(11,"small",8),h._uU(12),h.qZA(),h._uU(13,"\xa0 "),h.TgZ(14,"small",9),h._uU(15),h.ALo(16,"date"),h.qZA(),h.TgZ(17,"h1",10),h._uU(18),h.qZA(),h.TgZ(19,"P"),h._uU(20),h.qZA()()(),h._UZ(21,"app-comment-form")(22,"app-comment-list"),h.qZA(),h.TgZ(23,"div",11),h.YNc(24,qk,2,1,"div",12),h.qZA()()()),2&t&&(h.xp6(4),h.s9C("src",r.postData.postImgPath,h.LSH),h.xp6(3),h.hij(" ",r.postData.category.category," "),h.xp6(2),h.Q6J("ngIf",r.postData.isFeatured),h.xp6(3),h.hij(" Views - ",r.postData.views," "),h.xp6(3),h.hij(" LAST UPDATED - ",h.lcZ(16,8,r.postData.createdAt.toMillis())," "),h.xp6(3),h.hij(" ",r.postData.title," "),h.xp6(2),h.hij(" ",r.postData.content," "),h.xp6(4),h.Q6J("ngForOf",r.similarPostArray))},dependencies:[un,ir,Hk,Gk,SS,gu]}),n})()},{path:"about",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-about-us"]],decls:14,vars:0,consts:[[1,"mt-5"],[1,"container","mt-5","mb-5","p-5","bg-theme"],[1,"text-white","text-center"],[1,"p-5","mt-4","bg-secondary-theme","text-theme-primary"],[1,"text-center"],[1,"btn","btn-info","btn-sm","mt-4","btn-theme"]],template:function(t,r){1&t&&(h.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),h._uU(3,"About Us"),h.qZA(),h.TgZ(4,"div",3)(5,"p"),h._uU(6,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quos accusantium consequatur veritatis laudantium perferendis enim aspernatur, expedita pariatur assumenda vitae, fugiat possimus impedit voluptas ut fugit molestiae ducimus saepe tempore."),h.qZA(),h.TgZ(7,"p"),h._uU(8,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quos accusantium consequatur veritatis laudantium perferendis enim aspernatur, expedita pariatur assumenda vitae, fugiat possimus impedit voluptas ut fugit molestiae ducimus saepe tempore."),h.qZA(),h.TgZ(9,"p"),h._uU(10,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quos accusantium consequatur veritatis laudantium perferendis enim aspernatur, expedita pariatur assumenda vitae, fugiat possimus impedit voluptas ut fugit molestiae ducimus saepe tempore."),h.qZA(),h.TgZ(11,"div",4)(12,"button",5),h._uU(13," Back to Home "),h.qZA()()()()())}}),n})()},{path:"term-conditions",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-terms-and-conditions"]],decls:14,vars:0,consts:[[1,"mt-5"],[1,"container","mt-5","mb-5","p-5","bg-theme"],[1,"text-white","text-center"],[1,"p-5","mt-4","bg-secondary-theme","text-theme-primary"],[1,"text-center"],[1,"btn","btn-info","btn-sm","mt-4","btn-theme"]],template:function(t,r){1&t&&(h.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),h._uU(3,"Terms & Conditions"),h.qZA(),h.TgZ(4,"div",3)(5,"p"),h._uU(6,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quos accusantium consequatur veritatis laudantium perferendis enim aspernatur, expedita pariatur assumenda vitae, fugiat possimus impedit voluptas ut fugit molestiae ducimus saepe tempore."),h.qZA(),h.TgZ(7,"p"),h._uU(8,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quos accusantium consequatur veritatis laudantium perferendis enim aspernatur, expedita pariatur assumenda vitae, fugiat possimus impedit voluptas ut fugit molestiae ducimus saepe tempore."),h.qZA(),h.TgZ(9,"p"),h._uU(10,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quos accusantium consequatur veritatis laudantium perferendis enim aspernatur, expedita pariatur assumenda vitae, fugiat possimus impedit voluptas ut fugit molestiae ducimus saepe tempore."),h.qZA(),h.TgZ(11,"div",4)(12,"button",5),h._uU(13," Back to Home "),h.qZA()()()()())}}),n})()},{path:"contact",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-contact-us"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1,"contact-us works!"),h.qZA())}}),n})()}];let Zk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[B1.forRoot(Wk),B1]}),n})(),Kk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-header"]],decls:4,vars:0,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white"],[1,"container","justify-content-center"],["routerLink","/",1,"site-logo"]],template:function(t,r){1&t&&(h.TgZ(0,"header",0)(1,"div",1)(2,"a",2),h._uU(3,"McCRUX-BLOG"),h.qZA()()())},dependencies:[sE],styles:["header[_ngcontent-%COMP%]{height:100px}.site-logo[_ngcontent-%COMP%]{font-size:1.5em}"]}),n})(),Yk=(()=>{class n{constructor(t){this.afs=t}loadData(){return this.afs.collection("categories").snapshotChanges().pipe((0,it.U)(t=>t.map(r=>{const s=r.payload.doc.data();return{id:r.payload.doc.id,data:s}})))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($D))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qk=function(n,e){return["/category",n,e]};function Jk(n,e){if(1&n&&(h.TgZ(0,"ul",4)(1,"li",5)(2,"a",6),h._uU(3),h.qZA()()()),2&n){const t=e.$implicit;h.xp6(2),h.Q6J("routerLink",h.WLB(2,Qk,t.data.category,t.id)),h.xp6(1),h.hij(" ",t.data.category," ")}}let Xk=(()=>{class n{constructor(t){this.categoryService=t,this.categoryArray=[]}ngOnInit(){this.categoryService.loadData().subscribe(t=>{this.categoryArray=t})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Yk))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-category-navbar"]],decls:4,vars:1,consts:[[1,"navbar","navbar-expand-lg","fixed-top"],[1,"container"],[1,"collapse","navbar-collapse","justify-content-center"],["class","navbar-nav",4,"ngFor","ngForOf"],[1,"navbar-nav"],[1,"nav-item","ml-3"],[1,"nav-link",3,"routerLink"]],template:function(t,r){1&t&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),h.YNc(3,Jk,4,5,"ul",3),h.qZA()()()),2&t&&(h.xp6(3),h.Q6J("ngForOf",r.categoryArray))},dependencies:[un,sE],styles:["nav[_ngcontent-%COMP%]{margin-top:100px;height:50px;background-color:var(--navbar-footer-color)}.nav-link[_ngcontent-%COMP%]{text-transform:uppercase}"]}),n})(),eF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer"]],decls:21,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"site-logo"],[1,"nav","justify-content-center"],[1,"nav-item"],["href","",1,"nav-link"],[1,"mb-2","mt-2"]],template:function(t,r){1&t&&(h.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),h._uU(5,"McCRUX-BLOG"),h.qZA(),h.TgZ(6,"ul",4)(7,"li",5)(8,"a",6),h._uU(9,"Home"),h.qZA()(),h.TgZ(10,"li",5)(11,"a",6),h._uU(12,"About"),h.qZA()(),h.TgZ(13,"li",5)(14,"a",6),h._uU(15,"Terms & Conditions"),h.qZA()(),h.TgZ(16,"li",5)(17,"a",6),h._uU(18,"Contact"),h.qZA()()(),h.TgZ(19,"p",7),h._uU(20,"Copyright \xa9 2023 McCRUX Blogsite"),h.qZA()()()()())},styles:["footer[_ngcontent-%COMP%]{height:130px;padding:15px;background-color:var(--navbar-footer-color)}.site-logo[_ngcontent-%COMP%]{font-size:1.2em}"]}),n})(),tF=(()=>{class n{constructor(t){this.afs=t}addSubscriber(t){this.afs.collection("subscribers").add(t).then(()=>{console.log("Subscriber Saved Successfully")})}checkSubscriber(t){return this.afs.collection("subscribers",r=>r.where("email","==",t)).get()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($D))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nF(n,e){1&n&&(h.TgZ(0,"div",8),h._uU(1," Email is Already in use. Please enter new email address "),h.qZA())}function rF(n,e){1&n&&(h.TgZ(0,"div",9),h._uU(1," Thank you for subscribing to our newsletter service. Stay tuned for our periodic Awesome blog posts ...! "),h.qZA())}function iF(n,e){1&n&&(h.TgZ(0,"div"),h._uU(1," Name is Required "),h.qZA())}function sF(n,e){if(1&n&&(h.TgZ(0,"div",20),h.YNc(1,iF,2,0,"div",21),h.qZA()),2&n){h.oxw();const t=h.MAs(4);h.xp6(1),h.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function oF(n,e){1&n&&(h.TgZ(0,"div"),h._uU(1," Email is Required "),h.qZA())}function aF(n,e){1&n&&(h.TgZ(0,"div"),h._uU(1," Please Enter a Valid Email Address "),h.qZA())}function uF(n,e){if(1&n&&(h.TgZ(0,"div",20),h.YNc(1,oF,2,0,"div",21),h.YNc(2,aF,2,0,"div",21),h.qZA()),2&n){h.oxw();const t=h.MAs(8);h.xp6(1),h.Q6J("ngIf",null==t.errors?null:t.errors.required),h.xp6(1),h.Q6J("ngIf",null==t.errors?null:t.errors.email)}}const $1=function(n){return{"is-invalid":n}};function cF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"form",10,11),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.MAs(1),u=h.oxw();return h.KtG(u.onSubmit(s.value))}),h.TgZ(2,"div",12),h._UZ(3,"input",13,14),h.YNc(5,sF,2,1,"div",15),h.qZA(),h.TgZ(6,"div",12),h._UZ(7,"input",16,17),h.YNc(9,uF,3,2,"div",15),h.qZA(),h.TgZ(10,"div",18)(11,"button",19),h._uU(12,"SUBSCRIBE"),h.qZA()()()}if(2&n){const t=h.MAs(1),r=h.MAs(4),s=h.MAs(8);h.xp6(3),h.Q6J("ngClass",h.VKq(5,$1,r.touched&&r.invalid)),h.xp6(2),h.Q6J("ngIf",r.touched&&r.invalid),h.xp6(2),h.Q6J("ngClass",h.VKq(7,$1,s.touched&&s.invalid)),h.xp6(2),h.Q6J("ngIf",s.touched&&s.invalid),h.xp6(2),h.Q6J("disabled",t.invalid)}}let lF=(()=>{class n{constructor(t){this.subService=t,this.isEmailError=!1,this.isSubscribed=!1}ngOnInit(){}onSubmit(t){const r={name:t.name,email:t.email};this.subService.checkSubscriber(r.email).subscribe(s=>{console.log(s),s.empty?(this.subService.addSubscriber(r),this.isSubscribed=!0):this.isEmailError=!0})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(tF))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-subscription-form"]],decls:11,vars:3,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"card","shadow-effect"],[1,"card-body"],[1,"text-center","mt-3","mb-5"],[1,"m-auto","subs-text"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],["class","d-flex flex-wrap justify-content-center align-items-center mb-5 mt-5",3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-info","mt-3"],[1,"d-flex","flex-wrap","justify-content-center","align-items-center","mb-5","mt-5",3,"ngSubmit"],["subForm","ngForm"],[1,"form-group","col-md-5","mx-2"],["type","text","placeholder","Your Name","name","name","ngModel","","required","",1,"form-control",3,"ngClass"],["Name","ngModel"],["class","text-danger",4,"ngIf"],["type","email","placeholder","Email Address","name","email","ngModel","","required","","email","",1,"form-control",3,"ngClass"],["Email","ngModel"],[1,"form-group","mx-2"],[1,"btn","btn-info","btn-block","btn-theme",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),h._uU(5,"SUBSCRIPTION FORM"),h.qZA(),h.TgZ(6,"p",4),h._uU(7,"Our subscription form allows you to easily sign up for our services and stay up-to-date with the latest news, updates, and exclusive offers. By completing this form, you'll gain access to a wealth of valuable content and resources tailored to your interests."),h.qZA(),h.YNc(8,nF,2,0,"div",5),h.YNc(9,rF,2,0,"div",6),h.YNc(10,cF,13,9,"form",7),h.qZA()()()()),2&t&&(h.xp6(8),h.Q6J("ngIf",r.isEmailError),h.xp6(1),h.Q6J("ngIf",r.isSubscribed),h.xp6(1),h.Q6J("ngIf",!r.isSubscribed))},dependencies:[fn,ir,Ua,Na,yl,wi,T,Z,Cl,ec],styles:[".card[_ngcontent-%COMP%]{background-color:var(--secondary-color);width:1200px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%]{width:100%}.subs-text[_ngcontent-%COMP%]{width:500px}"]}),n})(),dF=(()=>{class n{constructor(){this.title="Something Else"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"app-body"],[1,"container","mt-5","mb-5"],[1,"row","justify-content-center"]],template:function(t,r){1&t&&(h._UZ(0,"app-header")(1,"app-category-navbar"),h.TgZ(2,"div",0),h._UZ(3,"router-outlet"),h.qZA(),h.TgZ(4,"div",1)(5,"div",2),h._UZ(6,"app-subscription-form"),h.qZA()(),h._UZ(7,"app-footer"))},dependencies:[pS,Kk,Xk,eF,lF],styles:[".app-body[_ngcontent-%COMP%]{min-height:35vh;margin-top:150px}"]}),n})();const hF_firebaseConfig={projectId:"mccrux-blog",appId:"1:183327999829:web:aea8d3a5c3c0cc612051dc",databaseURL:"https://mccrux-blog-default-rtdb.firebaseio.com",storageBucket:"mccrux-blog.appspot.com",locationId:"us-central",apiKey:"AIzaSyAqET2oob0sJhBAjytuT3sEfZO4YRrTom4",authDomain:"mccrux-blog.firebaseapp.com",messagingSenderId:"183327999829"};let fF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[dF]}),n.\u0275inj=h.cJS({imports:[rl,Zk,go.hO.initializeApp(hF_firebaseConfig),fP,Dm]}),n})();(0,h.G48)(),Fu().bootstrapModule(fF).catch(n=>console.error(n))},9751:(mt,Se,F)=>{F.d(Se,{y:()=>_e});var h=F(2961),J=F(727),O=F(8822),ie=F(9635),re=F(2416),ce=F(576),ae=F(2806);let _e=(()=>{class q{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ee=new q;return Ee.source=this,Ee.operator=Ae,Ee}subscribe(Ae,Ee,rt){const ge=function j(q){return q&&q instanceof h.Lv||function H(q){return q&&(0,ce.m)(q.next)&&(0,ce.m)(q.error)&&(0,ce.m)(q.complete)}(q)&&(0,J.Nn)(q)}(Ae)?Ae:new h.Hp(Ae,Ee,rt);return(0,ae.x)(()=>{const{operator:pe,source:pt}=this;ge.add(pe?pe.call(ge,pt):pt?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ee){Ae.error(Ee)}}forEach(Ae,Ee){return new(Ee=de(Ee))((rt,ge)=>{const pe=new h.Hp({next:pt=>{try{Ae(pt)}catch(wt){ge(wt),pe.unsubscribe()}},error:ge,complete:rt});this.subscribe(pe)})}_subscribe(Ae){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(Ae)}[O.L](){return this}pipe(...Ae){return(0,ie.U)(Ae)(this)}toPromise(Ae){return new(Ae=de(Ae))((Ee,rt)=>{let ge;this.subscribe(pe=>ge=pe,pe=>rt(pe),()=>Ee(ge))})}}return q.create=He=>new q(He),q})();function de(q){var He;return null!==(He=q??re.v.Promise)&&void 0!==He?He:Promise}},7579:(mt,Se,F)=>{F.d(Se,{x:()=>ae});var h=F(9751),J=F(727);const ie=(0,F(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=F(8737),ce=F(2806);let ae=(()=>{class de extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const q=new _e(this,this);return q.operator=j,q}_throwIfClosed(){if(this.closed)throw new ie}next(j){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(j)}})}error(j){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:q}=this;for(;q.length;)q.shift().error(j)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:q,isStopped:He,observers:Ae}=this;return q||He?J.Lc:(this.currentObservers=null,Ae.push(j),new J.w0(()=>{this.currentObservers=null,(0,re.P)(Ae,j)}))}_checkFinalizedStatuses(j){const{hasError:q,thrownError:He,isStopped:Ae}=this;q?j.error(He):Ae&&j.complete()}asObservable(){const j=new h.y;return j.source=this,j}}return de.create=(H,j)=>new _e(H,j),de})();class _e extends ae{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===q||q.call(j,H)}error(H){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===q||q.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,q;return null!==(q=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==q?q:J.Lc}}},2961:(mt,Se,F)=>{F.d(Se,{Hp:()=>rt,Lv:()=>q});var h=F(576),J=F(727),O=F(2416),ie=F(7849);function re(){}const ce=de("C",void 0,void 0);function de(Ne,we,he){return{kind:Ne,value:we,error:he}}var H=F(3410),j=F(2806);class q extends J.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,J.Nn)(we)&&we.add(this)):this.destination=wt}static create(we,he,ze){return new rt(we,he,ze)}next(we){this.isStopped?pt(function _e(Ne){return de("N",Ne,void 0)}(we),this):this._next(we)}error(we){this.isStopped?pt(function ae(Ne){return de("E",void 0,Ne)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?pt(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Ae(Ne,we){return He.call(Ne,we)}class Ee{constructor(we){this.partialObserver=we}next(we){const{partialObserver:he}=this;if(he.next)try{he.next(we)}catch(ze){ge(ze)}}error(we){const{partialObserver:he}=this;if(he.error)try{he.error(we)}catch(ze){ge(ze)}else ge(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(he){ge(he)}}}class rt extends q{constructor(we,he,ze){let je;if(super(),(0,h.m)(we)||!we)je={next:we??void 0,error:he??void 0,complete:ze??void 0};else{let et;this&&O.v.useDeprecatedNextContext?(et=Object.create(we),et.unsubscribe=()=>this.unsubscribe(),je={next:we.next&&Ae(we.next,et),error:we.error&&Ae(we.error,et),complete:we.complete&&Ae(we.complete,et)}):je=we}this.destination=new Ee(je)}}function ge(Ne){O.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ne):(0,ie.h)(Ne)}function pt(Ne,we){const{onStoppedNotification:he}=O.v;he&&H.z.setTimeout(()=>he(Ne,we))}const wt={closed:!0,next:re,error:function pe(Ne){throw Ne},complete:re}},727:(mt,Se,F)=>{F.d(Se,{Lc:()=>ce,w0:()=>re,Nn:()=>ae});var h=F(576);const O=(0,F(3888).d)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((q,He)=>`${He+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ie=F(8737);class re{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ae of j)Ae.remove(this);else j.remove(this);const{initialTeardown:q}=this;if((0,h.m)(q))try{q()}catch(Ae){H=Ae instanceof O?Ae.errors:[Ae]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Ae of He)try{_e(Ae)}catch(Ee){H=H??[],Ee instanceof O?H=[...H,...Ee.errors]:H.push(Ee)}}if(H)throw new O(H)}}add(H){var j;if(H&&H!==this)if(this.closed)_e(H);else{if(H instanceof re){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,ie.P)(j,H)}remove(H){const{_finalizers:j}=this;j&&(0,ie.P)(j,H),H instanceof re&&H._removeParent(this)}}re.EMPTY=(()=>{const de=new re;return de.closed=!0,de})();const ce=re.EMPTY;function ae(de){return de instanceof re||de&&"closed"in de&&(0,h.m)(de.remove)&&(0,h.m)(de.add)&&(0,h.m)(de.unsubscribe)}function _e(de){(0,h.m)(de)?de():de.unsubscribe()}},2416:(mt,Se,F)=>{F.d(Se,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Se,F)=>{F.d(Se,{E:()=>J});const J=new(F(9751).y)(re=>re.complete())},8996:(mt,Se,F)=>{F.d(Se,{D:()=>we});var h=F(8421),J=F(5363),O=F(9468),ce=F(9751),_e=F(2202),de=F(576),H=F(9672);function q(he,ze){if(!he)throw new Error("Iterable cannot be null");return new ce.y(je=>{(0,H.f)(je,ze,()=>{const et=he[Symbol.asyncIterator]();(0,H.f)(je,ze,()=>{et.next().then(ee=>{ee.done?je.complete():je.next(ee.value)})},0,!0)})})}var He=F(3670),Ae=F(8239),Ee=F(1144),rt=F(6495),ge=F(2206),pe=F(4532),pt=F(3260);function we(he,ze){return ze?function Ne(he,ze){if(null!=he){if((0,He.c)(he))return function ie(he,ze){return(0,h.Xf)(he).pipe((0,O.R)(ze),(0,J.Q)(ze))}(he,ze);if((0,Ee.z)(he))return function ae(he,ze){return new ce.y(je=>{let et=0;return ze.schedule(function(){et===he.length?je.complete():(je.next(he[et++]),je.closed||this.schedule())})})}(he,ze);if((0,Ae.t)(he))return function re(he,ze){return(0,h.Xf)(he).pipe((0,O.R)(ze),(0,J.Q)(ze))}(he,ze);if((0,ge.D)(he))return q(he,ze);if((0,rt.T)(he))return function j(he,ze){return new ce.y(je=>{let et;return(0,H.f)(je,ze,()=>{et=he[_e.h](),(0,H.f)(je,ze,()=>{let ee,Tt;try{({value:ee,done:Tt}=et.next())}catch(ct){return void je.error(ct)}Tt?je.complete():je.next(ee)},0,!0)}),()=>(0,de.m)(et?.return)&&et.return()})}(he,ze);if((0,pt.L)(he))return function wt(he,ze){return q((0,pt.Q)(he),ze)}(he,ze)}throw(0,pe.z)(he)}(he,ze):(0,h.Xf)(he)}},8421:(mt,Se,F)=>{F.d(Se,{Xf:()=>He});var h=F(655),J=F(1144),O=F(8239),ie=F(9751),re=F(3670),ce=F(2206),ae=F(4532),_e=F(6495),de=F(3260),H=F(576),j=F(7849),q=F(8822);function He(Ne){if(Ne instanceof ie.y)return Ne;if(null!=Ne){if((0,re.c)(Ne))return function Ae(Ne){return new ie.y(we=>{const he=Ne[q.L]();if((0,H.m)(he.subscribe))return he.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,J.z)(Ne))return function Ee(Ne){return new ie.y(we=>{for(let he=0;he<Ne.length&&!we.closed;he++)we.next(Ne[he]);we.complete()})}(Ne);if((0,O.t)(Ne))return function rt(Ne){return new ie.y(we=>{Ne.then(he=>{we.closed||(we.next(he),we.complete())},he=>we.error(he)).then(null,j.h)})}(Ne);if((0,ce.D)(Ne))return pe(Ne);if((0,_e.T)(Ne))return function ge(Ne){return new ie.y(we=>{for(const he of Ne)if(we.next(he),we.closed)return;we.complete()})}(Ne);if((0,de.L)(Ne))return function pt(Ne){return pe((0,de.Q)(Ne))}(Ne)}throw(0,ae.z)(Ne)}function pe(Ne){return new ie.y(we=>{(function wt(Ne,we){var he,ze,je,et;return(0,h.mG)(this,void 0,void 0,function*(){try{for(he=(0,h.KL)(Ne);!(ze=yield he.next()).done;)if(we.next(ze.value),we.closed)return}catch(ee){je={error:ee}}finally{try{ze&&!ze.done&&(et=he.return)&&(yield et.call(he))}finally{if(je)throw je.error}}we.complete()})})(Ne,we).catch(he=>we.error(he))})}},6451:(mt,Se,F)=>{F.d(Se,{T:()=>ce});var h=F(8189),J=F(8421),O=F(515),ie=F(7669),re=F(8996);function ce(...ae){const _e=(0,ie.yG)(ae),de=(0,ie._6)(ae,1/0),H=ae;return H.length?1===H.length?(0,J.Xf)(H[0]):(0,h.J)(de)((0,re.D)(H,_e)):O.E}},5403:(mt,Se,F)=>{F.d(Se,{x:()=>J});var h=F(2961);function J(ie,re,ce,ae,_e){return new O(ie,re,ce,ae,_e)}class O extends h.Lv{constructor(re,ce,ae,_e,de,H){super(re),this.onFinalize=de,this.shouldUnsubscribe=H,this._next=ce?function(j){try{ce(j)}catch(q){re.error(q)}}:super._next,this._error=_e?function(j){try{_e(j)}catch(q){re.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(j){re.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(mt,Se,F)=>{F.d(Se,{U:()=>O});var h=F(4482),J=F(5403);function O(ie,re){return(0,h.e)((ce,ae)=>{let _e=0;ce.subscribe((0,J.x)(ae,de=>{ae.next(ie.call(re,de,_e++))}))})}},8189:(mt,Se,F)=>{F.d(Se,{J:()=>O});var h=F(5577),J=F(4671);function O(ie=1/0){return(0,h.z)(J.y,ie)}},5577:(mt,Se,F)=>{F.d(Se,{z:()=>_e});var h=F(4004),J=F(8421),O=F(4482),ie=F(9672),re=F(5403),ae=F(576);function _e(de,H,j=1/0){return(0,ae.m)(H)?_e((q,He)=>(0,h.U)((Ae,Ee)=>H(q,Ae,He,Ee))((0,J.Xf)(de(q,He))),j):("number"==typeof H&&(j=H),(0,O.e)((q,He)=>function ce(de,H,j,q,He,Ae,Ee,rt){const ge=[];let pe=0,pt=0,wt=!1;const Ne=()=>{wt&&!ge.length&&!pe&&H.complete()},we=ze=>pe<q?he(ze):ge.push(ze),he=ze=>{Ae&&H.next(ze),pe++;let je=!1;(0,J.Xf)(j(ze,pt++)).subscribe((0,re.x)(H,et=>{He?.(et),Ae?we(et):H.next(et)},()=>{je=!0},void 0,()=>{if(je)try{for(pe--;ge.length&&pe<q;){const et=ge.shift();Ee?(0,ie.f)(H,Ee,()=>he(et)):he(et)}Ne()}catch(et){H.error(et)}}))};return de.subscribe((0,re.x)(H,we,()=>{wt=!0,Ne()})),()=>{rt?.()}}(q,He,de,j)))}},5363:(mt,Se,F)=>{F.d(Se,{Q:()=>ie});var h=F(9672),J=F(4482),O=F(5403);function ie(re,ce=0){return(0,J.e)((ae,_e)=>{ae.subscribe((0,O.x)(_e,de=>(0,h.f)(_e,re,()=>_e.next(de),ce),()=>(0,h.f)(_e,re,()=>_e.complete(),ce),de=>(0,h.f)(_e,re,()=>_e.error(de),ce)))})}},3099:(mt,Se,F)=>{F.d(Se,{B:()=>re});var h=F(8421),J=F(7579),O=F(2961),ie=F(4482);function re(ae={}){const{connector:_e=(()=>new J.x),resetOnError:de=!0,resetOnComplete:H=!0,resetOnRefCountZero:j=!0}=ae;return q=>{let He,Ae,Ee,rt=0,ge=!1,pe=!1;const pt=()=>{Ae?.unsubscribe(),Ae=void 0},wt=()=>{pt(),He=Ee=void 0,ge=pe=!1},Ne=()=>{const we=He;wt(),we?.unsubscribe()};return(0,ie.e)((we,he)=>{rt++,!pe&&!ge&&pt();const ze=Ee=Ee??_e();he.add(()=>{rt--,0===rt&&!pe&&!ge&&(Ae=ce(Ne,j))}),ze.subscribe(he),!He&&rt>0&&(He=new O.Hp({next:je=>ze.next(je),error:je=>{pe=!0,pt(),Ae=ce(wt,de,je),ze.error(je)},complete:()=>{ge=!0,pt(),Ae=ce(wt,H),ze.complete()}}),(0,h.Xf)(we).subscribe(He))})(q)}}function ce(ae,_e,...de){if(!0===_e)return void ae();if(!1===_e)return;const H=new O.Hp({next:()=>{H.unsubscribe(),ae()}});return _e(...de).subscribe(H)}},9468:(mt,Se,F)=>{F.d(Se,{R:()=>J});var h=F(4482);function J(O,ie=0){return(0,h.e)((re,ce)=>{ce.add(O.schedule(()=>re.subscribe(ce),ie))})}},8505:(mt,Se,F)=>{F.d(Se,{b:()=>re});var h=F(576),J=F(4482),O=F(5403),ie=F(4671);function re(ce,ae,_e){const de=(0,h.m)(ce)||ae||_e?{next:ce,error:ae,complete:_e}:ce;return de?(0,J.e)((H,j)=>{var q;null===(q=de.subscribe)||void 0===q||q.call(de);let He=!0;H.subscribe((0,O.x)(j,Ae=>{var Ee;null===(Ee=de.next)||void 0===Ee||Ee.call(de,Ae),j.next(Ae)},()=>{var Ae;He=!1,null===(Ae=de.complete)||void 0===Ae||Ae.call(de),j.complete()},Ae=>{var Ee;He=!1,null===(Ee=de.error)||void 0===Ee||Ee.call(de,Ae),j.error(Ae)},()=>{var Ae,Ee;He&&(null===(Ae=de.unsubscribe)||void 0===Ae||Ae.call(de)),null===(Ee=de.finalize)||void 0===Ee||Ee.call(de)}))}):ie.y}},4408:(mt,Se,F)=>{F.d(Se,{o:()=>re});var h=F(727);class J extends h.w0{constructor(ae,_e){super()}schedule(ae,_e=0){return this}}const O={setInterval(ce,ae,..._e){const{delegate:de}=O;return de?.setInterval?de.setInterval(ce,ae,..._e):setInterval(ce,ae,..._e)},clearInterval(ce){const{delegate:ae}=O;return(ae?.clearInterval||clearInterval)(ce)},delegate:void 0};var ie=F(8737);class re extends J{constructor(ae,_e){super(ae,_e),this.scheduler=ae,this.work=_e,this.pending=!1}schedule(ae,_e=0){var de;if(this.closed)return this;this.state=ae;const H=this.id,j=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(j,H,_e)),this.pending=!0,this.delay=_e,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(j,this.id,_e),this}requestAsyncId(ae,_e,de=0){return O.setInterval(ae.flush.bind(ae,this),de)}recycleAsyncId(ae,_e,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return _e;null!=_e&&O.clearInterval(_e)}execute(ae,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ae,_e);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,_e){let H,de=!1;try{this.work(ae)}catch(j){de=!0,H=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ae,scheduler:_e}=this,{actions:de}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(de,this),null!=ae&&(this.id=this.recycleAsyncId(_e,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Se,F)=>{F.d(Se,{v:()=>O});var h=F(6063);class J{constructor(re,ce=J.now){this.schedulerActionCtor=re,this.now=ce}schedule(re,ce=0,ae){return new this.schedulerActionCtor(this,re).schedule(ae,ce)}}J.now=h.l.now;class O extends J{constructor(re,ce=J.now){super(re,ce),this.actions=[],this._active=!1}flush(re){const{actions:ce}=this;if(this._active)return void ce.push(re);let ae;this._active=!0;do{if(ae=re.execute(re.state,re.delay))break}while(re=ce.shift());if(this._active=!1,ae){for(;re=ce.shift();)re.unsubscribe();throw ae}}}},4986:(mt,Se,F)=>{F.d(Se,{z:()=>O});var h=F(4408);const O=new(F(7565).v)(h.o)},6063:(mt,Se,F)=>{F.d(Se,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(mt,Se,F)=>{F.d(Se,{z:()=>h});const h={setTimeout(J,O,...ie){const{delegate:re}=h;return re?.setTimeout?re.setTimeout(J,O,...ie):setTimeout(J,O,...ie)},clearTimeout(J){const{delegate:O}=h;return(O?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(mt,Se,F)=>{F.d(Se,{h:()=>J});const J=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Se,F)=>{F.d(Se,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(mt,Se,F)=>{F.d(Se,{_6:()=>ce,jO:()=>ie,yG:()=>re});var h=F(576);function O(ae){return ae[ae.length-1]}function ie(ae){return(0,h.m)(O(ae))?ae.pop():void 0}function re(ae){return function J(ae){return ae&&(0,h.m)(ae.schedule)}(O(ae))?ae.pop():void 0}function ce(ae,_e){return"number"==typeof O(ae)?ae.pop():_e}},8737:(mt,Se,F)=>{function h(J,O){if(J){const ie=J.indexOf(O);0<=ie&&J.splice(ie,1)}}F.d(Se,{P:()=>h})},3888:(mt,Se,F)=>{function h(J){const ie=J(re=>{Error.call(re),re.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}F.d(Se,{d:()=>h})},2806:(mt,Se,F)=>{F.d(Se,{O:()=>ie,x:()=>O});var h=F(2416);let J=null;function O(re){if(h.v.useDeprecatedSynchronousErrorHandling){const ce=!J;if(ce&&(J={errorThrown:!1,error:null}),re(),ce){const{errorThrown:ae,error:_e}=J;if(J=null,ae)throw _e}}else re()}function ie(re){h.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=re)}},9672:(mt,Se,F)=>{function h(J,O,ie,re=0,ce=!1){const ae=O.schedule(function(){ie(),ce?J.add(this.schedule(null,re)):this.unsubscribe()},re);if(J.add(ae),!ce)return ae}F.d(Se,{f:()=>h})},4671:(mt,Se,F)=>{function h(J){return J}F.d(Se,{y:()=>h})},1144:(mt,Se,F)=>{F.d(Se,{z:()=>h});const h=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(mt,Se,F)=>{F.d(Se,{D:()=>J});var h=F(576);function J(O){return Symbol.asyncIterator&&(0,h.m)(O?.[Symbol.asyncIterator])}},576:(mt,Se,F)=>{function h(J){return"function"==typeof J}F.d(Se,{m:()=>h})},3670:(mt,Se,F)=>{F.d(Se,{c:()=>O});var h=F(8822),J=F(576);function O(ie){return(0,J.m)(ie[h.L])}},6495:(mt,Se,F)=>{F.d(Se,{T:()=>O});var h=F(2202),J=F(576);function O(ie){return(0,J.m)(ie?.[h.h])}},8239:(mt,Se,F)=>{F.d(Se,{t:()=>J});var h=F(576);function J(O){return(0,h.m)(O?.then)}},3260:(mt,Se,F)=>{F.d(Se,{L:()=>ie,Q:()=>O});var h=F(655),J=F(576);function O(re){return(0,h.FC)(this,arguments,function*(){const ae=re.getReader();try{for(;;){const{value:_e,done:de}=yield(0,h.qq)(ae.read());if(de)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(_e)}}finally{ae.releaseLock()}})}function ie(re){return(0,J.m)(re?.getReader)}},4482:(mt,Se,F)=>{F.d(Se,{A:()=>J,e:()=>O});var h=F(576);function J(ie){return(0,h.m)(ie?.lift)}function O(ie){return re=>{if(J(re))return re.lift(function(ce){try{return ie(ce,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(mt,Se,F)=>{F.d(Se,{U:()=>O,z:()=>J});var h=F(4671);function J(...ie){return O(ie)}function O(ie){return 0===ie.length?h.y:1===ie.length?ie[0]:function(ce){return ie.reduce((ae,_e)=>_e(ae),ce)}}},7849:(mt,Se,F)=>{F.d(Se,{h:()=>O});var h=F(2416),J=F(3410);function O(ie){J.z.setTimeout(()=>{const{onUnhandledError:re}=h.v;if(!re)throw ie;re(ie)})}},4532:(mt,Se,F)=>{function h(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Se,{z:()=>h})},655:(mt,Se,F)=>{function ie(le,fe){var De={};for(var xe in le)Object.prototype.hasOwnProperty.call(le,xe)&&fe.indexOf(xe)<0&&(De[xe]=le[xe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(xe=Object.getOwnPropertySymbols(le);Fe<xe.length;Fe++)fe.indexOf(xe[Fe])<0&&Object.prototype.propertyIsEnumerable.call(le,xe[Fe])&&(De[xe[Fe]]=le[xe[Fe]])}return De}function q(le,fe,De,xe){return new(De||(De=Promise))(function(Ie,xt){function Kt(jt){try{Be(xe.next(jt))}catch(Gt){xt(Gt)}}function Ot(jt){try{Be(xe.throw(jt))}catch(Gt){xt(Gt)}}function Be(jt){jt.done?Ie(jt.value):function Fe(Ie){return Ie instanceof De?Ie:new De(function(xt){xt(Ie)})}(jt.value).then(Kt,Ot)}Be((xe=xe.apply(le,fe||[])).next())})}function Ne(le){return this instanceof Ne?(this.v=le,this):new Ne(le)}function we(le,fe,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,xe=De.apply(le,fe||[]),Ie=[];return Fe={},xt("next"),xt("throw"),xt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function xt(qt){xe[qt]&&(Fe[qt]=function(An){return new Promise(function(Fn,Ar){Ie.push([qt,An,Fn,Ar])>1||Kt(qt,An)})})}function Kt(qt,An){try{!function Ot(qt){qt.value instanceof Ne?Promise.resolve(qt.value.v).then(Be,jt):Gt(Ie[0][2],qt)}(xe[qt](An))}catch(Fn){Gt(Ie[0][3],Fn)}}function Be(qt){Kt("next",qt)}function jt(qt){Kt("throw",qt)}function Gt(qt,An){qt(An),Ie.shift(),Ie.length&&Kt(Ie[0][0],Ie[0][1])}}function ze(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,fe=le[Symbol.asyncIterator];return fe?fe.call(le):(le=function rt(le){var fe="function"==typeof Symbol&&Symbol.iterator,De=fe&&le[fe],xe=0;if(De)return De.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&xe>=le.length&&(le=void 0),{value:le&&le[xe++],done:!le}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),De={},xe("next"),xe("throw"),xe("return"),De[Symbol.asyncIterator]=function(){return this},De);function xe(Ie){De[Ie]=le[Ie]&&function(xt){return new Promise(function(Kt,Ot){!function Fe(Ie,xt,Kt,Ot){Promise.resolve(Ot).then(function(Be){Ie({value:Be,done:Kt})},xt)}(Kt,Ot,(xt=le[Ie](xt)).done,xt.value)})}}}F.d(Se,{FC:()=>we,KL:()=>ze,_T:()=>ie,mG:()=>q,qq:()=>Ne})},4650:(mt,Se,F)=>{F.d(Se,{$8M:()=>ku,$Z:()=>kE,AFp:()=>HC,ALo:()=>pg,AaK:()=>_e,CHM:()=>Cu,CRH:()=>G0,CZH:()=>Eg,CqO:()=>Z_,D6c:()=>Tw,EJc:()=>zC,EpF:()=>qa,F4k:()=>pc,FYo:()=>Qv,FiY:()=>oo,G48:()=>qT,GfV:()=>Xv,Gpc:()=>j,JOm:()=>wi,KtG:()=>$c,LFG:()=>Bn,LSH:()=>qv,Lbi:()=>LT,Lck:()=>ia,MAs:()=>rs,MMx:()=>Py,NdJ:()=>jp,OlP:()=>pn,PXZ:()=>lw,Q6J:()=>Bp,QGY:()=>W_,QP$:()=>Dt,Qsj:()=>Jv,R0b:()=>us,RDi:()=>jv,Rgc:()=>mg,SBq:()=>dh,Sil:()=>ow,Suo:()=>ed,TTD:()=>gi,TgZ:()=>_o,VKq:()=>dC,WLB:()=>O0,X6Q:()=>mw,XFs:()=>lt,Xpm:()=>Rn,Xts:()=>Al,Y36:()=>Rl,YKP:()=>Gh,YNc:()=>z_,Yjl:()=>z,Yz7:()=>Be,Z0I:()=>An,ZZ4:()=>Co,_Bn:()=>Ny,_UZ:()=>te,_Vd:()=>sc,_c5:()=>bw,_uU:()=>r0,aQg:()=>Pg,c2e:()=>ev,cJS:()=>Gt,cg1:()=>Ja,dDg:()=>uw,dqk:()=>mn,eFA:()=>hw,ekj:()=>Vr,eoX:()=>cw,f3M:()=>Ra,g9A:()=>GC,h0i:()=>zl,hGG:()=>sA,hij:()=>Sh,iGM:()=>Cc,ifc:()=>yt,ip1:()=>Xy,jDz:()=>rC,kL8:()=>Zp,lG2:()=>L,lcZ:()=>pC,lqb:()=>Sl,lri:()=>rv,n5z:()=>bn,oAB:()=>Xr,oxw:()=>K_,q4F:()=>dp,qLn:()=>pp,qOj:()=>Ir,qZA:()=>Eh,rWj:()=>Sg,s9C:()=>zs,sBO:()=>WT,sIi:()=>Ze,s_b:()=>Kh,soG:()=>ef,tb:()=>hi,tp0:()=>Bo,uIk:()=>G_,vHH:()=>Ee,vpe:()=>Io,wAp:()=>At,xp6:()=>bE,z2F:()=>au,zSh:()=>ap,zs3:()=>ac});var h=F(7579),J=F(727),O=F(9751),ie=F(6451),re=F(3099);function ce(i){for(let o in i)if(i[o]===ce)return o;throw Error("Could not find renamed property on target object.")}function ae(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function _e(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(_e).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const H=ce({__forward_ref__:ce});function j(i){return i.__forward_ref__=j,i.toString=function(){return _e(this())},i}function q(i){return He(i)?i():i}function He(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===j}class Ee extends Error{constructor(o,a){super(function rt(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function ge(i){return"string"==typeof i?i:null==i?"":String(i)}function we(i,o){throw new Ee(-201,!1)}function Fe(i,o){null==i&&function Ie(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function Be(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Gt(i){return{providers:i.providers||[],imports:i.imports||[]}}function qt(i){return Fn(i,zi)||Fn(i,la)}function An(i){return null!==qt(i)}function Fn(i,o){return i.hasOwnProperty(o)?i[o]:null}function pr(i){return i&&(i.hasOwnProperty(Ai)||i.hasOwnProperty(Do))?i[Ai]:null}const zi=ce({\u0275prov:ce}),Ai=ce({\u0275inj:ce}),la=ce({ngInjectableDef:ce}),Do=ce({ngInjectorDef:ce});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Br;function jr(i){const o=Br;return Br=i,o}function bo(i,o,a){const c=qt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==o?o:void we(_e(i))}function nr(i){return{toString:i}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),yt=(()=>{return(i=yt||(yt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",yt;var i})();const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Kn={},It=[],gr=ce({\u0275cmp:ce}),hn=ce({\u0275dir:ce}),To=ce({\u0275pipe:ce}),Xt=ce({\u0275mod:ce}),rr=ce({\u0275fac:ce}),mr=ce({__NG_ELEMENT_ID__:ce});let xi=0;function Rn(i){return nr(()=>{const a=!0===i.standalone,c={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||It,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||yt.Emulated,id:"c"+xi++,styles:i.styles||It,_:null,setInput:null,schemas:i.schemas||null,tView:null},g=i.dependencies,v=i.features;return d.inputs=V(i.inputs,c),d.outputs=V(i.outputs),v&&v.forEach(I=>I(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(Wi).filter(Ln):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map(qe).filter(Ln):null,d})}function Wi(i){return se(i)||Y(i)}function Ln(i){return null!==i}function Xr(i){return nr(()=>({type:i.type,bootstrap:i.bootstrap||It,declarations:i.declarations||It,imports:i.imports||It,exports:i.exports||It,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function V(i,o){if(null==i)return Kn;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=c,o&&(o[d]=g)}return a}const L=Rn;function z(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function se(i){return i[gr]||null}function Y(i){return i[hn]||null}function qe(i){return i[To]||null}function Dt(i){const o=se(i)||Y(i)||qe(i);return null!==o&&o.standalone}function kt(i,o){const a=i[Xt]||null;if(!a&&!0===o)throw new Error(`Type ${_e(i)} does not have '\u0275mod' property.`);return a}function sr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Hr(i){return Array.isArray(i)&&!0===i[1]}function So(i){return 0!=(8&i.flags)}function hu(i){return 2==(2&i.flags)}function ds(i){return 1==(1&i.flags)}function Ri(i){return null!==i.template}function xo(i){return 0!=(256&i[2])}function hs(i,o){return i.hasOwnProperty(rr)?i[rr]:null}class pf{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function gi(){return Id}function Id(i){return i.type.prototype.ngOnChanges&&(i.setInput=Vc),ha}function ha(){const i=gf(this),o=i?.current;if(o){const a=i.previous;if(a===Kn)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Vc(i,o,a,c){const d=gf(i)||function Uc(i,o){return i[mu]=o}(i,{previous:Kn,current:null}),g=d.current||(d.current={}),v=d.previous,I=this.declaredInputs[a],C=v[I];g[I]=new pf(C&&C.currentValue,o,v===Kn),i[c]=o}gi.ngInherit=!0;const mu="__ngSimpleChanges__";function gf(i){return i[mu]||null}function Vn(i){for(;Array.isArray(i);)i=i[0];return i}function mi(i,o){return Vn(o[i])}function Gr(i,o){return Vn(o[i.index])}function Eu(i,o){return i.data[o]}function Mo(i,o){return i[o]}function Un(i,o){const a=o[i];return sr(a)?a:a[0]}function Zs(i){return 64==(64&i[2])}function ti(i,o){return null==o?null:i[o]}function Fs(i){i[18]=0}function wr(i,o){i[5]+=o;let a=i,c=i[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const bt={lFrame:Wc(null),bindingsEnabled:!0};function Ad(){return bt.bindingsEnabled}function Ce(){return bt.lFrame.lView}function $t(){return bt.lFrame.tView}function Cu(i){return bt.lFrame.contextLView=i,i[8]}function $c(i){return bt.lFrame.contextLView=null,i}function Nn(){let i=Du();for(;null!==i&&64===i.type;)i=i.parent;return i}function Du(){return bt.lFrame.currentTNode}function ni(i,o){const a=bt.lFrame;a.currentTNode=i,a.isParent=o}function Ro(){return bt.lFrame.isParent}function xr(){const i=bt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function ps(){return bt.lFrame.bindingIndex++}function Xg(i,o){const a=bt.lFrame;a.bindingIndex=a.bindingRootIndex=i,zc(o)}function zc(i){bt.lFrame.currentDirectiveIndex=i}function bu(){return bt.lFrame.currentQueryIndex}function Mr(i){bt.lFrame.currentQueryIndex=i}function qc(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function ga(i,o,a){if(a&lt.SkipSelf){let d=o,g=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=qc(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,i=g}const c=bt.lFrame=Qs();return c.currentTNode=o,c.lView=i,!0}function ma(i){const o=Qs(),a=i[1];bt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Qs(){const i=bt.lFrame,o=null===i?null:i.child;return null===o?Wc(i):o}function Wc(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function ya(){const i=bt.lFrame;return bt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const xd=ya;function Po(){const i=ya();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function nn(){return bt.lFrame.selectedIndex}function gs(i){bt.lFrame.selectedIndex=i}function Dn(){const i=bt.lFrame;return Eu(i.tView,i.selectedIndex)}function Js(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:N}=g;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),I&&((i.contentHooks||(i.contentHooks=[])).push(a,I),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,I)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),A&&((i.viewHooks||(i.viewHooks=[])).push(a,A),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,A)),null!=N&&(i.destroyHooks||(i.destroyHooks=[])).push(a,N)}}function va(i,o,a){_a(i,o,3,a)}function Oo(i,o,a,c){(3&i[2])===a&&_a(i,o,a,c)}function Pd(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function _a(i,o,a,c){const g=c??-1,v=o.length-1;let I=0;for(let C=void 0!==c?65535&i[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(I=o[C],null!=c&&I>=c)break}else o[C]<0&&(i[18]+=65536),(I<g||-1==g)&&(_f(i,a,o,C),i[18]=(4294901760&i[18])+C+2),C++}function _f(i,o,a,c){const d=a[c]<0,g=a[c+1],I=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{g.call(I)}finally{}}}else try{g.call(I)}finally{}}class wa{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Mu(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const g=a[c++],v=a[c++],I=a[c++];i.setAttribute(o,v,I,g)}else{const g=d,v=a[++c];If(g)?i.setProperty(o,g,v):i.setAttribute(o,g,v),c++}}return c}function Ru(i){return 3===i||4===i||6===i}function If(i){return 64===i.charCodeAt(0)}function ko(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||kd(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function kd(i,o,a,c,d){let g=0,v=i.length;if(-1===o)v=-1;else for(;g<i.length;){const I=i[g++];if("number"==typeof I){if(I===o){v=-1;break}if(I>o){v=g-1;break}}}for(;g<i.length;){const I=i[g];if("number"==typeof I)break;if(I===a){if(null===c)return void(null!==d&&(i[g+1]=d));if(c===i[g+1])return void(i[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==v&&(i.splice(v,0,o),g=v+1),i.splice(g++,0,a),null!==c&&i.splice(g++,0,c),null!==d&&i.splice(g++,0,d)}function Jc(i){return-1!==i}function Ea(i){return 32767&i}function Ki(i,o){let a=function Cf(i){return i>>16}(i),c=o;for(;a>0;)c=c[15],a--;return c}let Ia=!0;function ys(i){const o=Ia;return Ia=i,o}let Ca=0;const yi={};function Fo(i,o){const a=eo(i,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(i.injectorIndex=o.length,el(c.data,i),el(o,null),el(c.blueprint,null));const d=to(i,o),g=i.injectorIndex;if(Jc(d)){const v=Ea(d),I=Ki(d,o),C=I[1].data;for(let A=0;A<8;A++)o[g+A]=I[v+A]|C[v+A]}return o[g+8]=d,g}function el(i,o){i.push(0,0,0,0,0,0,0,0,o)}function eo(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function to(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=Tf(d),null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Da(i,o,a){!function Xc(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(mr)&&(c=a[mr]),null==c&&(c=a[mr]=Ca++);const d=255&c;o.data[i+(d>>5)]|=1<<d}(i,o,a)}function Pu(i,o,a){if(a&lt.Optional||void 0!==i)return i;we()}function Df(i,o,a,c){if(a&lt.Optional&&void 0===c&&(c=null),0==(a&(lt.Self|lt.Host))){const d=i[9],g=jr(void 0);try{return d?d.get(o,c,a&lt.Optional):bo(o,c,a&lt.Optional)}finally{jr(g)}}return Pu(c,0,a)}function ba(i,o,a,c=lt.Default,d){if(null!==i){if(1024&o[2]){const v=function Aa(i,o,a,c,d){let g=i,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const I=Lo(g,v,a,c|lt.Self,yi);if(I!==yi)return I;let C=g.parent;if(!C){const A=v[21];if(A){const N=A.get(a,yi,c);if(N!==yi)return N}C=Tf(v),v=v[15]}g=C}return d}(i,o,a,c,yi);if(v!==yi)return v}const g=Lo(i,o,a,c,yi);if(g!==yi)return g}return Df(o,a,c,d)}function Lo(i,o,a,c,d){const g=function ro(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(mr)?i[mr]:void 0;return"number"==typeof o?o>=0?255&o:nm:o}(a);if("function"==typeof g){if(!ga(o,i,c))return c&lt.Host?Pu(d,0,c):Df(o,a,c,d);try{const v=g(c);if(null!=v||c&lt.Optional)return v;we()}finally{xd()}}else if("number"==typeof g){let v=null,I=eo(i,o),C=-1,A=c&lt.Host?o[16][6]:null;for((-1===I||c&lt.SkipSelf)&&(C=-1===I?to(i,o):o[I+8],-1!==C&&Ou(c,!1)?(v=o[1],I=Ea(C),o=Ki(C,o)):I=-1);-1!==I;){const N=o[1];if(bf(g,I,N.data)){const k=tm(I,o,a,v,c,A);if(k!==yi)return k}C=o[I+8],-1!==C&&Ou(c,o[1].data[I+8]===A)&&bf(g,I,o)?(v=N,I=Ea(C),o=Ki(C,o)):I=-1}}return d}function tm(i,o,a,c,d,g){const v=o[1],I=v.data[i+8],N=Qi(I,v,a,null==c?hu(I)&&Ia:c!=v&&0!=(3&I.type),d&lt.Host&&g===I);return null!==N?Ta(o,v,N,I):yi}function Qi(i,o,a,c,d){const g=i.providerIndexes,v=o.data,I=1048575&g,C=i.directiveStart,N=g>>20,$=d?I+N:i.directiveEnd;for(let Q=c?I:I+N;Q<$;Q++){const ye=v[Q];if(Q<C&&a===ye||Q>=C&&ye.type===a)return Q}if(d){const Q=v[C];if(Q&&Ri(Q)&&Q.type===a)return C}return null}function Ta(i,o,a,c){let d=i[a];const g=o.data;if(function Su(i){return i instanceof wa}(d)){const v=d;v.resolving&&function pt(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${i}${a}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ge(i)}(g[a]));const I=ys(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?jr(v.injectImpl):null;ga(i,c,lt.Default);try{d=i[a]=v.factory(void 0,g,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Kc(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(c){const v=Id(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],o)}finally{null!==C&&jr(C),ys(I),v.resolving=!1,xd()}}return d}function bf(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function Ou(i,o){return!(i&lt.Self||i&lt.Host&&o)}class Ji{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return ba(this._tNode,this._lView,o,c,a)}}function nm(){return new Ji(Nn(),Ce())}function bn(i){return nr(()=>{const o=i.prototype.constructor,a=o[rr]||tl(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const g=d[rr]||tl(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function tl(i){return He(i)?()=>{const o=tl(q(i));return o&&o()}:hs(i)}function Tf(i){const o=i[1],a=o.type;return 2===a?o.declTNode:1===a?i[6]:null}function ku(i){return function no(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const g=a[d];if(Ru(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(Nn(),i)}const On="__parameters__";function _s(i,o,a){return nr(()=>{const c=function Vo(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...g){if(this instanceof d)return c.apply(this,g),this;const v=new d(...g);return I.annotation=v,I;function I(C,A,N){const k=C.hasOwnProperty(On)?C[On]:Object.defineProperty(C,On,{value:[]})[On];for(;k.length<=N;)k.push(null);return(k[N]=k[N]||[]).push(v),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class pn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Be({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wn(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(o===i&&(o=i.slice(0,a)),Wn(c,o)):o!==i&&o.push(c)}return o}function Fi(i,o){i.forEach(a=>Array.isArray(a)?Fi(a,o):o(a))}function il(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function sl(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function si(i,o,a){let c=Ma(i,o);return c>=0?i[1|c]=a:(c=~c,function rm(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function Bu(i,o){const a=Ma(i,o);if(a>=0)return i[1|a]}function Ma(i,o){return function Pf(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const g=c+(d-c>>1),v=i[g<<a];if(o===v)return g<<a;v>o?d=g:c=g+1}return~(d<<a)}(i,o,1)}const Li={},ws="__NG_DI_FLAG__",Rr="ngTempTokenPath",$d=/\n/gm,Xi="__source";let kn;function it(i){const o=kn;return kn=i,o}function ul(i,o=lt.Default){if(void 0===kn)throw new Ee(-203,!1);return null===kn?bo(i,void 0,o):kn.get(i,o&lt.Optional?null:void 0,o)}function Bn(i,o=lt.Default){return(function Si(){return Br}()||ul)(q(i),o)}function Ra(i,o=lt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Bn(i,o)}function Hd(i){const o=[];for(let a=0;a<i.length;a++){const c=q(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Ee(900,!1);let d,g=lt.Default;for(let v=0;v<c.length;v++){const I=c[v],C=Es(I);"number"==typeof C?-1===C?d=I.token:g|=C:d=I}o.push(Bn(d,g))}else o.push(Bn(c))}return o}function Ls(i,o){return i[ws]=o,i.prototype[ws]=o,i}function Es(i){return i[ws]}const oo=Ls(_s("Optional"),8),Bo=Ls(_s("SkipSelf"),4);var wi=(()=>((wi=wi||{})[wi.Important=1]="Important",wi[wi.DashCase=2]="DashCase",wi))();const P=new Map;let G=0;const jn="__ngContext__";function $n(i,o){sr(o)?(i[jn]=o[20],function ue(i){P.set(i[20],i)}(o)):i[jn]=o}function _l(i,o){return undefined(i,o)}function Jd(i){const o=i[3];return Hr(o)?o[3]:o}function Qu(i){return Ds(i[13])}function Ju(i){return Ds(i[4])}function Ds(i){for(;null!==i&&!Hr(i);)i=i[4];return i}function Xu(i,o,a,c,d){if(null!=c){let g,v=!1;Hr(c)?g=c:sr(c)&&(v=!0,c=c[0]);const I=Vn(c);0===i&&null!==a?null==d?qo(o,a,I):fo(o,a,I,d||null,!0):1===i&&null!==a?fo(o,a,I,d||null,!0):2===i?function rh(i,o,a){const c=Il(i,o);c&&function fm(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,I,v):3===i&&o.destroyNode(I),null!=g&&function Kf(i,o,a,c,d){const g=a[7];g!==Vn(a)&&Xu(o,i,c,g,d);for(let I=10;I<a.length;I++){const C=a[I];Ua(C[1],C,i,o,c,g)}}(o,i,g,a,d)}}function $f(i,o,a){return i.createElement(o,a)}function Gf(i,o){const a=i[9],c=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,wr(d,-1)),a.splice(c,1)}function dm(i,o){if(i.length<=10)return;const a=10+o,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&Gf(d,c),o>0&&(i[a-1][4]=c[4]);const g=sl(i,10+o);!function um(i,o){Ua(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Xd(i,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&Ua(i,o,a,3,null,null),function Ov(i){let o=i[13];if(!o)return zf(i[1],i);for(;o;){let a=null;if(sr(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==i;)sr(o)&&zf(o[1],o),o=o[3];null===o&&(o=i),sr(o)&&zf(o[1],o),a=o&&o[4]}o=a}}(o)}}function zf(i,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function El(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof wa)){const g=a[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=d[g[v]],C=g[v+1];try{C.call(I)}finally{}}else try{g.call(d)}finally{}}}}(i,o),function qf(i,o){const a=i.cleanup,c=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],I="function"==typeof v?v(o):Vn(o[v]),C=c[d=a[g+2]],A=a[g+3];"boolean"==typeof A?I.removeEventListener(a[g],C,A):A>=0?c[d=A]():c[d=-A].unsubscribe(),g+=2}else{const v=c[d=a[g+1]];a[g].call(v)}if(null!==c){for(let g=d+1;g<c.length;g++)(0,c[g])();o[7]=null}}(i,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Hr(o[3])){a!==o[3]&&Gf(a,o);const c=o[19];null!==c&&c.detachView(i)}!function Ge(i){P.delete(i[20])}(o)}}function hm(i,o,a){return function Fv(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===yt.None||d===yt.Emulated)return null}return Gr(c,a)}(i,o.parent,a)}function fo(i,o,a,c,d){i.insertBefore(o,a,c,d)}function qo(i,o,a){i.appendChild(o,a)}function ec(i,o,a,c,d){null!==c?fo(i,o,a,c,d):qo(i,o,a)}function Il(i,o){return i.parentNode(o)}let ja,Lv=function th(i,o,a){return 40&i.type?Gr(i,a):null};function Wf(i,o,a,c){const d=hm(i,c,o),g=o[11],I=function pm(i,o,a){return Lv(i,o,a)}(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)ec(g,d,a[C],I,!1);else ec(g,d,a,I,!1)}function Wo(i,o){if(null!==o){const a=o.type;if(3&a)return Gr(o,i);if(4&a)return nh(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return Wo(i,c);{const d=i[o.index];return Hr(d)?nh(-1,d):Vn(d)}}if(32&a)return _l(o,i)()||Vn(i[o.index]);{const c=Zf(i,o);return null!==c?Array.isArray(c)?c[0]:Wo(Jd(i[16]),c):Wo(i,o.next)}}return null}function Zf(i,o){return null!==o?i[16][6].projection[o.projection]:null}function nh(i,o){const a=10+i+1;if(a<o.length){const c=o[a],d=c[1].firstChild;if(null!==d)return Wo(c,d)}return o[7]}function Cl(i,o,a,c,d,g,v){for(;null!=a;){const I=c[a.index],C=a.type;if(v&&0===o&&(I&&$n(Vn(I),c),a.flags|=4),64!=(64&a.flags))if(8&C)Cl(i,o,a.child,c,d,g,!1),Xu(o,i,d,I,g);else if(32&C){const A=_l(a,c);let N;for(;N=A();)Xu(o,i,d,N,g);Xu(o,i,d,I,g)}else 16&C?ih(i,o,c,a,d,g):Xu(o,i,d,I,g);a=v?a.projectionNext:a.next}}function Ua(i,o,a,c,d,g){Cl(a,c,i.firstChild,o,d,g,!1)}function ih(i,o,a,c,d,g){const v=a[16],C=v[6].projection[c.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)Xu(o,i,d,C[A],g);else Cl(i,o,C,v[3],d,g,!0)}function sh(i,o,a){i.setAttribute(o,"style",a)}function Yf(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function jv(i){ja=i}class _m{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Or(i){return i instanceof _m?i.changingThisBreaksApplicationSecurity:i}const p=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var lr=(()=>((lr=lr||{})[lr.NONE=0]="NONE",lr[lr.HTML=1]="HTML",lr[lr.STYLE=2]="STYLE",lr[lr.SCRIPT=3]="SCRIPT",lr[lr.URL=4]="URL",lr[lr.RESOURCE_URL=5]="RESOURCE_URL",lr))();function qv(i){const o=function op(){const i=Ce();return i&&i[12]}();return o?o.sanitize(lr.URL,i)||"":function po(i,o){const a=function Hv(i){return i instanceof _m&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(i,"URL")?Or(i):function _(i){return(i=String(i)).match(p)?i:"unsafe:"+i}(ge(i))}const Al=new pn("ENVIRONMENT_INITIALIZER"),uh=new pn("INJECTOR",-1),hE=new pn("INJECTOR_DEF_TYPES");class fE{get(o,a=Li){if(a===Li){const c=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw c.name="NullInjectorError",c}return a}}function mo(...i){return{\u0275providers:db(0,i)}}function db(i,...o){const a=[],c=new Set;let d;return Fi(o,g=>{const v=g;me(v,a,[],c)&&(d||(d=[]),d.push(v))}),void 0!==d&&pE(d,a),a}function pE(i,o){for(let a=0;a<i.length;a++){const{providers:d}=i[a];Fi(d,g=>{o.push(g)})}}function me(i,o,a,c){if(!(i=q(i)))return!1;let d=null,g=pr(i);const v=!g&&se(i);if(g||v){if(v&&!v.standalone)return!1;d=i}else{const C=i.ngModule;if(g=pr(C),!g)return!1;d=C}const I=c.has(d);if(v){if(I)return!1;if(c.add(d),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of C)me(A,o,a,c)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let A;c.add(d);try{Fi(g.imports,N=>{me(N,o,a,c)&&(A||(A=[]),A.push(N))})}finally{}void 0!==A&&pE(A,o)}if(!I){const A=hs(d)||(()=>new d);o.push({provide:d,useFactory:A,deps:It},{provide:hE,useValue:d,multi:!0},{provide:Al,useValue:()=>Bn(d),multi:!0})}const C=g.providers;null==C||I||Fi(C,N=>{o.push(N)})}}return d!==i&&void 0!==i.providers}const Mm=ce({provide:String,useValue:ce});function Zo(i){return null!==i&&"object"==typeof i&&Mm in i}function ai(i){return"function"==typeof i}const ap=new pn("Set Injector scope."),Lt={},Rm={};let lh;function rc(){return void 0===lh&&(lh=new fE),lh}class Sl{}class Nm extends Sl{constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,up(o,v=>this.processProvider(v)),this.records.set(uh,$a(void 0,this)),d.has("environment")&&this.records.set(Sl,$a(void 0,this));const g=this.records.get(ap);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(hE.multi,It,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=it(this),c=jr(void 0);try{return o()}finally{it(a),jr(c)}}get(o,a=Li,c=lt.Default){this.assertNotDestroyed();const d=it(this),g=jr(void 0);try{if(!(c&lt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const C=function pb(i){return"function"==typeof i||"object"==typeof i&&i instanceof pn}(o)&&qt(o);I=C&&this.injectableDefInScope(C)?$a(Kv(o),Lt):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(c&lt.Self?rc():this.parent).get(o,a=c&lt.Optional&&a===Li?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Rr]=v[Rr]||[]).unshift(_e(o)),d)throw v;return function _i(i,o,a,c){const d=i[Rr];throw o[Xi]&&d.unshift(o[Xi]),i.message=function zu(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=_e(o);if(Array.isArray(o))d=o.map(_e).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let I=o[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):_e(I)))}d=`{${g.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace($d,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Rr]=null,i}(v,o,"R3InjectorError",this.source)}throw v}finally{jr(g),it(d)}}resolveInjectorInitializers(){const o=it(this),a=jr(void 0);try{const c=this.get(Al.multi,It,lt.Self);for(const d of c)d()}finally{it(o),jr(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(_e(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(o){let a=ai(o=q(o))?o:q(o&&o.provide);const c=function fb(i){return Zo(i)?$a(void 0,i.useValue):$a(ui(i),Lt)}(o);if(ai(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=$a(void 0,Lt,!0),d.factory=()=>Hd(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Lt&&(a.value=Rm,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ic(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Kv(i){const o=qt(i),a=null!==o?o.factory:hs(i);if(null!==a)return a;if(i instanceof pn)throw new Ee(204,!1);if(i instanceof Function)return function hb(i){const o=i.length;if(o>0)throw function Uo(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new Ee(204,!1);const a=function Ar(i){const o=i&&(i[zi]||i[la]);if(o){const a=function Qr(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ee(204,!1)}function ui(i,o,a){let c;if(ai(i)){const d=q(i);return hs(d)||Kv(d)}if(Zo(i))c=()=>q(i.useValue);else if(function gE(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Hd(i.deps||[]));else if(function ln(i){return!(!i||!i.useExisting)}(i))c=()=>Bn(q(i.useExisting));else{const d=q(i&&(i.useClass||i.provide));if(!function Zr(i){return!!i.deps}(i))return hs(d)||Kv(d);c=()=>new d(...Hd(i.deps))}return c}function $a(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function mE(i){return!!i.\u0275providers}function up(i,o){for(const a of i)Array.isArray(a)?up(a,o):mE(a)?up(a.\u0275providers,o):o(a)}class ci{}class Yv{resolveComponentFactory(o){throw function gb(i){const o=Error(`No component factory found for ${_e(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let sc=(()=>{class i{}return i.NULL=new Yv,i})();function Ko(){return oc(Nn(),Ce())}function oc(i,o){return new dh(Gr(i,o))}let dh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Ko,i})();function yb(i){return i instanceof dh?i.nativeElement:i}class Qv{}let Jv=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function vE(){const i=Ce(),a=Un(Nn().index,i);return(sr(a)?a:i)[11]}(),i})(),vb=(()=>{class i{}return i.\u0275prov=Be({token:i,providedIn:"root",factory:()=>null}),i})();class Xv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const dp=new Xv("14.3.0"),hp={};function t_(i){return i.ngOriginalError}class pp{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&t_(o);for(;a&&t_(a);)a=t_(a);return a||null}}function Us(i){return i instanceof Function?i():i}function Pm(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const g=o.length;if(d+g===c||i.charCodeAt(d+g)<=32)return d}a=d+1}}const Om="ng-template";function CE(i,o,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==Pm(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function i_(i){return 4===i.type&&i.value!==Om}function Db(i,o,a){return o===(4!==i.type||a?i.value:Om)}function DE(i,o,a){let c=4;const d=i.attrs||[],g=function a_(i){for(let o=0;o<i.length;o++)if(Ru(i[o]))return o;return i.length}(d);let v=!1;for(let I=0;I<o.length;I++){const C=o[I];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!Db(i,C,a)||""===C&&1===o.length){if(Bs(c))return!1;v=!0}}else{const A=8&c?C:o[++I];if(8&c&&null!==i.attrs){if(!CE(i.attrs,A,a)){if(Bs(c))return!1;v=!0}continue}const k=s_(8&c?"class":C,d,i_(i),a);if(-1===k){if(Bs(c))return!1;v=!0;continue}if(""!==A){let $;$=k>g?"":d[k+1].toLowerCase();const Q=8&c?$:null;if(Q&&-1!==Pm(Q,A,0)||2&c&&A!==$){if(Bs(c))return!1;v=!0}}}}else{if(!v&&!Bs(c)&&!Bs(C))return!1;if(v&&Bs(C))continue;v=!1,c=C|1&c}}return Bs(c)||v}function Bs(i){return 0==(1&i)}function s_(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===i)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=o[++d];for(;"string"==typeof I;)I=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function u_(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function o_(i,o,a=!1){for(let c=0;c<o.length;c++)if(DE(i,o[c],a))return!0;return!1}function kr(i,o){return i?":not("+o.trim()+")":o}function li(i){let o=i[0],a=1,c=2,d="",g=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&c){const I=i[++a];d+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!Bs(v)&&(o+=kr(g,d),d=""),c=v,g=g||!Bs(c);a++}return""!==d&&(o+=kr(g,d)),o}const Ut={};function bE(i){d_($t(),Ce(),nn()+i,!1)}function d_(i,o,a,c){if(!c)if(3==(3&o[2])){const g=i.preOrderCheckHooks;null!==g&&va(o,g,a)}else{const g=i.preOrderHooks;null!==g&&Oo(o,g,0,a)}gs(a)}function Vm(i,o=null,a=null,c){const d=Um(i,o,a,c);return d.resolveInjectorInitializers(),d}function Um(i,o=null,a=null,c,d=new Set){const g=[a||It,mo(i)];return c=c||("object"==typeof i?void 0:_e(i)),new Nm(g,o||rc(),c||null,d)}let ac=(()=>{class i{static create(a,c){if(Array.isArray(a))return Vm({name:""},c,a,"");{const d=a.name??"";return Vm({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Li,i.NULL=new fE,i.\u0275prov=Be({token:i,providedIn:"any",factory:()=>Bn(uh)}),i.__NG_ELEMENT_ID__=-1,i})();function Rl(i,o=lt.Default){const a=Ce();return null===a?Bn(i,o):ba(Nn(),a,q(i),o)}function kE(){throw new Error("invalid")}function Nl(i,o){return i<<17|o<<2}function bs(i){return i>>17&32767}function qm(i){return 2|i}function Ha(i){return(131068&i)>>2}function Pl(i,o){return-131069&i|o<<2}function ph(i){return 1|i}function Ap(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],g=a[c+1];if(-1!==g){const v=i.data[g];Mr(d),v.contentQueries(2,o[g],g)}}}function mh(i,o,a,c,d,g,v,I,C,A,N){const k=o.blueprint.slice();return k[0]=d,k[2]=76|c,(null!==N||i&&1024&i[2])&&(k[2]|=1024),Fs(k),k[3]=k[15]=i,k[8]=a,k[10]=v||i&&i[10],k[11]=I||i&&i[11],k[12]=C||i&&i[12]||null,k[9]=A||i&&i[9]||null,k[6]=g,k[20]=function W(){return G++}(),k[21]=N,k[16]=2==o.type?i[16]:k,k}function kl(i,o,a,c,d){let g=i.data[o];if(null===g)g=function Fl(i,o,a,c,d){const g=Du(),v=Ro(),C=i.data[o]=function qE(i,o,a,c,d,g){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(i,o,a,c,d),function Sd(){return bt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=c,g.attrs=d;const v=function Ks(){const i=bt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ni(g,!0),g}function Qo(i,o,a,c){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function D_(i,o,a){ma(o);try{const c=i.viewQuery;null!==c&&Np(1,c,a);const d=i.template;null!==d&&b_(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ap(i,o),i.staticViewQueries&&Np(2,i.viewQuery,a);const g=i.components;null!==g&&function iy(i,o){for(let a=0;a<o.length;a++)L_(i,o[a])}(o,g)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[2]&=-5,Po()}}function Gn(i,o,a,c){const d=o[2];if(128!=(128&d)){ma(o);try{Fs(o),function Oi(i){return bt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&b_(i,o,a,2,c);const v=3==(3&d);if(v){const A=i.preOrderCheckHooks;null!==A&&va(o,A,null)}else{const A=i.preOrderHooks;null!==A&&Oo(o,A,0,null),Pd(o,0)}if(function yh(i){for(let o=Qu(i);null!==o;o=Ju(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const d=a[c],g=d[3];0==(512&d[2])&&wr(g,1),d[2]|=512}}}(o),function JE(i){for(let o=Qu(i);null!==o;o=Ju(o))for(let a=10;a<o.length;a++){const c=o[a],d=c[1];Zs(c)&&Gn(d,c,d.template,c[8])}}(o),null!==i.contentQueries&&Ap(i,o),v){const A=i.contentCheckHooks;null!==A&&va(o,A)}else{const A=i.contentHooks;null!==A&&Oo(o,A,1),Pd(o,1)}!function Vb(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)gs(~d);else{const g=d,v=a[++c],I=a[++c];Xg(v,g),I(2,o[g])}}}finally{gs(-1)}}(i,o);const I=i.components;null!==I&&function Sp(i,o){for(let a=0;a<o.length;a++)Bb(i,o[a])}(o,I);const C=i.viewQuery;if(null!==C&&Np(2,C,c),v){const A=i.viewCheckHooks;null!==A&&va(o,A)}else{const A=i.viewHooks;null!==A&&Oo(o,A,2),Pd(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,wr(o[3],-1))}finally{Po()}}}function b_(i,o,a,c,d){const g=nn(),v=2&c;try{gs(-1),v&&o.length>22&&d_(i,o,22,!1),a(c,d)}finally{gs(g)}}function T_(i,o,a){!Ad()||(function WE(i,o,a,c){const d=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Fo(a,o),$n(c,o);const v=a.initialInputs;for(let I=d;I<g;I++){const C=i.data[I],A=Ri(C);A&&YE(o,a,C);const N=Ta(o,i,I,a);$n(N,o),null!==v&&QE(0,I-d,N,C,0,v),A&&(Un(a.index,o)[8]=N)}}(i,o,a,Gr(a,o)),128==(128&a.flags)&&function ZE(i,o,a){const c=a.directiveStart,d=a.directiveEnd,g=a.index,v=function No(){return bt.lFrame.currentDirectiveIndex}();try{gs(g);for(let I=c;I<d;I++){const C=i.data[I],A=o[I];zc(I),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&ly(C,A)}}finally{gs(-1),zc(v)}}(i,o,a))}function A_(i,o,a=Gr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],I=-1===v?a(o,i):i[v];i[d++]=I}}}function S_(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=sy(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function sy(i,o,a,c,d,g,v,I,C,A){const N=22+c,k=N+d,$=function GE(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:Ut);return a}(N,k),Q="function"==typeof A?A():A;return $[1]={type:i,blueprint:$,template:a,queries:null,viewQuery:I,declTNode:o,data:$.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:Q,incompleteFirstPass:!1}}function Jo(i,o,a,c){const d=gy(o);null===a?d.push(c):(d.push(a),i.firstCreatePass&&V_(i).push(c,d.length-1))}function M_(i,o,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,d):a[c]=[o,d]}return a}function oy(i,o){const c=o.directiveEnd,d=i.data,g=o.attrs,v=[];let I=null,C=null;for(let A=o.directiveStart;A<c;A++){const N=d[A],k=N.inputs,$=null===g||i_(o)?null:fy(k,g);v.push($),I=M_(k,A,I),C=M_(N.outputs,A,C)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=16),I.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=I,o.outputs=C}function ns(i,o,a,c,d,g,v,I){const C=Gr(o,a);let N,A=o.inputs;!I&&null!=A&&(N=A[c])?(Fr(i,a,N,c,d),hu(o)&&ay(a,o.index)):3&o.type&&(c=function xp(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=v?v(d,o.value||"",c):d,g.setProperty(C,c,d))}function ay(i,o){const a=Un(o,i);16&a[2]||(a[2]|=32)}function R_(i,o,a,c){let d=!1;if(Ad()){const g=function P_(i,o,a){const c=i.directiveRegistry;let d=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];o_(a,v.selectors,!1)&&(d||(d=[]),Da(Fo(a,o),i,v.type),Ri(v)?(O_(i,a),d.unshift(v)):d.push(v))}return d}(i,o,a),v=null===c?null:{"":-1};if(null!==g){d=!0,k_(a,i.data.length,g.length);for(let N=0;N<g.length;N++){const k=g[N];k.providersResolver&&k.providersResolver(k)}let I=!1,C=!1,A=Qo(i,o,g.length,null);for(let N=0;N<g.length;N++){const k=g[N];a.mergedAttrs=ko(a.mergedAttrs,k.hostAttrs),cc(i,a,o,A,k),KE(A,k,v),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const $=k.type.prototype;!I&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),I=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),A++}oy(i,a)}v&&function dy(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Ee(-301,!1);c.push(o[d],g)}}}(a,c,v)}return a.mergedAttrs=ko(a.mergedAttrs,a.attrs),d}function N_(i,o,a,c,d,g){const v=g.hostBindings;if(v){let I=i.hostBindingOpCodes;null===I&&(I=i.hostBindingOpCodes=[]);const C=~o.index;(function Mp(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(I)!=C&&I.push(C),I.push(c,d,v)}}function ly(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function O_(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function KE(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;Ri(o)&&(a[""]=i)}}function k_(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function cc(i,o,a,c,d){i.data[c]=d;const g=d.factory||(d.factory=hs(d.type)),v=new wa(g,Ri(d),Rl);i.blueprint[c]=v,a[c]=v,N_(i,o,0,c,Qo(i,a,d.hostVars,Ut),d)}function YE(i,o,a){const c=Gr(o,i),d=S_(a),g=i[10],v=py(i,mh(i,d,null,a.onPush?32:16,c,o,g,g.createRenderer(c,a),null,null,null));i[o.index]=v}function yo(i,o,a,c,d,g){const v=Gr(i,o);!function hy(i,o,a,c,d,g,v){if(null==g)i.removeAttribute(o,d,a);else{const I=null==v?ge(g):v(g,c||"",d);i.setAttribute(o,d,I,a)}}(o[11],v,g,i.value,a,c,d)}function QE(i,o,a,c,d,g){const v=g[o];if(null!==v){const I=c.setInput;for(let C=0;C<v.length;){const A=v[C++],N=v[C++],k=v[C++];null!==I?c.setInput(a,k,A,N):a[N]=k}}}function fy(i,o){let a=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],o[c+1])),c+=2}else c+=2;else c+=4}return a}function F_(i,o,a,c){return new Array(i,!0,!1,o,null,0,c,a,null,null)}function Bb(i,o){const a=Un(o,i);if(Zs(a)){const c=a[1];48&a[2]?Gn(c,a,c.template,a[8]):a[5]>0&&Ts(a)}}function Ts(i){for(let c=Qu(i);null!==c;c=Ju(c))for(let d=10;d<c.length;d++){const g=c[d];if(Zs(g))if(512&g[2]){const v=g[1];Gn(v,g,v.template,g[8])}else g[5]>0&&Ts(g)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=Un(a[c],i);Zs(d)&&d[5]>0&&Ts(d)}}function L_(i,o){const a=Un(o,i),c=a[1];(function wn(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(c,a),D_(c,a,a[8])}function py(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function Rp(i){for(;i;){i[2]|=32;const o=Jd(i);if(xo(i)&&!o)return i;i=o}return null}function As(i,o,a,c=!0){const d=o[10];d.begin&&d.begin();try{Gn(i,o,i.template,a)}catch(v){throw c&&Ss(o,v),v}finally{d.end&&d.end()}}function Np(i,o,a){Mr(0),o(i,a)}function gy(i){return i[7]||(i[7]=[])}function V_(i){return i.cleanup||(i.cleanup=[])}function Ss(i,o){const a=i[9],c=a?a.get(pp,null):null;c&&c.handleError(o)}function Fr(i,o,a,c,d){for(let g=0;g<a.length;){const v=a[g++],I=a[g++],C=o[v],A=i.data[v];null!==A.setInput?A.setInput(C,d,c,I):C[I]=d}}function Ll(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const I=o[v];"number"==typeof I?g=I:1==g?d=de(d,I):2==g&&(c=de(c,I+": "+o[++v]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function lc(i,o,a,c,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&c.push(Vn(g)),Hr(g))for(let I=10;I<g.length;I++){const C=g[I],A=C[1].firstChild;null!==A&&lc(C[1],C,A,c)}const v=a.type;if(8&v)lc(i,o,a.child,c);else if(32&v){const I=_l(a,o);let C;for(;C=I();)c.push(C)}else if(16&v){const I=Zf(o,a);if(Array.isArray(I))c.push(...I);else{const C=Jd(o[16]);lc(C[1],C,I,c,!0)}}a=d?a.projectionNext:a.next}return c}class dc{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return lc(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Hr(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(dm(o,c),sl(a,c))}this._attachedToViewContainer=!1}Xd(this._lView[1],this._lView)}onDestroy(o){Jo(this._lView[1],this._lView,null,o)}markForCheck(){Rp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){As(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cm(i,o){Ua(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=o}}class XE extends dc{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;As(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class hc extends sc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=se(o);return new Op(a,this.ngModule)}}function eI(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class U_{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){const d=this.injector.get(o,hp,c);return d!==hp||a===hp?d:this.parentInjector.get(o,a,c)}}class Op extends ci{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function km(i){return i.map(li).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return eI(this.componentDef.inputs)}get outputs(){return eI(this.componentDef.outputs)}create(o,a,c,d){let g=(d=d||this.ngModule)instanceof Sl?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new U_(o,g):o,I=v.get(Qv,null);if(null===I)throw new Ee(407,!1);const C=v.get(vb,null),A=I.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",k=c?function zE(i,o,a){return i.selectRootElement(o,a===yt.ShadowDom)}(A,c,this.componentDef.encapsulation):$f(A,N,function $b(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),$=this.componentDef.onPush?288:272,Q=sy(0,null,null,1,0,null,null,null,null,null),ye=mh(null,Q,null,$,null,null,I,A,C,v,null);let Ue,Ke;ma(ye);try{const ut=function qb(i,o,a,c,d,g){const v=a[1];a[22]=i;const C=kl(v,22,2,"#host",null),A=C.mergedAttrs=o.hostAttrs;null!==A&&(Ll(C,A,!0),null!==i&&(Mu(d,i,A),null!==C.classes&&Yf(d,i,C.classes),null!==C.styles&&sh(d,i,C.styles)));const N=c.createRenderer(i,o),k=mh(a,S_(o),null,o.onPush?32:16,a[22],C,c,N,g||null,null,null);return v.firstCreatePass&&(Da(Fo(C,a),v,o.type),O_(v,C),k_(C,a.length,1)),py(a,k),a[22]=k}(k,this.componentDef,ye,I,A);if(k)if(c)Mu(A,k,["ng-version",dp.full]);else{const{attrs:Ct,classes:Te}=function l_(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let g=i[c];if("string"==typeof g)2===d?""!==g&&o.push(g,i[++c]):8===d&&a.push(g);else{if(!Bs(d))break;d=g}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ct&&Mu(A,k,Ct),Te&&Te.length>0&&Yf(A,k,Te.join(" "))}if(Ke=Eu(Q,22),void 0!==a){const Ct=Ke.projection=[];for(let Te=0;Te<this.ngContentSelectors.length;Te++){const Mt=a[Te];Ct.push(null!=Mt?Array.from(Mt):null)}}Ue=function Wb(i,o,a,c){const d=a[1],g=function cy(i,o,a){const c=Nn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),cc(i,c,o,Qo(i,o,1,null),a),oy(i,c));const d=Ta(o,i,c.directiveStart,c);$n(d,o);const g=Gr(c,o);return g&&$n(g,o),d}(d,a,o);if(i[8]=a[8]=g,null!==c)for(const I of c)I(g,o);if(o.contentQueries){const I=Nn();o.contentQueries(1,g,I.directiveStart)}const v=Nn();return!d.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(gs(v.index),N_(a[1],v,0,v.directiveStart,v.directiveEnd,o),ly(o,g)),g}(ut,this.componentDef,ye,[vh]),D_(Q,ye,null)}finally{Po()}return new zb(this.componentType,Ue,oc(Ke,ye),ye,Ke)}}class zb extends class yE{}{constructor(o,a,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new XE(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const g=this._rootLView;Fr(g[1],g,d,o,a),ay(g,this._tNode.index)}}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function vh(){const i=Nn();Js(Ce()[1],i)}function Ir(i){let o=function j_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(Ri(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ee(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const v=i;v.inputs=ea(i.inputs),v.declaredInputs=ea(i.declaredInputs),v.outputs=ea(i.outputs);const I=d.hostBindings;I&&ke(i,I);const C=d.viewQuery,A=d.contentQueries;if(C&&$_(i,C),A&&Zb(i,A),ae(i.inputs,d.inputs),ae(i.declaredInputs,d.declaredInputs),ae(i.outputs,d.outputs),Ri(d)&&d.data.animation){const N=i.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(i),I===Ir&&(a=!1)}}o=Object.getPrototypeOf(o)}!function _h(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=ko(d.hostAttrs,a=ko(a,d.hostAttrs))}}(c)}function ea(i){return i===Kn?{}:i===It?[]:i}function $_(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function Zb(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,g)=>{o(c,d,g),a(c,d,g)}:o}function ke(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}let Je=null;function at(){if(!Je){const i=mn.Symbol;if(i&&i.iterator)Je=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Je=c)}}}return Je}function Ze(i){return!!hr(i)&&(Array.isArray(i)||!(i instanceof Map)&&at()in i)}function hr(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ta(i,o,a){return i[o]=a}function Di(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function G_(i,o,a,c){const d=Ce();return Di(d,ps(),o)&&($t(),yo(Dn(),d,i,o,a,c)),G_}function wh(i,o,a,c){return Di(i,ps(),a)?o+ge(a)+c:Ut}function z_(i,o,a,c,d,g,v,I){const C=Ce(),A=$t(),N=i+22,k=A.firstCreatePass?function Up(i,o,a,c,d,g,v,I,C){const A=o.consts,N=kl(o,i,4,v||null,ti(A,I));R_(o,a,N,ti(A,C)),Js(o,N);const k=N.tViews=sy(2,N,c,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,N),k.queries=o.queries.embeddedTView(N)),N}(N,A,C,o,a,c,d,g,v):A.data[N];ni(k,!1);const $=C[11].createComment("");Wf(A,C,$,k),$n($,C),py(C,C[N]=F_($,C,$,k)),ds(k)&&T_(A,C,k),null!=v&&A_(C,k,I)}function rs(i){return Mo(function Pn(){return bt.lFrame.contextLView}(),22+i)}function Bp(i,o,a){const c=Ce();return Di(c,ps(),o)&&ns($t(),Dn(),c,i,o,c[11],a,!1),Bp}function vy(i,o,a,c,d){const v=d?"class":"style";Fr(i,a,o.inputs[v],v,c)}function _o(i,o,a,c){const d=Ce(),g=$t(),v=22+i,I=d[11],C=d[v]=$f(I,o,function Au(){return bt.lFrame.currentNamespace}()),A=g.firstCreatePass?function sI(i,o,a,c,d,g,v){const I=o.consts,A=kl(o,i,2,d,ti(I,g));return R_(o,a,A,ti(I,v)),null!==A.attrs&&Ll(A,A.attrs,!1),null!==A.mergedAttrs&&Ll(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,d,0,o,a,c):g.data[v];ni(A,!0);const N=A.mergedAttrs;null!==N&&Mu(I,C,N);const k=A.classes;null!==k&&Yf(I,C,k);const $=A.styles;return null!==$&&sh(I,C,$),64!=(64&A.flags)&&Wf(g,d,C,A),0===function fa(){return bt.lFrame.elementDepthCount}()&&$n(C,d),function bd(){bt.lFrame.elementDepthCount++}(),ds(A)&&(T_(g,d,A),function HE(i,o,a){if(So(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=i.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,A,d)),null!==c&&A_(d,A),_o}function Eh(){let i=Nn();Ro()?function Hc(){bt.lFrame.isParent=!1}():(i=i.parent,ni(i,!1));const o=i;!function Td(){bt.lFrame.elementDepthCount--}();const a=$t();return a.firstCreatePass&&(Js(a,i),So(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Od(i){return 0!=(16&i.flags)}(o)&&vy(a,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ef(i){return 0!=(32&i.flags)}(o)&&vy(a,o,Ce(),o.stylesWithoutHost,!1),Eh}function te(i,o,a,c){return _o(i,o,a,c),Eh(),te}function qa(){return Ce()}function W_(i){return!!i&&"function"==typeof i.then}function pc(i){return!!i&&"function"==typeof i.subscribe}const Z_=pc;function jp(i,o,a,c){const d=Ce(),g=$t(),v=Nn();return function is(i,o,a,c,d,g,v,I){const C=ds(c),N=i.firstCreatePass&&V_(i),k=o[8],$=gy(o);let Q=!0;if(3&c.type||I){const Ke=Gr(c,o),ut=I?I(Ke):Ke,Ct=$.length,Te=I?gn=>I(Vn(gn[c.index])):c.index;let Mt=null;if(!I&&C&&(Mt=function Yb(i,o,a,c){const d=i.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===c){const I=o[7],C=d[g+2];return I.length>C?I[C]:null}"string"==typeof v&&(g+=2)}return null}(i,o,d,c.index)),null!==Mt)(Mt.__ngLastListenerFn__||Mt).__ngNextListenerFn__=g,Mt.__ngLastListenerFn__=g,Q=!1;else{g=Dh(c,o,k,g,!1);const gn=a.listen(ut,d,g);$.push(g,gn),N&&N.push(d,Te,Ct,Ct+1)}}else g=Dh(c,o,k,g,!1);const ye=c.outputs;let Ue;if(Q&&null!==ye&&(Ue=ye[d])){const Ke=Ue.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const Mn=o[Ue[ut]][Ue[ut+1]].subscribe(g),Sc=$.length;$.push(g,Mn),N&&N.push(d,c.index,Sc,-(Sc+1))}}}(g,d,d[11],v,i,o,0,c),jp}function Ch(i,o,a,c){try{return!1!==a(c)}catch(d){return Ss(i,d),!1}}function Dh(i,o,a,c,d){return function g(v){if(v===Function)return c;Rp(2&i.flags?Un(i.index,o):o);let C=Ch(o,0,c,v),A=g.__ngNextListenerFn__;for(;A;)C=Ch(o,0,A,v)&&C,A=A.__ngNextListenerFn__;return d&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function K_(i=1){return function Tu(i){return(bt.lFrame.contextLView=function em(i,o){for(;i>0;)o=o[15],i--;return o}(i,bt.lFrame.contextLView))[8]}(i)}function zs(i,o,a){return wy(i,"",o,"",a),zs}function wy(i,o,a,c,d){const g=Ce(),v=wh(g,o,a,c);return v!==Ut&&ns($t(),Dn(),g,i,v,g[11],d,!1),wy}function pI(i,o,a,c,d){const g=i[a+1],v=null===o;let I=c?bs(g):Ha(g),C=!1;for(;0!==I&&(!1===C||v);){const N=i[I+1];eT(i[I],o)&&(C=!0,i[I+1]=c?ph(N):qm(N)),I=c?bs(N):Ha(N)}C&&(i[a+1]=c?qm(g):ph(g))}function eT(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Ma(i,o)>=0}function Vr(i,o){return function qs(i,o,a,c){const d=Ce(),g=$t(),v=function ii(i){const o=bt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);g.firstUpdatePass&&function yI(i,o,a,c){const d=i.data;if(null===d[a+1]){const g=d[nn()],v=function Cr(i,o){return o>=i.expandoStartIndex}(i,a);(function Qa(i,o){return 0!=(i.flags&(o?16:32))})(g,c)&&null===o&&!v&&(o=!1),o=function mc(i,o,a,c){const d=function pa(i){const o=bt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let g=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=Za(a=Ah(null,i,o,a,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||i[v]!==d)if(a=Ah(d,i,o,a,c),null===g){let C=function ur(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Ha(c))return i[bs(c)]}(i,o,c);void 0!==C&&Array.isArray(C)&&(C=Ah(null,i,o,C[1],c),C=Za(C,o.attrs,c),function Wa(i,o,a,c){i[bs(a?o.classBindings:o.styleBindings)]=c}(i,o,c,C))}else g=function Ey(i,o,a){let c;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)c=Za(c,i[g].hostAttrs,a);return Za(c,o.attrs,a)}(i,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,c),function Jb(i,o,a,c,d,g){let v=g?o.classBindings:o.styleBindings,I=bs(v),C=Ha(v);i[c]=a;let N,A=!1;if(Array.isArray(a)){const k=a;N=k[1],(null===N||Ma(k,N)>0)&&(A=!0)}else N=a;if(d)if(0!==C){const $=bs(i[I+1]);i[c+1]=Nl($,I),0!==$&&(i[$+1]=Pl(i[$+1],c)),i[I+1]=function FE(i,o){return 131071&i|o<<17}(i[I+1],c)}else i[c+1]=Nl(I,0),0!==I&&(i[I+1]=Pl(i[I+1],c)),I=c;else i[c+1]=Nl(C,0),0===I?I=c:i[C+1]=Pl(i[C+1],c),C=c;A&&(i[c+1]=qm(i[c+1])),pI(i,N,c,!0),pI(i,N,c,!1),function Xb(i,o,a,c,d){const g=d?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof o&&Ma(g,o)>=0&&(a[c+1]=ph(a[c+1]))}(o,N,i,c,g),v=Nl(I,C),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,c)}}(g,i,v,c),o!==Ut&&Di(d,v,o)&&function Gp(i,o,a,c,d,g,v,I){if(!(3&o.type))return;const C=i.data,A=C[I+1];Rs(function y_(i){return 1==(1&i)}(A)?Ya(C,o,a,d,Ha(A),v):void 0)||(Rs(g)||function m_(i){return 2==(2&i)}(A)&&(g=Ya(C,null,a,d,I,v)),function mm(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let g=-1===c.indexOf("-")?void 0:wi.DashCase;null==d?i.removeStyle(a,c,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=wi.Important),i.setStyle(a,c,d,g))}}(c,v,mi(nn(),a),d,g))}(g,g.data[nn()],d,d[11],i,d[v+1]=function zp(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=_e(Or(i)))),i}(o,a),c,v)}(i,o,null,!0),Vr}function Ah(i,o,a,c,d){let g=null;const v=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<v&&(g=o[I],c=Za(c,g.hostAttrs,d),g!==i);)I++;return null!==i&&(a.directiveStylingLast=I),c}function Za(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),si(i,v,!!a||o[++g]))}return void 0===i?null:i}function Ya(i,o,a,c,d,g){const v=null===o;let I;for(;d>0;){const C=i[d],A=Array.isArray(C),N=A?C[1]:C,k=null===N;let $=a[d+1];$===Ut&&($=k?It:void 0);let Q=k?Bu($,c):N===c?$:void 0;if(A&&!Rs(Q)&&(Q=Bu(C,c)),Rs(Q)&&(I=Q,v))return I;const ye=i[d+1];d=v?bs(ye):Ha(ye)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(I=Bu(C,c))}return I}function Rs(i){return void 0!==i}function r0(i,o=""){const a=Ce(),c=$t(),d=i+22,g=c.firstCreatePass?kl(c,d,1,o,null):c.data[d],v=a[d]=function Va(i,o){return i.createText(o)}(a[11],o);Wf(c,a,v,g),ni(g,!1)}function Sh(i,o,a){const c=Ce(),d=wh(c,i,o,a);return d!==Ut&&function Hs(i,o,a){const c=mi(o,i);!function wl(i,o,a){i.setValue(o,a)}(i[11],c,a)}(c,nn(),d),Sh}const wc=void 0;var cT=["en",[["a","p"],["AM","PM"],wc],[["AM","PM"],wc,wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wc,"{1} 'at' {0}",wc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uT(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Ph={};function Ja(i){const o=function Xa(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Kp(o);if(a)return a;const c=o.split("-")[0];if(a=Kp(c),a)return a;if("en"===c)return cT;throw new Ee(701,!1)}function Zp(i){return Ja(i)[At.PluralCase]}function Kp(i){return i in Ph||(Ph[i]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[i]),Ph[i]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const $l="en-US";let Ty=$l;function A0(i,o,a,c,d){if(i=q(i),Array.isArray(i))for(let g=0;g<i.length;g++)A0(i[g],o,a,c,d);else{const g=$t(),v=Ce();let I=ai(i)?i:q(i.provide),C=ui(i);const A=Nn(),N=1048575&A.providerIndexes,k=A.directiveStart,$=A.providerIndexes>>20;if(ai(i)||!i.multi){const Q=new wa(C,d,Rl),ye=hg(I,o,d?N:N+$,k);-1===ye?(Da(Fo(A,v),g,I),S0(g,i,o.length),o.push(I),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(Q),v.push(Q)):(a[ye]=Q,v[ye]=Q)}else{const Q=hg(I,o,N+$,k),ye=hg(I,o,N,N+$),Ue=Q>=0&&a[Q],Ke=ye>=0&&a[ye];if(d&&!Ke||!d&&!Ue){Da(Fo(A,v),g,I);const ut=function fr(i,o,a,c,d){const g=new wa(i,a,Rl);return g.multi=[],g.index=o,g.componentProviders=0,JI(g,d,c&&!a),g}(d?XI:Hh,a.length,d,c,C);!d&&Ke&&(a[ye].providerFactory=ut),S0(g,i,o.length,0),o.push(I),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(ut),v.push(ut)}else S0(g,i,Q>-1?Q:ye,JI(a[d?ye:Q],C,!d&&c));!d&&c&&Ke&&a[ye].componentProviders++}}}function S0(i,o,a,c){const d=ai(o),g=function Qe(i){return!!i.useClass}(o);if(d||g){const C=(g?q(o.useClass):o).prototype.ngOnDestroy;if(C){const A=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const N=A.indexOf(a);-1===N?A.push(a,[c,C]):A[N+1].push(c,C)}else A.push(a,C)}}}function JI(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function hg(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function Hh(i,o,a,c){return x0(this.multi,[])}function XI(i,o,a,c){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Ta(a,a[1],this.providerFactory.index,c);g=I.slice(0,v),x0(d,g);for(let C=v;C<I.length;C++)g.push(I[C])}else g=[],x0(d,g);return g}function x0(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function Ny(i,o=[]){return a=>{a.providersResolver=(c,d)=>function wT(i,o,a){const c=$t();if(c.firstCreatePass){const d=Ri(i);A0(a,c.data,c.blueprint,d,!0),A0(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class zl{}class Gh{}function ia(i,o){return new M0(i,o??null)}class M0 extends zl{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hc(this);const c=kt(o);this._bootstrapComponents=Us(c.bootstrap),this._r3Injector=Um(o,a,[{provide:zl,useValue:this},{provide:sc,useValue:this.componentFactoryResolver}],_e(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ql extends Gh{constructor(o){super(),this.moduleType=o}create(o){return new M0(this.moduleType,o)}}class tC extends zl{constructor(o,a,c){super(),this.componentFactoryResolver=new hc(this),this.instance=null;const d=new Nm([...o,{provide:zl,useValue:this},{provide:sc,useValue:this.componentFactoryResolver}],a||rc(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Py(i,o,a=null){return new tC(i,o,a).injector}let nC=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=db(0,a.type),d=c.length>0?Py([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Be({token:i,providedIn:"environment",factory:()=>new i(Bn(Sl))}),i})();function rC(i){i.getStandaloneInjector=o=>o.get(nC).getOrCreateStandaloneInjector(i)}function dC(i,o,a,c){return F0(Ce(),xr(),i,o,a,c)}function O0(i,o,a,c,d){return function L0(i,o,a,c,d,g,v){const I=o+a;return function Vl(i,o,a,c){const d=Di(i,o,a);return Di(i,o+1,c)||d}(i,I,d,g)?ta(i,I+2,v?c.call(v,d,g):c(d,g)):Yl(i,I+2)}(Ce(),xr(),i,o,a,c,d)}function Yl(i,o){const a=i[o];return a===Ut?void 0:a}function F0(i,o,a,c,d,g){const v=o+a;return Di(i,v,d)?ta(i,v+1,g?c.call(g,d):c(d)):Yl(i,v+1)}function pg(i,o){const a=$t();let c;const d=i+22;a.firstCreatePass?(c=function gg(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const g=c.factory||(c.factory=hs(c.type)),v=jr(Rl);try{const I=ys(!1),C=g();return ys(I),function iI(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,Ce(),d,C),C}finally{jr(v)}}function pC(i,o,a){const c=i+22,d=Ce(),g=Mo(d,c);return function ru(i,o){return i[1].data[o].pure}(d,c)?F0(d,xr(),o,g.transform,a,g):g.transform(a)}function sa(i){return o=>{setTimeout(i,void 0,o)}}const Io=class Ql extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,g=a||(()=>null),v=c;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),g=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(g=sa(g),d&&(d=sa(d)),v&&(v=sa(v)));const I=super.subscribe({next:d,error:g,complete:v});return o instanceof J.w0&&o.add(I),I}};function TT(){return this._results[at()]()}class Fy{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=at(),c=Fy.prototype;c[a]||(c[a]=TT)}get changes(){return this._changes||(this._changes=new Io)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=Wn(o);(this._changesDetected=!function Rf(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],g=o[c];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mg=(()=>{class i{}return i.__NG_ELEMENT_ID__=mC,i})();const B0=mg,j0=class extends B0{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,d=mh(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(d[19]=v.createEmbeddedView(c)),D_(c,d,o),new dc(d)}};function mC(){return Zh(Nn(),Ce())}function Zh(i,o){return 4&i.type?new j0(o,i,oc(i,o)):null}let Kh=(()=>{class i{}return i.__NG_ELEMENT_ID__=yC,i})();function yC(){return _C(Nn(),Ce())}const Ly=Kh,vC=class extends Ly{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return oc(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){const o=to(this._hostTNode,this._hostLView);if(Jc(o)){const a=Ki(o,this._hostLView),c=Ea(o);return new Ji(a[1].data[c+8],a)}return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Vy(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let d,g;"number"==typeof c?d=c:null!=c&&(d=c.index,g=c.injector);const v=o.createEmbeddedView(a||{},g);return this.insert(v,d),v}createComponent(o,a,c,d,g){const v=o&&!function vi(i){return"function"==typeof i}(o);let I;if(v)I=a;else{const k=a||{};I=k.index,c=k.injector,d=k.projectableNodes,g=k.environmentInjector||k.ngModuleRef}const C=v?o:new Op(se(o)),A=c||this.parentInjector;if(!g&&null==C.ngModule){const $=(v?A:this.parentInjector).get(Sl,null);$&&(g=$)}const N=C.create(A,d,void 0,g);return this.insert(N.hostView,I),N}insert(o,a){const c=o._lView,d=c[1];if(function jc(i){return Hr(i[3])}(c)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const k=c[3],$=new vC(k,k[6],k[3]);$.detach($.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function lm(i,o,a,c){const d=10+c,g=a.length;c>0&&(a[d-1][4]=o),c<g-10?(o[4]=a[d],il(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function kv(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(v,o);const I=o[19];null!==I&&I.insertView(i),o[2]|=64}(d,c,v,g);const I=nh(g,v),C=c[11],A=Il(C,v[7]);return null!==A&&function Hf(i,o,a,c,d,g){c[0]=d,c[6]=o,Ua(i,c,a,1,d,g)}(d,v[6],C,c,A,I),o.attachToViewContainerRef(),il(Yh(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Vy(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=dm(this._lContainer,a);c&&(sl(Yh(this._lContainer),a),Xd(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=dm(this._lContainer,a);return c&&null!=sl(Yh(this._lContainer),a)?new dc(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function Vy(i){return i[8]}function Yh(i){return i[8]||(i[8]=[])}function _C(i,o){let a;const c=o[i.index];if(Hr(c))a=c;else{let d;if(8&i.type)d=Vn(c);else{const g=o[11];d=g.createComment("");const v=Gr(i,o);fo(g,Il(g,v),d,function uE(i,o){return i.nextSibling(o)}(g,v),!1)}o[i.index]=a=F_(c,o,d,i),py(o,a)}return new vC(a,i,o)}class Jl{constructor(o){this.queryList=o,this.matches=null}clone(){return new Jl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<c;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new Uy(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==DC(o,a).matches&&this.queries[a].setDirty()}}class H0{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Yr{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,g=this.getByIndex(c).embeddedTView(o,d);g&&(g.indexInDeclarationView=c,null!==a?a.push(g):a=[g])}return null!==a?new Yr(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class By{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new By(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(o,a,jy(a,g)),this.matchTNodeWithReadOption(o,a,Qi(a,o,g,!1,!1))}else c===mg?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Qi(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===dh||d===Kh||d===mg&&4&a.type)this.addMatch(a.index,-2);else{const g=Qi(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function jy(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function EC(i,o,a,c){return-1===a?function $y(i,o){return 11&i.type?oc(i,o):4&i.type?Zh(i,o):null}(o,i):-2===a?function Ic(i,o,a){return a===dh?oc(o,i):a===mg?Zh(o,i):a===Kh?_C(o,i):void 0}(i,o,c):Ta(i,i[1],a,o)}function Xl(i,o,a,c){const d=o[19].queries[c];if(null===d.matches){const g=i.data,v=a.matches,I=[];for(let C=0;C<v.length;C+=2){const A=v[C];I.push(A<0?null:EC(o,g[A],v[C+1],a.metadata.read))}d.matches=I}return d.matches}function Hy(i,o,a,c){const d=i.queries.getByIndex(a),g=d.matches;if(null!==g){const v=Xl(i,o,d,a);for(let I=0;I<g.length;I+=2){const C=g[I];if(C>0)c.push(v[I/2]);else{const A=g[I+1],N=o[-C];for(let k=10;k<N.length;k++){const $=N[k];$[17]===$[3]&&Hy($[1],$,A,c)}if(null!==N[9]){const k=N[9];for(let $=0;$<k.length;$++){const Q=k[$];Hy(Q[1],Q,A,c)}}}}}return c}function Cc(i){const o=Ce(),a=$t(),c=bu();Mr(c+1);const d=DC(a,c);if(i.dirty&&function Jg(i){return 4==(4&i[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const g=d.crossesNgTemplate?Hy(a,o,c,[]):Xl(a,o,d,c);i.reset(g,yb),i.notifyOnChanges()}return!0}return!1}function ed(i,o,a,c){const d=$t();if(d.firstCreatePass){const g=Nn();(function IC(i,o,a){null===i.queries&&(i.queries=new Yr),i.queries.track(new By(o,a))})(d,new H0(o,a,c),g.index),function CC(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function z0(i,o,a){const c=new Fy(4==(4&a));Jo(i,o,c,c.destroy),null===o[19]&&(o[19]=new Uy),o[19].queries.push(new Jl(c))}(d,Ce(),a)}function G0(){return function Dc(i,o){return i[19].queries[o].queryList}(Ce(),bu())}function DC(i,o){return i.queries.getByIndex(o)}function Xh(...i){}const Xy=new pn("Application Initializer");let Eg=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Xh,this.reject=Xh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(W_(g))a.push(g);else if(Z_(g)){const v=new Promise((I,C)=>{g.subscribe({complete:I,error:C})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Bn(Xy,8))},i.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const HC=new pn("AppId",{providedIn:"root",factory:function iw(){return`${Ig()}${Ig()}${Ig()}`}});function Ig(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const GC=new pn("Platform Initializer"),LT=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hi=new pn("appBootstrapListener");let ev=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const ef=new pn("LocaleId",{providedIn:"root",factory:()=>Ra(ef,lt.Optional|lt.SkipSelf)||function Cg(){return typeof $localize<"u"&&$localize.locale||$l}()}),zC=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class UT{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let ow=(()=>{class i{compileModuleSync(a){return new ql(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=Us(kt(a).declarations).reduce((v,I)=>{const C=se(I);return C&&v.push(new Op(C)),v},[]);return new UT(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bg=(()=>Promise.resolve(0))();function Tg(i){typeof Zone>"u"?bg.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class us{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Io(!1),this.onMicrotaskEmpty=new Io(!1),this.onStable=new Io(!1),this.onError=new Io(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function WC(){let i=mn.requestAnimationFrame,o=mn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function jT(i){const o=()=>{!function ZC(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(mn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ag(i),i.isCheckStableRunning=!0,oa(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ag(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,g,v,I)=>{try{return KC(i),a.invokeTask(d,g,v,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&o(),nv(i)}},onInvoke:(a,c,d,g,v,I,C)=>{try{return KC(i),a.invoke(d,g,v,I,C)}finally{i.shouldCoalesceRunChangeDetection&&o(),nv(i)}},onHasTask:(a,c,d,g)=>{a.hasTask(d,g),c===d&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Ag(i),oa(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,c,d,g)=>(a.handleError(d,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(us.isInAngularZone())throw new Ee(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,aw,Xh,Xh);try{return g.runTask(v,a,c)}finally{g.cancelTask(v)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const aw={};function oa(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ag(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function KC(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function nv(i){i._nesting--,oa(i)}class $T{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Io,this.onMicrotaskEmpty=new Io,this.onStable=new Io,this.onError=new Io}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const rv=new pn(""),Sg=new pn("");let xg,uw=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xg||(function tf(i){xg=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),Tg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tg(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Bn(us),Bn(cw),Bn(Sg))},i.\u0275prov=Be({token:i,factory:i.\u0275fac}),i})(),cw=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return xg?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Tc=null;const YC=new pn("AllowMultipleToken"),iv=new pn("PlatformDestroyListeners");class lw{constructor(o,a){this.name=o,this.token=a}}function hw(i,o,a=[]){const c=`Platform: ${o}`,d=new pn(c);return(g=[])=>{let v=Ac();if(!v||v.injector.get(YC,!1)){const I=[...a,...g,{provide:d,useValue:!0}];i?i(I):function zT(i){if(Tc&&!Tc.get(YC,!1))throw new Ee(400,!1);Tc=i;const o=i.get(ou);(function JC(i){const o=i.get(GC,null);o&&o.forEach(a=>a())})(i)}(function sv(i=[],o){return ac.create({name:o,providers:[{provide:ap,useValue:"platform"},{provide:iv,useValue:new Set([()=>Tc=null])},...i]})}(I,c))}return function fw(i){const o=Ac();if(!o)throw new Ee(401,!1);return o}()}}function Ac(){return Tc?.get(ou)??null}let ou=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function rd(i,o){let a;return a="noop"===i?new $T:("zone.js"===i?void 0:i)||new us(o),a}(c?.ngZone,function ov(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:us,useValue:d}];return d.run(()=>{const v=ac.create({providers:g,parent:this.injector,name:a.moduleType.name}),I=a.create(v),C=I.injector.get(pp,null);if(!C)throw new Ee(402,!1);return d.runOutsideAngular(()=>{const A=d.onError.subscribe({next:N=>{C.handleError(N)}});I.onDestroy(()=>{av(this._modules,I),A.unsubscribe()})}),function id(i,o,a){try{const c=a();return W_(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(C,d,()=>{const A=I.injector.get(Eg);return A.runInitializers(),A.donePromise.then(()=>(function Yp(i){Fe(i,"Expected localeId to be defined"),"string"==typeof i&&(Ty=i.toLowerCase().replace(/_/g,"-"))}(I.injector.get(ef,$l)||$l),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,c=[]){const d=pw({},c);return function HT(i,o,a){const c=new ql(a);return Promise.resolve(c)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const c=a.injector.get(au);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ee(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(iv,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Bn(ac))},i.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function pw(i,o){return Array.isArray(o)?o.reduce(pw,i):{...i,...o}}let au=(()=>{class i{constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new O.y(I=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),Tg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{C.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ie.T)(g,v.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof ci;if(!this._injector.get(Eg).done)throw!d&&Dt(a),new Ee(405,false);let v;v=d?a:this._injector.get(sc).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const I=function GT(i){return i.isBoundToModule}(v)?void 0:this._injector.get(zl),A=v.create(ac.NULL,[],c||v.selector,I),N=A.location.nativeElement,k=A.injector.get(rv,null);return k?.registerApplication(N),A.onDestroy(()=>{this.detachView(A.hostView),av(this.components,A),k?.unregisterApplication(N)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;av(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(hi,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>av(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ee(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Bn(us),Bn(Sl),Bn(pp))},i.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function av(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let uv=!0,cv=!1;function mw(){return cv=!0,uv}function qT(){if(cv)throw new Error("Cannot enable prod mode after platform setup.");uv=!1}let WT=(()=>{class i{}return i.__NG_ELEMENT_ID__=rD,i})();function rD(i){return function ZT(i,o,a){if(hu(i)&&!a){const c=Un(i.index,o);return new dc(c,c)}return 47&i.type?new dc(o[16],o):null}(Nn(),Ce(),16==(16&i))}class aD{constructor(){}supports(o){return Ze(o)}create(o){return new tA(o)}}const ww=(i,o)=>o;class tA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||ww}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,g=null;for(;a||c;){const v=!c||a&&a.currentIndex<sd(c,d,g)?a:c,I=sd(v,d,g),C=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const A=I-d,N=C-d;if(A!=N){for(let $=0;$<A;$++){const Q=$<g.length?g[$]:g[$]=0,ye=Q+$;N<=ye&&ye<A&&(g[$]=Q+1)}g[v.previousIndex]=N-A}}I!==C&&o(v,I,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Ze(o))throw new Ee(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)g=o[I],v=this._trackByFn(I,g),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,g,v,I)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,I),c=!0),a=a._next}else d=0,function be(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[at()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,I=>{v=this._trackByFn(d,I),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,I,v,d)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,v,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new Ew(a,c),g,d),o}_verifyReinsertion(o,a,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new pv),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Ew{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Iw{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class pv{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new Iw,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sd(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class Cw{constructor(){}supports(o){return o instanceof Map||hr(o)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||hr(o)))throw new Ee(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const c=new nA(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class nA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gv(){return new Co([new aD])}let Co=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||gv()),deps:[[i,new Bo,new oo]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Ee(901,!1)}}return i.\u0275prov=Be({token:i,providedIn:"root",factory:gv}),i})();function cD(){return new Pg([new Cw])}let Pg=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||cD()),deps:[[i,new Bo,new oo]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Ee(901,!1)}}return i.\u0275prov=Be({token:i,providedIn:"root",factory:cD}),i})();const bw=hw(null,"core",[]);let sA=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Bn(au))},i.\u0275mod=Xr({type:i}),i.\u0275inj=Gt({}),i})();function Tw(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(mt,Se,F)=>{F.d(Se,{Z:()=>Ee});var h=F(2090),J=F(4859),O=F(6881),ie=F(1877);class re{constructor(ge,pe){this._delegate=ge,this.firebase=pe,(0,O._addComponent)(ge,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ge,pe=O._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(ge);return!wt.isInitialized()&&"EXPLICIT"===(null===(pt=wt.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:pe})}_removeServiceInstance(ge,pe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(pe)}_addComponent(ge){(0,O._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,O._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function de(){const rt=function _e(rt){const ge={},pe={__esModule:!0,initializeApp:function Ne(je,et={}){const ee=O.initializeApp(je,et);if((0,h.r3)(ge,ee.name))return ge[ee.name];const Tt=new rt(ee,pe);return ge[ee.name]=Tt,Tt},app:wt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function he(je){const et=je.name,ee=et.replace("-compat","");if(O._registerComponent(je)&&"PUBLIC"===je.type){const Tt=(ct=wt())=>{if("function"!=typeof ct[ee])throw ae.create("invalid-app-argument",{appName:et});return ct[ee]()};void 0!==je.serviceProps&&(0,h.ZB)(Tt,je.serviceProps),pe[ee]=Tt,rt.prototype[ee]=function(...ct){return this._getService.bind(this,et).apply(this,je.multipleInstances?ct:[])}}return"PUBLIC"===je.type?pe[ee]:null},removeApp:function pt(je){delete ge[je]},useAsService:function ze(je,et){return"serverAuth"===et?null:et},modularAPIs:O}};function wt(je){if(!(0,h.r3)(ge,je=je||O._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:je});return ge[je]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function we(){return Object.keys(ge).map(je=>ge[je])}}),wt.App=rt,pe}(re);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function ge(pe){(0,h.ZB)(rt,pe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),rt}(),j=new ie.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=H;!function Ae(rt){(0,O.registerVersion)("@firebase/app-compat","0.2.10",rt)}()},6881:(mt,Se,F)=>{F.r(Se),F.d(Se,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>To,_DEFAULT_ENTRY_NAME:()=>fi,_addComponent:()=>tt,_addOrOverwriteComponent:()=>yt,_apps:()=>Cn,_clearComponents:()=>Kn,_components:()=>Jt,_getProvider:()=>qi,_registerComponent:()=>mn,_removeServiceInstance:()=>Jr,deleteApp:()=>xi,getApp:()=>rr,getApps:()=>mr,initializeApp:()=>Xt,onLog:()=>Wi,registerVersion:()=>yr,setLogLevel:()=>Ln});var h=F(5861),J=F(4859),O=F(1877),ie=F(2090);let ce,ae;const H=new WeakMap,j=new WeakMap,q=new WeakMap,He=new WeakMap,Ae=new WeakMap;let ge={get(ne,X,Re){if(ne instanceof IDBTransaction){if("done"===X)return j.get(ne);if("objectStoreNames"===X)return ne.objectStoreNames||q.get(ne);if("store"===X)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return Ne(ne[X])},set:(ne,X,Re)=>(ne[X]=Re,!0),has:(ne,X)=>ne instanceof IDBTransaction&&("done"===X||"store"===X)||X in ne};function wt(ne){return"function"==typeof ne?function pt(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...X){return ne.apply(we(this),X),Ne(H.get(this))}:function(...X){return Ne(ne.apply(we(this),X))}:function(X,...Re){const Pe=ne.call(we(this),X,...Re);return q.set(Pe,X.sort?X.sort():[X]),Ne(Pe)}}(ne):(ne instanceof IDBTransaction&&function rt(ne){if(j.has(ne))return;const X=new Promise((Re,Pe)=>{const Et=()=>{ne.removeEventListener("complete",Ft),ne.removeEventListener("error",en),ne.removeEventListener("abort",en)},Ft=()=>{Re(),Et()},en=()=>{Pe(ne.error||new DOMException("AbortError","AbortError")),Et()};ne.addEventListener("complete",Ft),ne.addEventListener("error",en),ne.addEventListener("abort",en)});j.set(ne,X)}(ne),((ne,X)=>X.some(Re=>ne instanceof Re))(ne,function _e(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,ge):ne)}function Ne(ne){if(ne instanceof IDBRequest)return function Ee(ne){const X=new Promise((Re,Pe)=>{const Et=()=>{ne.removeEventListener("success",Ft),ne.removeEventListener("error",en)},Ft=()=>{Re(Ne(ne.result)),Et()},en=()=>{Pe(ne.error),Et()};ne.addEventListener("success",Ft),ne.addEventListener("error",en)});return X.then(Re=>{Re instanceof IDBCursor&&H.set(Re,ne)}).catch(()=>{}),Ae.set(X,ne),X}(ne);if(He.has(ne))return He.get(ne);const X=wt(ne);return X!==ne&&(He.set(ne,X),Ae.set(X,ne)),X}const we=ne=>Ae.get(ne),je=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],ee=new Map;function Tt(ne,X){if(!(ne instanceof IDBDatabase)||X in ne||"string"!=typeof X)return;if(ee.get(X))return ee.get(X);const Re=X.replace(/FromIndex$/,""),Pe=X!==Re,Et=et.includes(Re);if(!(Re in(Pe?IDBIndex:IDBObjectStore).prototype)||!Et&&!je.includes(Re))return;const Ft=function(){var en=(0,h.Z)(function*(Sn,...zt){const _r=this.transaction(Sn,Et?"readwrite":"readonly");let pi=_r.store;return Pe&&(pi=pi.index(zt.shift())),(yield Promise.all([pi[Re](...zt),Et&&_r.done]))[0]});return function(zt){return en.apply(this,arguments)}}();return ee.set(X,Ft),Ft}!function pe(ne){ge=ne(ge)}(ne=>({...ne,get:(X,Re,Pe)=>Tt(X,Re)||ne.get(X,Re,Pe),has:(X,Re)=>!!Tt(X,Re)||ne.has(X,Re)}));class ct{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function Ht(ne){return"VERSION"===ne.getComponent()?.type}(Re)){const Pe=Re.getImmediate();return`${Pe.library}/${Pe.version}`}return null}).filter(Re=>Re).join(" ")}}const st="@firebase/app",fe=new O.Yd("@firebase/app"),fi="[DEFAULT]",nr={[st]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cn=new Map,Jt=new Map;function tt(ne,X){try{ne.container.addComponent(X)}catch(Re){fe.debug(`Component ${X.name} failed to register with FirebaseApp ${ne.name}`,Re)}}function yt(ne,X){ne.container.addOrOverwriteComponent(X)}function mn(ne){const X=ne.name;if(Jt.has(X))return fe.debug(`There were multiple attempts to register component ${X}.`),!1;Jt.set(X,ne);for(const Re of Cn.values())tt(Re,ne);return!0}function qi(ne,X){const Re=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),ne.container.getProvider(X)}function Jr(ne,X,Re=fi){qi(ne,X).clearInstance(Re)}function Kn(){Jt.clear()}const gr=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(X,Re,Pe){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=Pe,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const To="9.22.0";function Xt(ne,X={}){let Re=ne;"object"!=typeof X&&(X={name:X});const Pe=Object.assign({name:fi,automaticDataCollectionEnabled:!1},X),Et=Pe.name;if("string"!=typeof Et||!Et)throw gr.create("bad-app-name",{appName:String(Et)});if(Re||(Re=(0,ie.aH)()),!Re)throw gr.create("no-options");const Ft=Cn.get(Et);if(Ft){if((0,ie.vZ)(Re,Ft.options)&&(0,ie.vZ)(Pe,Ft.config))return Ft;throw gr.create("duplicate-app",{appName:Et})}const en=new J.H0(Et);for(const zt of Jt.values())en.addComponent(zt);const Sn=new hn(Re,Pe,en);return Cn.set(Et,Sn),Sn}function rr(ne=fi){const X=Cn.get(ne);if(!X&&ne===fi&&(0,ie.aH)())return Xt();if(!X)throw gr.create("no-app",{appName:ne});return X}function mr(){return Array.from(Cn.values())}function xi(ne){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(ne){const X=ne.name;Cn.has(X)&&(Cn.delete(X),yield Promise.all(ne.container.getProviders().map(Re=>Re.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function yr(ne,X,Re){var Pe;let Et=null!==(Pe=nr[ne])&&void 0!==Pe?Pe:ne;Re&&(Et+=`-${Re}`);const Ft=Et.match(/\s|\//),en=X.match(/\s|\//);if(Ft||en){const Sn=[`Unable to register library "${Et}" with version "${X}":`];return Ft&&Sn.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),Ft&&en&&Sn.push("and"),en&&Sn.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void fe.warn(Sn.join(" "))}mn(new J.wA(`${Et}-version`,()=>({library:Et,version:X}),"VERSION"))}function Wi(ne,X){if(null!==ne&&"function"!=typeof ne)throw gr.create("invalid-log-argument");(0,O.Am)(ne,X)}function Ln(ne){(0,O.Ub)(ne)}const V="firebase-heartbeat-store";let L=null;function z(){return L||(L=function he(ne,X,{blocked:Re,upgrade:Pe,blocking:Et,terminated:Ft}={}){const en=indexedDB.open(ne,X),Sn=Ne(en);return Pe&&en.addEventListener("upgradeneeded",zt=>{Pe(Ne(en.result),zt.oldVersion,zt.newVersion,Ne(en.transaction),zt)}),Re&&en.addEventListener("blocked",zt=>Re(zt.oldVersion,zt.newVersion,zt)),Sn.then(zt=>{Ft&&zt.addEventListener("close",()=>Ft()),Et&&zt.addEventListener("versionchange",_r=>Et(_r.oldVersion,_r.newVersion,_r))}).catch(()=>{}),Sn}("firebase-heartbeat-database",1,{upgrade:(ne,X)=>{0===X&&ne.createObjectStore(V)}}).catch(ne=>{throw gr.create("idb-open",{originalErrorMessage:ne.message})})),L}function Y(){return(Y=(0,h.Z)(function*(ne){try{return yield(yield z()).transaction(V).objectStore(V).get(kt(ne))}catch(X){if(X instanceof ie.ZR)fe.warn(X.message);else{const Re=gr.create("idb-get",{originalErrorMessage:X?.message});fe.warn(Re.message)}}})).apply(this,arguments)}function qe(ne,X){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(ne,X){try{const Pe=(yield z()).transaction(V,"readwrite");yield Pe.objectStore(V).put(X,kt(ne)),yield Pe.done}catch(Re){if(Re instanceof ie.ZR)fe.warn(Re.message);else{const Pe=gr.create("idb-set",{originalErrorMessage:Re?.message});fe.warn(Pe.message)}}})).apply(this,arguments)}function kt(ne){return`${ne.name}!${ne.options.appId}`}class ot{constructor(X){this.container=X,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new vr(Re),this._heartbeatsCachePromise=this._storage.read().then(Pe=>(this._heartbeatsCache=Pe,Pe))}triggerHeartbeat(){var X=this;return(0,h.Z)(function*(){const Pe=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=gt();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Et&&!X._heartbeatsCache.heartbeats.some(Ft=>Ft.date===Et))return X._heartbeatsCache.heartbeats.push({date:Et,agent:Pe}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(Ft=>{const en=new Date(Ft.date).valueOf();return Date.now()-en<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,h.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const Re=gt(),{heartbeatsToSend:Pe,unsentEntries:Et}=function yn(ne,X=1024){const Re=[];let Pe=ne.slice();for(const Et of ne){const Ft=Re.find(en=>en.agent===Et.agent);if(Ft){if(Ft.dates.push(Et.date),vn(Re)>X){Ft.dates.pop();break}}else if(Re.push({agent:Et.agent,dates:[Et.date]}),vn(Re)>X){Re.pop();break}Pe=Pe.slice(1)}return{heartbeatsToSend:Re,unsentEntries:Pe}}(X._heartbeatsCache.heartbeats),Ft=(0,ie.L)(JSON.stringify({version:2,heartbeats:Pe}));return X._heartbeatsCache.lastSentHeartbeatDate=Re,Et.length>0?(X._heartbeatsCache.heartbeats=Et,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),Ft})()}}function gt(){return(new Date).toISOString().substring(0,10)}class vr{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,h.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function se(ne){return Y.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var Re=this;return(0,h.Z)(function*(){var Pe;if(yield Re._canUseIndexedDBPromise){const Ft=yield Re.read();return qe(Re.app,{lastSentHeartbeatDate:null!==(Pe=X.lastSentHeartbeatDate)&&void 0!==Pe?Pe:Ft.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Re=this;return(0,h.Z)(function*(){var Pe;if(yield Re._canUseIndexedDBPromise){const Ft=yield Re.read();return qe(Re.app,{lastSentHeartbeatDate:null!==(Pe=X.lastSentHeartbeatDate)&&void 0!==Pe?Pe:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...X.heartbeats]})}})()}}function vn(ne){return(0,ie.L)(JSON.stringify({version:2,heartbeats:ne})).length}!function Mi(ne){mn(new J.wA("platform-logger",X=>new ct(X),"PRIVATE")),mn(new J.wA("heartbeat",X=>new ot(X),"PRIVATE")),yr(st,"0.9.10",ne),yr(st,"0.9.10","esm2017"),yr("fire-js","")}("")},4859:(mt,Se,F)=>{F.d(Se,{H0:()=>_e,wA:()=>O});var h=F(5861),J=F(2090);class O{constructor(H,j,q){this.name=H,this.instanceFactory=j,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ie="[DEFAULT]";class re{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const q=new J.BH;if(this.instancesDeferred.set(j,q),this.isInitialized(j)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:j});He&&q.resolve(He)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const q=this.normalizeInstanceIdentifier(H?.identifier),He=null!==(j=H?.optional)&&void 0!==j&&j;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Ae){if(He)return null;throw Ae}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ae(de){return"EAGER"===de.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[j,q]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(j);try{const Ae=this.getOrInitializeService({instanceIdentifier:He});q.resolve(Ae)}catch{}}}}clearInstance(H=ie){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,h.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...j.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ie){return this.instances.has(H)}getOptions(H=ie){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:q,options:j});for(const[Ae,Ee]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Ae)&&Ee.resolve(He);return He}onInit(H,j){var q;const He=this.normalizeInstanceIdentifier(j),Ae=null!==(q=this.onInitCallbacks.get(He))&&void 0!==q?q:new Set;Ae.add(H),this.onInitCallbacks.set(He,Ae);const Ee=this.instances.get(He);return Ee&&H(Ee,He),()=>{Ae.delete(H)}}invokeOnInitCallbacks(H,j){const q=this.onInitCallbacks.get(j);if(q)for(const He of q)try{He(H,j)}catch{}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let q=this.instances.get(H);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=H,de===ie?void 0:de),options:j}),this.instances.set(H,q),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,q)}catch{}var de;return q||null}normalizeInstanceIdentifier(H=ie){return this.component?this.component.multipleInstances?H:ie:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new re(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Se,F)=>{F.d(Se,{Am:()=>de,Ub:()=>_e,Yd:()=>ae,in:()=>J});const h=[];var J=(()=>{return(H=J||(J={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",J;var H})();const O={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ie=J.INFO,re={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ce=(H,j,...q)=>{if(j<H.logLevel)return;const He=(new Date).toISOString(),Ae=re[j];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ae](`[${He}]  ${H.name}:`,...q)};class ae{constructor(j){this.name=j,this._logLevel=ie,this._logHandler=ce,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in J))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...j),this._logHandler(this,J.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...j),this._logHandler(this,J.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,J.INFO,...j),this._logHandler(this,J.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,J.WARN,...j),this._logHandler(this,J.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...j),this._logHandler(this,J.ERROR,...j)}}function _e(H){h.forEach(j=>{j.setLogLevel(H)})}function de(H,j){for(const q of h){let He=null;j&&j.level&&(He=O[j.level]),q.userLogHandler=null===H?null:(Ae,Ee,...rt)=>{const ge=rt.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");Ee>=(He??Ae.logLevel)&&H({level:J[Ee].toLowerCase(),message:ge,args:rt,type:Ae.name})}}}},259:(mt,Se,F)=>{F.d(Se,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=F(6881);(0,h.registerVersion)("firebase","9.22.0","app")},9260:(mt,Se,F)=>{F.d(Se,{Z:()=>h.Z});var h=F(3942);h.Z.registerVersion("firebase","9.22.0","app-compat")},2644:(mt,Se,F)=>{F.r(Se);var h=F(5861),J=F(3942),O=F(2090),ie=F(6881),re=F(655),ce=F(1877),ae=F(4859);const Ee=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},rt=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new ce.Yd("@firebase/auth");function Ne(y,...f){pt.logLevel<=ce.in.ERROR&&pt.error(`Auth (${ie.SDK_VERSION}): ${y}`,...f)}function we(y,...f){throw et(y,...f)}function he(y,...f){return et(y,...f)}function ze(y,f,p){const _=Object.assign(Object.assign({},rt()),{[f]:p});return new O.LL("auth","Firebase",_).create(f,{appName:y.name})}function je(y,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&we(y,"argument-error"),ze(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(y,...f){if("string"!=typeof y){const p=f[0],_=[...f.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(p,..._)}return ge.create(y,...f)}function ee(y,f,...p){if(!y)throw et(f,...p)}function Tt(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Ne(f),new Error(f)}function ct(y,f){y||Tt(f)}function Ht(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function st(){return"http:"===le()||"https:"===le()}function le(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class xe{constructor(f,p){this.shortDelay=f,this.longDelay=p,ct(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fe(y,f){ct(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Ie{static initialize(f,p,_){this.fetchImpl=f,p&&(this.headersImpl=p),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kt=new xe(3e4,6e4);function Ot(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Be(y,f,p,_){return jt.apply(this,arguments)}function jt(){return(jt=(0,h.Z)(function*(y,f,p,_,T={}){return Gt(y,T,(0,h.Z)(function*(){let M={},U={};_&&("GET"===f?U=_:M={body:JSON.stringify(_)});const Z=(0,O.xO)(Object.assign({key:y.config.apiKey},U)).slice(1),Me=yield y._getAdditionalHeaders();return Me["Content-Type"]="application/json",y.languageCode&&(Me["X-Firebase-Locale"]=y.languageCode),Ie.fetch()(Ar(y,y.config.apiHost,p,Z),Object.assign({method:f,headers:Me,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Gt(y,f,p){return qt.apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(y,f,p){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},xt),f);try{const T=new Qr(y),M=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const U=yield M.json();if("needConfirmation"in U)throw pr(y,"account-exists-with-different-credential",U);if(M.ok&&!("errorMessage"in U))return U;{const Z=M.ok?U.errorMessage:U.error.message,[Me,$e]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Me)throw pr(y,"credential-already-in-use",U);if("EMAIL_EXISTS"===Me)throw pr(y,"email-already-in-use",U);if("USER_DISABLED"===Me)throw pr(y,"user-disabled",U);const Xe=_[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw ze(y,Xe,$e);we(y,Xe)}}catch(T){if(T instanceof O.ZR)throw T;we(y,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function An(y,f,p,_){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,h.Z)(function*(y,f,p,_,T={}){const M=yield Be(y,f,p,_,T);return"mfaPendingCredential"in M&&we(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Ar(y,f,p,_){const T=`${f}${p}?${_}`;return y.config.emulator?Fe(y.config,T):`${y.config.apiScheme}://${T}`}class Qr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,_)=>{this.timer=setTimeout(()=>_(he(this.auth,"network-request-failed")),Kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pr(y,f,p){const _={appName:y.name};p.email&&(_.email=p.email),p.phoneNumber&&(_.phoneNumber=p.phoneNumber);const T=he(y,f,_);return T.customData._tokenResponse=p,T}function Ai(){return(Ai=(0,h.Z)(function*(y,f){return Be(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function la(y,f){return Do.apply(this,arguments)}function Do(){return(Do=(0,h.Z)(function*(y,f){return Be(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function lt(y,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(y,f){return Be(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Si(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function fi(){return(fi=(0,h.Z)(function*(y,f=!1){const p=(0,O.m9)(y),_=yield p.getIdToken(f),T=Cn(_);ee(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const M="object"==typeof T.firebase?T.firebase:void 0,U=M?.sign_in_provider;return{claims:T,token:_,authTime:Si(nr(T.auth_time)),issuedAtTime:Si(nr(T.iat)),expirationTime:Si(nr(T.exp)),signInProvider:U||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function nr(y){return 1e3*Number(y)}function Cn(y){const[f,p,_]=y.split(".");if(void 0===f||void 0===p||void 0===_)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(p);return T?JSON.parse(T):(Ne("Failed to decode base64 JWT payload"),null)}catch(T){return Ne("Caught error parsing JWT payload as JSON",T?.toString()),null}}function tt(y,f){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(y,f,p=!1){if(p)return f;try{return yield f}catch(_){throw _ instanceof O.ZR&&mn(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function mn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class qi{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const _=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield p.iteration()}),_)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&f.schedule(!0))}f.schedule()})()}}class Jr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Si(this.lastLoginAt),this.creationTime=Si(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kn(y){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(y){var f;const p=y.auth,_=yield y.getIdToken(),T=yield tt(y,lt(p,{idToken:_}));ee(T?.users.length,p,"internal-error");const M=T.users[0];y._notifyReloadListener(M);const U=null!==(f=M.providerUserInfo)&&void 0!==f&&f.length?Xt(M.providerUserInfo):[],Z=To(y.providerData,U),Xe=!!y.isAnonymous&&!(y.email&&M.passwordHash||Z?.length),nt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:Z,metadata:new Jr(M.createdAt,M.lastLoginAt),isAnonymous:Xe};Object.assign(y,nt)})).apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(y){const f=(0,O.m9)(y);yield Kn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function To(y,f){return[...y.filter(_=>!f.some(T=>T.providerId===_.providerId)),...f]}function Xt(y){return y.map(f=>{var{providerId:p}=f,_=(0,re._T)(f,["providerId"]);return{providerId:p,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function mr(){return(mr=(0,h.Z)(function*(y,f){const p=yield Gt(y,{},(0,h.Z)(function*(){const _=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:M}=y.config,U=Ar(y,T,"/v1/token",`key=${M}`),Z=yield y._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()(U,{method:"POST",headers:Z,body:_})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ee(f.idToken,"internal-error"),ee(typeof f.idToken<"u","internal-error"),ee(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Jt(y){const f=Cn(y);return ee(f,"internal-error"),ee(typeof f.exp<"u","internal-error"),ee(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var _=this;return(0,h.Z)(function*(){return ee(!_.accessToken||_.refreshToken,f,"user-token-expired"),p||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(f,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var _=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:M,expiresIn:U}=yield function rr(y,f){return mr.apply(this,arguments)}(f,p);_.updateTokensAndExpiration(T,M,Number(U))})()}updateTokensAndExpiration(f,p,_){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(f,p){const{refreshToken:_,accessToken:T,expirationTime:M}=p,U=new xi;return _&&(ee("string"==typeof _,"internal-error",{appName:f}),U.refreshToken=_),T&&(ee("string"==typeof T,"internal-error",{appName:f}),U.accessToken=T),M&&(ee("number"==typeof M,"internal-error",{appName:f}),U.expirationTime=M),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new xi,this.toJSON())}_performRefresh(){return Tt("not implemented")}}function Rn(y,f){ee("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class yr{constructor(f){var{uid:p,auth:_,stsTokenManager:T}=f,M=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=_,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Jr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,h.Z)(function*(){const _=yield tt(p,p.stsTokenManager.getToken(p.auth,f));return ee(_,p.auth,"internal-error"),p.accessToken!==_&&(p.accessToken=_,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),_})()}getIdTokenResult(f){return function bo(y){return fi.apply(this,arguments)}(this,f)}reload(){return function gr(y){return hn.apply(this,arguments)}(this)}_assign(f){this!==f&&(ee(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new yr(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var _=this;return(0,h.Z)(function*(){let T=!1;f.idToken&&f.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(f),T=!0),p&&(yield Kn(_)),yield _.auth._persistUserIfCurrent(_),T&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var f=this;return(0,h.Z)(function*(){const p=yield f.getIdToken();return yield tt(f,function zi(y,f){return Ai.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var _,T,M,U,Z,Me,$e,Xe;const nt=null!==(_=p.displayName)&&void 0!==_?_:void 0,xn=null!==(T=p.email)&&void 0!==T?T:void 0,Ci=null!==(M=p.phoneNumber)&&void 0!==M?M:void 0,Im=null!==(U=p.photoURL)&&void 0!==U?U:void 0,lE=null!==(Z=p.tenantId)&&void 0!==Z?Z:void 0,ip=null!==(Me=p._redirectEventId)&&void 0!==Me?Me:void 0,Cm=null!==($e=p.createdAt)&&void 0!==$e?$e:void 0,Dm=null!==(Xe=p.lastLoginAt)&&void 0!==Xe?Xe:void 0,{uid:bm,emailVerified:Tm,isAnonymous:Am,providerData:Tl,stsTokenManager:zv}=p;ee(bm&&zv,f,"internal-error");const Sm=xi.fromJSON(this.name,zv);ee("string"==typeof bm,f,"internal-error"),Rn(nt,f.name),Rn(xn,f.name),ee("boolean"==typeof Tm,f,"internal-error"),ee("boolean"==typeof Am,f,"internal-error"),Rn(Ci,f.name),Rn(Im,f.name),Rn(lE,f.name),Rn(ip,f.name),Rn(Cm,f.name),Rn(Dm,f.name);const xm=new yr({uid:bm,auth:f,email:xn,emailVerified:Tm,displayName:nt,isAnonymous:Am,photoURL:Im,phoneNumber:Ci,tenantId:lE,stsTokenManager:Sm,createdAt:Cm,lastLoginAt:Dm});return Tl&&Array.isArray(Tl)&&(xm.providerData=Tl.map(lr=>Object.assign({},lr))),ip&&(xm._redirectEventId=ip),xm}static _fromIdTokenResponse(f,p,_=!1){return(0,h.Z)(function*(){const T=new xi;T.updateFromServerResponse(p);const M=new yr({uid:p.localId,auth:f,stsTokenManager:T,isAnonymous:_});return yield Kn(M),M})()}}const Wi=new Map;function Ln(y){ct(y instanceof Function,"Expected a class definition");let f=Wi.get(y);return f?(ct(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Wi.set(y,f),f)}const $r=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(p,_){var T=this;return(0,h.Z)(function*(){T.storage[p]=_})()}_get(p){var _=this;return(0,h.Z)(function*(){const T=_.storage[p];return void 0===T?null:T})()}_remove(p){var _=this;return(0,h.Z)(function*(){delete _.storage[p]})()}_addListener(p,_){}_removeListener(p,_){}}return y.type="NONE",y})();function V(y,f,p){return`firebase:${y}:${f}:${p}`}class L{constructor(f,p,_){this.persistence=f,this.auth=p,this.userKey=_;const{config:T,name:M}=this.auth;this.fullUserKey=V(this.userKey,T.apiKey,M),this.fullPersistenceKey=V("persistence",T.apiKey,M),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?yr._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,h.Z)(function*(){if(p.persistence===f)return;const _=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,_?p.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,_="authUser"){return(0,h.Z)(function*(){if(!p.length)return new L(Ln($r),f,_);const T=(yield Promise.all(p.map(function(){var $e=(0,h.Z)(function*(Xe){if(yield Xe._isAvailable())return Xe});return function(Xe){return $e.apply(this,arguments)}}()))).filter($e=>$e);let M=T[0]||Ln($r);const U=V(_,f.config.apiKey,f.name);let Z=null;for(const $e of p)try{const Xe=yield $e._get(U);if(Xe){const nt=yr._fromJSON(f,Xe);$e!==M&&(Z=nt),M=$e;break}}catch{}const Me=T.filter($e=>$e._shouldAllowMigration);return M._shouldAllowMigration&&Me.length?(M=Me[0],Z&&(yield M._set(U,Z.toJSON())),yield Promise.all(p.map(function(){var $e=(0,h.Z)(function*(Xe){if(Xe!==M)try{yield Xe._remove(U)}catch{}});return function(Xe){return $e.apply(this,arguments)}}())),new L(M,f,_)):new L(M,f,_)})()}}function z(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Dt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(se(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(an(f))return"Blackberry";if(Le(f))return"Webos";if(Y(f))return"Safari";if((f.includes("chrome/")||qe(f))&&!f.includes("edge/"))return"Chrome";if(kt(f))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function se(y=(0,O.z$)()){return/firefox\//i.test(y)}function Y(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function qe(y=(0,O.z$)()){return/crios\//i.test(y)}function Dt(y=(0,O.z$)()){return/iemobile/i.test(y)}function kt(y=(0,O.z$)()){return/android/i.test(y)}function an(y=(0,O.z$)()){return/blackberry/i.test(y)}function Le(y=(0,O.z$)()){return/webos/i.test(y)}function ot(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function vn(y=(0,O.z$)()){return ot(y)||kt(y)||Le(y)||an(y)||/windows phone/i.test(y)||Dt(y)}function ne(y,f=[]){let p;switch(y){case"Browser":p=z((0,O.z$)());break;case"Worker":p=`${z((0,O.z$)())}-${y}`;break;default:p=y}const _=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${ie.SDK_VERSION}/${_}`}function Re(){return(Re=(0,h.Z)(function*(y){return(yield Be(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pe(y,f){return Et.apply(this,arguments)}function Et(){return(Et=(0,h.Z)(function*(y,f){return Be(y,"GET","/v2/recaptchaConfig",Ot(y,f))})).apply(this,arguments)}function Ft(y){return void 0!==y&&void 0!==y.getResponse}function en(y){return void 0!==y&&void 0!==y.enterprise}class Sn{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function _r(y){return new Promise((f,p)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=f,_.onerror=T=>{const M=he("internal-error");M.customData=T,p(M)},_.type="text/javascript",_.charset="UTF-8",function zt(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(_)})}function pi(y){return`__${y}${Math.floor(1e6*Math.random())}`}class fn{constructor(f){this.type="recaptcha-enterprise",this.auth=un(f)}verify(f="verify",p=!1){var _=this;return(0,h.Z)(function*(){function M(){return M=(0,h.Z)(function*(Z){if(!p){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var Me=(0,h.Z)(function*($e,Xe){Pe(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nt=>{if(void 0!==nt.recaptchaKey){const xn=new Sn(nt);return null==Z.tenantId?Z._agentRecaptchaConfig=xn:Z._tenantRecaptchaConfigs[Z.tenantId]=xn,$e(xn.siteKey)}Xe(new Error("recaptcha Enterprise site key undefined"))}).catch(nt=>{Xe(nt)})});return function($e,Xe){return Me.apply(this,arguments)}}())}),M.apply(this,arguments)}function U(Z,Me,$e){const Xe=window.grecaptcha;en(Xe)?Xe.enterprise.ready(()=>{Xe.enterprise.execute(Z,{action:f}).then(nt=>{Me(nt)}).catch(()=>{Me("NO_RECAPTCHA")})}):$e(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,Me)=>{(function T(Z){return M.apply(this,arguments)})(_.auth).then($e=>{if(!p&&en(window.grecaptcha))U($e,Z,Me);else{if(typeof window>"u")return void Me(new Error("RecaptchaVerifier is only supported in browser"));_r("https://www.google.com/recaptcha/enterprise.js?render="+$e).then(()=>{U($e,Z,Me)}).catch(Xe=>{Me(Xe)})}}).catch($e=>{Me($e)})})})()}}function Zi(y,f,p){return du.apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(y,f,p,_=!1){const T=new fn(y);let M;try{M=yield T.verify(p)}catch{M=yield T.verify(p,!0)}const U=Object.assign({},f);return Object.assign(U,_?{captchaResp:M}:{captchaResponse:M}),Object.assign(U,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(U,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),U})).apply(this,arguments)}class Ws{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const _=M=>new Promise((U,Z)=>{try{U(f(M))}catch(Me){Z(Me)}});_.onAbort=p,this.queue.push(_);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,h.Z)(function*(){if(p.auth.currentUser===f)return;const _=[];try{for(const T of p.queue)yield T(f),T.onAbort&&_.push(T.onAbort)}catch(T){_.reverse();for(const M of _)try{M()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Pc{constructor(f,p,_,T){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=_,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ks(this),this.idTokenSubscription=new ks(this),this.beforeStateQueue=new Ws(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,p){var _=this;return p&&(this._popupRedirectResolver=Ln(p)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,M;if(!_._deleted&&(_.persistenceManager=yield L.create(_,f),!_._deleted)){if(null!==(T=_._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(p),_.lastNotifiedUid=(null===(M=_.currentUser)||void 0===M?void 0:M.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,h.Z)(function*(){var _;const T=yield p.assertedPersistence.getCurrentUser();let M=T,U=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Z=null===(_=p.redirectUser)||void 0===_?void 0:_._redirectEventId,Me=M?._redirectEventId,$e=yield p.tryRedirectSignIn(f);(!Z||Z===Me)&&$e?.user&&(M=$e.user,U=!0)}if(!M)return p.directlySetCurrentUser(null);if(!M._redirectEventId){if(U)try{yield p.beforeStateQueue.runMiddleware(M)}catch(Z){M=T,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Z))}return M?p.reloadAndSetCurrentUserOrClear(M):p.directlySetCurrentUser(null)}return ee(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===M._redirectEventId?p.directlySetCurrentUser(M):p.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(f){var p=this;return(0,h.Z)(function*(){let _=null;try{_=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,h.Z)(function*(){try{yield Kn(f)}catch(_){if("auth/network-request-failed"!==_?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function De(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,h.Z)(function*(){const _=f?(0,O.m9)(f):null;return _&&ee(_.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(_&&_._clone(p))})()}_updateCurrentUser(f,p=!1){var _=this;return(0,h.Z)(function*(){if(!_._deleted)return f&&ee(_.tenantId===f.tenantId,_,"tenant-id-mismatch"),p||(yield _.beforeStateQueue.runMiddleware(f)),_.queue((0,h.Z)(function*(){yield _.directlySetCurrentUser(f),_.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,h.Z)(function*(){yield p.assertedPersistence.setPersistence(Ln(f))}))}initializeRecaptchaConfig(){var f=this;return(0,h.Z)(function*(){const p=yield Pe(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),_=new Sn(p);null==f.tenantId?f._agentRecaptchaConfig=_:f._tenantRecaptchaConfigs[f.tenantId]=_,_.emailPasswordEnabled&&new fn(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,p,_){return this.registerStateListener(this.authStateSubscription,f,p,_)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,_){return this.registerStateListener(this.idTokenSubscription,f,p,_)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var _=this;return(0,h.Z)(function*(){const T=yield _.getOrInitRedirectPersistenceManager(p);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,h.Z)(function*(){if(!p.redirectPersistenceManager){const _=f&&Ln(f)||p._popupRedirectResolver;ee(_,p,"argument-error"),p.redirectPersistenceManager=yield L.create(p,[Ln(_._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,h.Z)(function*(){var _,T;return p._isInitialized&&(yield p.queue((0,h.Z)(function*(){}))),(null===(_=p._currentUser)||void 0===_?void 0:_._redirectEventId)===f?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,h.Z)(function*(){if(f===p.currentUser)return p.queue((0,h.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,_,T){if(this._deleted)return()=>{};const M="function"==typeof p?p:p.next.bind(p),U=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(U,this,"internal-error"),U.then(()=>M(this.currentUser)),"function"==typeof p?f.addObserver(p,_,T):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,h.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ne(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var p;const _={"X-Client-Version":f.clientVersion};f.app.options.appId&&(_["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();T&&(_["X-Firebase-Client"]=T);const M=yield f._getAppCheckToken();return M&&(_["X-Firebase-AppCheck"]=M),_})()}_getAppCheckToken(){var f=this;return(0,h.Z)(function*(){var p;const _=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return _?.error&&function wt(y,...f){pt.logLevel<=ce.in.WARN&&pt.warn(`Auth (${ie.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function un(y){return(0,O.m9)(y)}class ks{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(p=>this.observer=p)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sr(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function So(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class ds{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return Tt("not implemented")}_getIdTokenResponse(f){return Tt("not implemented")}_linkToIdToken(f,p){return Tt("not implemented")}_getReauthenticationResolver(f){return Tt("not implemented")}}function Ri(y,f){return xo.apply(this,arguments)}function xo(){return(xo=(0,h.Z)(function*(y,f){return Be(y,"POST","/v1/accounts:resetPassword",Ot(y,f))})).apply(this,arguments)}function pd(y,f){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,h.Z)(function*(y,f){return Be(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gd(y,f){return lf.apply(this,arguments)}function lf(){return(lf=(0,h.Z)(function*(y,f){return Be(y,"POST","/v1/accounts:update",Ot(y,f))})).apply(this,arguments)}function _n(y,f){return md.apply(this,arguments)}function md(){return(md=(0,h.Z)(function*(y,f){return An(y,"POST","/v1/accounts:signInWithPassword",Ot(y,f))})).apply(this,arguments)}function kc(y,f){return yd.apply(this,arguments)}function yd(){return(yd=(0,h.Z)(function*(y,f){return Be(y,"POST","/v1/accounts:sendOobCode",Ot(y,f))})).apply(this,arguments)}function df(y,f){return vd.apply(this,arguments)}function vd(){return(vd=(0,h.Z)(function*(y,f){return kc(y,f)})).apply(this,arguments)}function fu(y,f){return hf.apply(this,arguments)}function hf(){return(hf=(0,h.Z)(function*(y,f){return kc(y,f)})).apply(this,arguments)}function _d(y,f){return pu.apply(this,arguments)}function pu(){return(pu=(0,h.Z)(function*(y,f){return kc(y,f)})).apply(this,arguments)}function Yg(y,f){return gu.apply(this,arguments)}function gu(){return(gu=(0,h.Z)(function*(y,f){return kc(y,f)})).apply(this,arguments)}function Fc(){return(Fc=(0,h.Z)(function*(y,f){return An(y,"POST","/v1/accounts:signInWithEmailLink",Ot(y,f))})).apply(this,arguments)}function ff(){return(ff=(0,h.Z)(function*(y,f){return An(y,"POST","/v1/accounts:signInWithEmailLink",Ot(y,f))})).apply(this,arguments)}class Lc extends ds{constructor(f,p,_,T=null){super("password",_),this._email=f,this._password=p,this._tenantId=T}static _fromEmailAndPassword(f,p){return new Lc(f,p,"password")}static _fromEmailAndCode(f,p,_=null){return new Lc(f,p,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,h.Z)(function*(){var _;switch(p.signInMethod){case"password":const T={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const M=yield Zi(f,T,"signInWithPassword");return _n(f,M)}return _n(f,T).catch(function(){var M=(0,h.Z)(function*(U){if("auth/missing-recaptcha-token"===U.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Z=yield Zi(f,T,"signInWithPassword");return _n(f,Z)}return Promise.reject(U)});return function(U){return M.apply(this,arguments)}}());case"emailLink":return function wd(y,f){return Fc.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:we(f,"internal-error")}})()}_linkToIdToken(f,p){var _=this;return(0,h.Z)(function*(){switch(_.signInMethod){case"password":return pd(f,{idToken:p,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Ed(y,f){return ff.apply(this,arguments)}(f,{idToken:p,email:_._email,oobCode:_._password});default:we(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ni(y,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,h.Z)(function*(y,f){return An(y,"POST","/v1/accounts:signInWithIdp",Ot(y,f))})).apply(this,arguments)}class gi extends ds{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new gi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):we("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:T}=p,M=(0,re._T)(p,["providerId","signInMethod"]);if(!_||!T)return null;const U=new gi(_,T);return U.idToken=M.idToken||void 0,U.accessToken=M.accessToken||void 0,U.secret=M.secret,U.nonce=M.nonce,U.pendingToken=M.pendingToken||null,U}_getIdTokenResponse(f){return Ni(f,this.buildRequest())}_linkToIdToken(f,p){const _=this.buildRequest();return _.idToken=p,Ni(f,_)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ni(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,O.xO)(p)}return f}}function Id(y,f){return ha.apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(y,f){return Be(y,"POST","/v1/accounts:sendVerificationCode",Ot(y,f))})).apply(this,arguments)}function mu(){return(mu=(0,h.Z)(function*(y,f){return An(y,"POST","/v1/accounts:signInWithPhoneNumber",Ot(y,f))})).apply(this,arguments)}function Uc(){return(Uc=(0,h.Z)(function*(y,f){const p=yield An(y,"POST","/v1/accounts:signInWithPhoneNumber",Ot(y,f));if(p.temporaryProof)throw pr(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const yu={USER_NOT_FOUND:"user-not-found"};function cr(){return(cr=(0,h.Z)(function*(y,f){return An(y,"POST","/v1/accounts:signInWithPhoneNumber",Ot(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),yu)})).apply(this,arguments)}class Sr extends ds{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Sr({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Sr({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Vc(y,f){return mu.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function gf(y,f){return Uc.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function mf(y,f){return cr.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:_,verificationCode:T}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:_,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:_,phoneNumber:T,temporaryProof:M}=f;return _||p||T||M?new Sr({verificationId:p,verificationCode:_,phoneNumber:T,temporaryProof:M}):null}}class _u{constructor(f){var p,_,T,M,U,Z;const Me=(0,O.zd)((0,O.pd)(f)),$e=null!==(p=Me.apiKey)&&void 0!==p?p:null,Xe=null!==(_=Me.oobCode)&&void 0!==_?_:null,nt=function Qg(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Me.mode)&&void 0!==T?T:null);ee($e&&Xe&&nt,"argument-error"),this.apiKey=$e,this.operation=nt,this.code=Xe,this.continueUrl=null!==(M=Me.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(U=Me.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(Z=Me.tenantId)&&void 0!==Z?Z:null}static parseLink(f){const p=function vu(y){const f=(0,O.zd)((0,O.pd)(y)).link,p=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,_=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(_?(0,O.zd)((0,O.pd)(_)).link:null)||_||p||f||y}(f);try{return new _u(p)}catch{return null}}}let Vn=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,_){return Lc._fromEmailAndPassword(p,_)}static credentialWithLink(p,_){const T=_u.parseLink(_);return ee(T,"argument-error"),Lc._fromEmailAndCode(p,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class fs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class wu extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class mi extends wu{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return ee("providerId"in p&&"signInMethod"in p,"argument-error"),gi._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ee(f.idToken||f.accessToken,"argument-error"),gi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return mi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return mi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:_,oauthTokenSecret:T,pendingToken:M,nonce:U,providerId:Z}=f;if(!_&&!T&&!p&&!M||!Z)return null;try{return new mi(Z)._credential({idToken:p,accessToken:_,nonce:U,pendingToken:M})}catch{return null}}}let Gr=(()=>{class y extends wu{constructor(){super("facebook.com")}static credential(p){return gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Bc=(()=>{class y extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(p,_){return gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:T}=p;if(!_&&!T)return null;try{return y.credential(_,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Eu=(()=>{class y extends wu{constructor(){super("github.com")}static credential(p){return gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Un extends ds{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Ni(f,this.buildRequest())}_linkToIdToken(f,p){const _=this.buildRequest();return _.idToken=p,Ni(f,_)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ni(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:T,pendingToken:M}=p;return _&&T&&M&&_===T?new Un(_,M):null}static _create(f,p){return new Un(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zs extends fs{constructor(f){ee(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Zs.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Zs.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Un.fromJSON(f);return ee(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:_}=f;if(!p||!_)return null;try{return Un._create(_,p)}catch{return null}}}let jc=(()=>{class y extends wu{constructor(){super("twitter.com")}static credential(p,_){return gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:_,oauthTokenSecret:T}=p;if(!_||!T)return null;try{return y.credential(_,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ti(y,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,h.Z)(function*(y,f){return An(y,"POST","/v1/accounts:signUp",Ot(y,f))})).apply(this,arguments)}class wr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,_,T=!1){return(0,h.Z)(function*(){const M=yield yr._fromIdTokenResponse(f,_,T),U=bt(_);return new wr({user:M,providerId:U,_tokenResponse:_,operationType:p})})()}static _forOperation(f,p,_){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(_,!0);const T=bt(_);return new wr({user:f,providerId:T,_tokenResponse:_,operationType:p})})()}}function bt(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Dd(){return(Dd=(0,h.Z)(function*(y){var f;const p=un(y);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new wr({user:p.currentUser,providerId:null,operationType:"signIn"});const _=yield ti(p,{returnSecureToken:!0}),T=yield wr._fromIdTokenResponse(p,"signIn",_,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class fa extends O.ZR{constructor(f,p,_,T){var M;super(p.code,p.message),this.operationType=_,this.user=T,Object.setPrototypeOf(this,fa.prototype),this.customData={appName:f.name,tenantId:null!==(M=f.tenantId)&&void 0!==M?M:void 0,_serverResponse:p.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(f,p,_,T){return new fa(f,p,_,T)}}function bd(y,f,p,_){return("reauthenticate"===f?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?fa._fromErrorAndOperation(y,M,f,_):M})}function Td(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Pi(){return(Pi=(0,h.Z)(function*(y,f){const p=(0,O.m9)(y);yield $t(!0,p,f);const{providerUserInfo:_}=yield la(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),T=Td(_||[]);return p.providerData=p.providerData.filter(M=>T.has(M.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Iu(y,f){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,h.Z)(function*(y,f,p=!1){const _=yield tt(y,f._linkToIdToken(y.auth,yield y.getIdToken()),p);return wr._forOperation(y,"link",_)})).apply(this,arguments)}function $t(y,f,p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,h.Z)(function*(y,f,p){yield Kn(f);const T=!1===y?"provider-already-linked":"no-such-provider";ee(Td(f.providerData).has(p)===y,f.auth,T)})).apply(this,arguments)}function $c(y,f){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(y,f,p=!1){const{auth:_}=y,T="reauthenticate";try{const M=yield tt(y,bd(_,T,f,y),p);ee(M.idToken,_,"internal-error");const U=Cn(M.idToken);ee(U,_,"internal-error");const{sub:Z}=U;return ee(y.uid===Z,_,"user-mismatch"),wr._forOperation(y,T,M)}catch(M){throw"auth/user-not-found"===M?.code&&we(_,"user-mismatch"),M}})).apply(this,arguments)}function Du(y,f){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(y,f,p=!1){const _="signIn",T=yield bd(y,_,f),M=yield wr._fromIdTokenResponse(y,_,T);return p||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function ni(y,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(y,f){return Du(un(y),f)})).apply(this,arguments)}function Hc(y,f){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,h.Z)(function*(y,f){const p=(0,O.m9)(y);return yield $t(!1,p,f.providerId),Iu(p,f)})).apply(this,arguments)}function Pn(y,f){return yf.apply(this,arguments)}function yf(){return(yf=(0,h.Z)(function*(y,f){return $c((0,O.m9)(y),f)})).apply(this,arguments)}function vf(y,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(y,f){return An(y,"POST","/v1/accounts:signInWithCustomToken",Ot(y,f))})).apply(this,arguments)}function Oi(){return(Oi=(0,h.Z)(function*(y,f){const p=un(y),_=yield vf(p,{token:f,returnSecureToken:!0}),T=yield wr._fromIdTokenResponse(p,"signIn",_);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class ps{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?ii._fromServerResponse(f,p):"totpInfo"in p?Sd._fromServerResponse(f,p):we(f,"internal-error")}}class ii extends ps{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new ii(p)}}class Sd extends ps{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new Sd(p)}}function Ys(y,f,p){var _;ee((null===(_=p.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),ee(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ee(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(ee(p.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function No(){return No=(0,h.Z)(function*(y,f,p){var _;const T=un(y),M={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=T._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const U=yield Zi(T,M,"getOobCode",!0);p&&Ys(T,U,p),yield fu(T,U)}else p&&Ys(T,M,p),yield fu(T,M).catch(function(){var U=(0,h.Z)(function*(Z){if("auth/missing-recaptcha-token"!==Z.code)return Promise.reject(Z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Me=yield Zi(T,M,"getOobCode",!0);p&&Ys(T,Me,p),yield fu(T,Me)}});return function(Z){return U.apply(this,arguments)}}())}),No.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(y,f,p){yield Ri((0,O.m9)(y),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)(function*(y,f){yield gd((0,O.m9)(y),{oobCode:f})})).apply(this,arguments)}function qc(y,f){return ga.apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(y,f){const p=(0,O.m9)(y),_=yield Ri(p,{oobCode:f}),T=_.requestType;switch(ee(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(_.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(_.mfaInfo,p,"internal-error");default:ee(_.email,p,"internal-error")}let M=null;return _.mfaInfo&&(M=ps._fromServerResponse(un(p),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:M},operation:T}})).apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(y,f){const{data:p}=yield qc((0,O.m9)(y),f);return p.email})).apply(this,arguments)}function ya(){return ya=(0,h.Z)(function*(y,f,p){var _;const T=un(y),M={returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"};let U;if(null!==(_=T._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const $e=yield Zi(T,M,"signUpPassword");U=ti(T,$e)}else U=ti(T,M).catch(function(){var $e=(0,h.Z)(function*(Xe){if("auth/missing-recaptcha-token"===Xe.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const nt=yield Zi(T,M,"signUpPassword");return ti(T,nt)}return Promise.reject(Xe)});return function(Xe){return $e.apply(this,arguments)}}());const Z=yield U.catch($e=>Promise.reject($e)),Me=yield wr._fromIdTokenResponse(T,"signIn",Z);return yield T._updateCurrentUser(Me.user),Me}),ya.apply(this,arguments)}function Tu(){return Tu=(0,h.Z)(function*(y,f,p){var _;const T=un(y),M={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function U(Z,Me){ee(Me.handleCodeInApp,T,"argument-error"),Me&&Ys(T,Z,Me)}if(null!==(_=T._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const Z=yield Zi(T,M,"getOobCode",!0);U(Z,p),yield _d(T,Z)}else U(M,p),yield _d(T,M).catch(function(){var Z=(0,h.Z)(function*(Me){if("auth/missing-recaptcha-token"!==Me.code)return Promise.reject(Me);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const $e=yield Zi(T,M,"getOobCode",!0);U($e,p),yield _d(T,$e)}});return function(Me){return Z.apply(this,arguments)}}())}),Tu.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(y,f,p){const _=(0,O.m9)(y),T=Vn.credentialWithLink(f,p||Ht());return ee(T._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),ni(_,T)})).apply(this,arguments)}function Dn(y,f){return Md.apply(this,arguments)}function Md(){return(Md=(0,h.Z)(function*(y,f){return Be(y,"POST","/v1/accounts:createAuthUri",Ot(y,f))})).apply(this,arguments)}function Zc(){return(Zc=(0,h.Z)(function*(y,f){const _={identifier:f,continueUri:st()?Ht():"http://localhost"},{signinMethods:T}=yield Dn((0,O.m9)(y),_);return T||[]})).apply(this,arguments)}function Au(){return(Au=(0,h.Z)(function*(y,f){const p=(0,O.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Ys(p.auth,T,f);const{email:M}=yield df(p.auth,T);M!==y.email&&(yield y.reload())})).apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(y,f,p){const _=(0,O.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};p&&Ys(_.auth,M,p);const{email:U}=yield Yg(_.auth,M);U!==y.email&&(yield y.reload())})).apply(this,arguments)}function va(y,f){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(y,f){return Be(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(y,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const _=(0,O.m9)(y),M={idToken:yield _.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},U=yield tt(_,va(_.auth,M));_.displayName=U.displayName||null,_.photoURL=U.photoUrl||null;const Z=_.providerData.find(({providerId:Me})=>"password"===Me);Z&&(Z.displayName=_.displayName,Z.photoURL=_.photoURL),yield _._updateTokensIfNecessary(U)})).apply(this,arguments)}function wa(y,f,p){return Su.apply(this,arguments)}function Su(){return(Su=(0,h.Z)(function*(y,f,p){const{auth:_}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(M.email=f),p&&(M.password=p);const U=yield tt(y,pd(_,M));yield y._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class ki{constructor(f,p,_={}){this.isNewUser=f,this.providerId=p,this.profile=_}}class Yc extends ki{constructor(f,p,_,T){super(f,p,_),this.username=T}}class Od extends ki{constructor(f,p){super(f,"facebook.com",p)}}class Ef extends Yc{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Qc extends ki{constructor(f,p){super(f,"google.com",p)}}class xu extends Yc{constructor(f,p,_){super(f,"twitter.com",p,_)}}function Mu(y){const{user:f,_tokenResponse:p}=y;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function wf(y){var f,p;if(!y)return null;const{providerId:_}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&y?.idToken){const U=null===(p=null===(f=Cn(y.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(U)return new ki(M,"anonymous"!==U&&"custom"!==U?U:null)}if(!_)return null;switch(_){case"facebook.com":return new Od(M,T);case"github.com":return new Ef(M,T);case"google.com":return new Qc(M,T);case"twitter.com":return new xu(M,T,y.screenName||null);case"custom":case"anonymous":return new ki(M,null);default:return new ki(M,_,T)}}(p)}class Xs{constructor(f,p,_){this.type=f,this.credential=p,this.auth=_}static _fromIdtoken(f,p){return new Xs("enroll",f,p)}static _fromMfaPendingCredential(f){return new Xs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,_;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Xs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.idToken)return Xs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Yi{constructor(f,p,_){this.session=f,this.hints=p,this.signInResolver=_}static _fromError(f,p){const _=un(f),T=p.customData._serverResponse,M=(T.mfaInfo||[]).map(Z=>ps._fromServerResponse(_,Z));ee(T.mfaPendingCredential,_,"internal-error");const U=Xs._fromMfaPendingCredential(T.mfaPendingCredential);return new Yi(U,M,function(){var Z=(0,h.Z)(function*(Me){const $e=yield Me._process(_,U);delete T.mfaInfo,delete T.mfaPendingCredential;const Xe=Object.assign(Object.assign({},T),{idToken:$e.idToken,refreshToken:$e.refreshToken});switch(p.operationType){case"signIn":const nt=yield wr._fromIdTokenResponse(_,p.operationType,Xe);return yield _._updateCurrentUser(nt.user),nt;case"reauthenticate":return ee(p.user,_,"internal-error"),wr._forOperation(p.user,p.operationType,Xe);default:we(_,"internal-error")}});return function(Me){return Z.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,h.Z)(function*(){return p.signInResolver(f)})()}}function Ca(y,f){return Be(y,"POST","/v2/accounts/mfaEnrollment:start",Ot(y,f))}class eo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(_=>ps._fromServerResponse(f.auth,_)))})}static _fromUser(f){return new eo(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Xs._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var _=this;return(0,h.Z)(function*(){const T=f,M=yield _.getSession(),U=yield tt(_.user,T._process(_.user.auth,M,p));return yield _.user._updateTokensIfNecessary(U),_.user.reload()})()}unenroll(f){var p=this;return(0,h.Z)(function*(){const _="string"==typeof f?f:f.uid,T=yield p.user.getIdToken();try{const M=yield tt(p.user,function el(y,f){return Be(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(y,f))}(p.user.auth,{idToken:T,mfaEnrollmentId:_}));p.enrolledFactors=p.enrolledFactors.filter(({uid:U})=>U!==_),yield p.user._updateTokensIfNecessary(M),yield p.user.reload()}catch(M){throw M}})()}}const to=new WeakMap,no="__sak";class Pu{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(no,"1"),this.storage.removeItem(no),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qi=(()=>{class y extends Pu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,_)=>this.onStorageEvent(p,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Df(){const y=(0,O.z$)();return Y(y)||ot(y)}()&&function Mi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const _ of Object.keys(this.listeners)){const T=this.storage.getItem(_),M=this.localCache[_];T!==M&&p(_,M,T)}}onStorageEvent(p,_=!1){if(!p.key)return void this.forAllChangedKeys((Z,Me,$e)=>{this.notifyListeners(Z,$e)});const T=p.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(T);if(p.newValue!==Z)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!_)return}const M=()=>{const Z=this.storage.getItem(T);!_&&this.localCache[T]===Z||this.notifyListeners(T,Z)},U=this.storage.getItem(T);!function vr(){return(0,O.w1)()&&10===document.documentMode}()||U===p.newValue||p.newValue===p.oldValue?M():setTimeout(M,10)}notifyListeners(p,_){this.localCache[p]=_;const T=this.listeners[p];if(T)for(const M of Array.from(T))M(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,_,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:_,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,_){var T=()=>super._set,M=this;return(0,h.Z)(function*(){yield T().call(M,p,_),M.localCache[p]=JSON.stringify(_)})()}_get(p){var _=()=>super._get,T=this;return(0,h.Z)(function*(){const M=yield _().call(T,p);return T.localCache[p]=JSON.stringify(M),M})()}_remove(p){var _=()=>super._remove,T=this;return(0,h.Z)(function*(){yield _().call(T,p),delete T.localCache[p]})()}}return y.type="LOCAL",y})(),ro=(()=>{class y extends Pu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,_){}_removeListener(p,_){}}return y.type="SESSION",y})();let Ou=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const _=this.receivers.find(M=>M.isListeningto(p));if(_)return _;const T=new y(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var _=this;return(0,h.Z)(function*(){const T=p,{eventId:M,eventType:U,data:Z}=T.data,Me=_.handlersMap[U];if(!Me?.size)return;T.ports[0].postMessage({status:"ack",eventId:M,eventType:U});const $e=Array.from(Me).map(function(){var nt=(0,h.Z)(function*(xn){return xn(T.origin,Z)});return function(xn){return nt.apply(this,arguments)}}()),Xe=yield function bf(y){return Promise.all(y.map(function(){var f=(0,h.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(_){return{fulfilled:!1,reason:_}}});return function(p){return f.apply(this,arguments)}}()))}($e);T.ports[0].postMessage({status:"done",eventId:M,eventType:U,response:Xe})})()}_subscribe(p,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(_)}_unsubscribe(p,_){this.handlersMap[p]&&_&&this.handlersMap[p].delete(_),(!_||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ji(y="",f=10){let p="";for(let _=0;_<f;_++)p+=Math.floor(10*Math.random());return y+p}class nm{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,_=50){var T=this;return(0,h.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let U,Z;return new Promise((Me,$e)=>{const Xe=Ji("",20);M.port1.start();const nt=setTimeout(()=>{$e(new Error("unsupported_event"))},_);Z={messageChannel:M,onMessage(xn){const Ci=xn;if(Ci.data.eventId===Xe)switch(Ci.data.status){case"ack":clearTimeout(nt),U=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),Me(Ci.data.response);break;default:clearTimeout(nt),clearTimeout(U),$e(new Error("invalid_response"))}}},T.handlers.add(Z),M.port1.addEventListener("message",Z.onMessage),T.target.postMessage({eventType:f,eventId:Xe,data:p},[M.port2])}).finally(()=>{Z&&T.removeMessageHandler(Z)})})()}}function bn(){return window}function Aa(){return typeof bn().WorkerGlobalScope<"u"&&"function"==typeof bn().importScripts}function ku(){return(ku=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const io="firebaseLocalStorageDb",Vo="firebaseLocalStorage",_s="fbase_key";class Fu{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Sa(y,f){return y.transaction([Vo],f?"readwrite":"readonly").objectStore(Vo)}function nl(){const y=indexedDB.open(io,1);return new Promise((f,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(Vo,{keyPath:_s})}catch(T){p(T)}}),y.addEventListener("success",(0,h.Z)(function*(){const _=y.result;_.objectStoreNames.contains(Vo)?f(_):(_.close(),yield function pn(){const y=indexedDB.deleteDatabase(io);return new Fu(y).toPromise()}(),f(yield nl()))}))})}function rl(y,f,p){return Af.apply(this,arguments)}function Af(){return(Af=(0,h.Z)(function*(y,f,p){const _=Sa(y,!0).put({[_s]:f,value:p});return new Fu(_).toPromise()})).apply(this,arguments)}function Sf(){return(Sf=(0,h.Z)(function*(y,f){const p=Sa(y,!1).get(f),_=yield new Fu(p).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function xf(y,f){const p=Sa(y,!0).delete(f);return new Fu(p).toPromise()}const Lu=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,h.Z)(function*(){return p.db||(p.db=yield nl()),p.db})()}_withRetries(p){var _=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const M=yield _._openDb();return yield p(M)}catch(M){if(T++>3)throw M;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,h.Z)(function*(){return Aa()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,h.Z)(function*(){p.receiver=Ou._getInstance(function On(){return Aa()?self:null}()),p.receiver._subscribe("keyChanged",function(){var _=(0,h.Z)(function*(T,M){return{keyProcessed:(yield p._poll()).includes(M.key)}});return function(T,M){return _.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var _=(0,h.Z)(function*(T,M){return["keyChanged"]});return function(T,M){return _.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,h.Z)(function*(){var _,T;if(p.activeServiceWorker=yield function Tf(){return ku.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new nm(p.activeServiceWorker);const M=yield p.sender._send("ping",{},800);!M||(null===(_=M[0])||void 0===_?void 0:_.fulfilled)&&(null===(T=M[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var _=this;return(0,h.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function vs(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:p},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const p=yield nl();return yield rl(p,no,"1"),yield xf(p,no),!0}catch{}return!1})()}_withPendingWrite(p){var _=this;return(0,h.Z)(function*(){_.pendingWrites++;try{yield p()}finally{_.pendingWrites--}})()}_set(p,_){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(M=>rl(M,p,_)),T.localCache[p]=_,T.notifyServiceWorker(p)}))})()}_get(p){var _=this;return(0,h.Z)(function*(){const T=yield _._withRetries(M=>function Fd(y,f){return Sf.apply(this,arguments)}(M,p));return _.localCache[p]=T,T})()}_remove(p){var _=this;return(0,h.Z)(function*(){return _._withPendingWrite((0,h.Z)(function*(){return yield _._withRetries(T=>xf(T,p)),delete _.localCache[p],_.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,h.Z)(function*(){const _=yield p._withRetries(U=>{const Z=Sa(U,!1).getAll();return new Fu(Z).toPromise()});if(!_)return[];if(0!==p.pendingWrites)return[];const T=[],M=new Set;for(const{fbase_key:U,value:Z}of _)M.add(U),JSON.stringify(p.localCache[U])!==JSON.stringify(Z)&&(p.notifyListeners(U,Z),T.push(U));for(const U of Object.keys(p.localCache))p.localCache[U]&&!M.has(U)&&(p.notifyListeners(U,null),T.push(U));return T})()}notifyListeners(p,_){this.localCache[p]=_;const T=this.listeners[p];if(T)for(const M of Array.from(T))M(_)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Yn(y,f){return Be(y,"POST","/v2/accounts/mfaSignIn:start",Ot(y,f))}const Wn=1e12;class Fi{constructor(f){this.auth=f,this.counter=Wn,this._widgets=new Map}render(f,p){const _=this.counter;return this._widgets.set(_,new il(f,this.auth.name,p||{})),this.counter++,_}reset(f){var p;const _=f||Wn;null===(p=this._widgets.get(_))||void 0===p||p.delete(),this._widgets.delete(_)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Wn))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,h.Z)(function*(){var _;return null===(_=p._widgets.get(f||Wn))||void 0===_||_.execute(),""})()}}class il{constructor(f,p,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;ee(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sl(y){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Uo=pi("rcb"),Vd=new xe(3e4,6e4);class rm{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=bn().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return ee(function Nf(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&Ft(bn().grecaptcha)?Promise.resolve(bn().grecaptcha):new Promise((_,T)=>{const M=bn().setTimeout(()=>{T(he(f,"network-request-failed"))},Vd.get());bn()[Uo]=()=>{bn().clearTimeout(M),delete bn()[Uo];const Z=bn().grecaptcha;if(!Z||!Ft(Z))return void T(he(f,"internal-error"));const Me=Z.render;Z.render=($e,Xe)=>{const nt=Me($e,Xe);return this.counter++,nt},this.hostLanguage=p,_(Z)},_r(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Uo,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(M),T(he(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=bn().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mv{load(f){return(0,h.Z)(function*(){return new Fi(f)})()}clearedOneInstance(){}}const Uu="recaptcha",si={theme:"light",type:"image"};class Bu{constructor(f,p=Object.assign({},si),_){this.parameters=p,this.type=Uu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(_),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;ee(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mv:new rm,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),_=f.getAssertedRecaptcha();return _.getResponse(p)||new Promise(M=>{const U=Z=>{!Z||(f.tokenChangeListeners.delete(U),M(Z))};f.tokenChangeListeners.add(U),f.isInvisible&&_.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(_=>_(p)),"function"==typeof f)f(p);else if("string"==typeof f){const _=bn()[f];"function"==typeof _&&_(p)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const _=document.createElement("div");p.appendChild(_),p=_}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){ee(st()&&!Aa(),f.auth,"internal-error"),yield function Ma(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function X(y){return Re.apply(this,arguments)}(f.auth);ee(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ol{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Sr._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function ju(){return(ju=(0,h.Z)(function*(y,f,p){const _=un(y),T=yield Gu(_,f,(0,O.m9)(p));return new ol(T,M=>ni(_,M))})).apply(this,arguments)}function $u(){return($u=(0,h.Z)(function*(y,f,p){const _=(0,O.m9)(y);yield $t(!1,_,"phone");const T=yield Gu(_.auth,f,(0,O.m9)(p));return new ol(T,M=>Hc(_,M))})).apply(this,arguments)}function Hu(){return(Hu=(0,h.Z)(function*(y,f,p){const _=(0,O.m9)(y),T=yield Gu(_.auth,f,(0,O.m9)(p));return new ol(T,M=>Pn(_,M))})).apply(this,arguments)}function Gu(y,f,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,h.Z)(function*(y,f,p){var _;const T=yield p.verify();try{let M;if(ee("string"==typeof T,y,"argument-error"),ee(p.type===Uu,y,"argument-error"),M="string"==typeof f?{phoneNumber:f}:f,"session"in M){const U=M.session;if("phoneNumber"in M)return ee("enroll"===U.type,y,"internal-error"),(yield Ca(y,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ee("signin"===U.type,y,"internal-error");const Z=(null===(_=M.multiFactorHint)||void 0===_?void 0:_.uid)||M.multiFactorUid;return ee(Z,y,"missing-multi-factor-info"),(yield Yn(y,{mfaPendingCredential:U.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield Id(y,{phoneNumber:M.phoneNumber,recaptchaToken:T});return U}}finally{p._reset()}})).apply(this,arguments)}function jd(){return(jd=(0,h.Z)(function*(y,f){yield Iu((0,O.m9)(y),f)})).apply(this,arguments)}let Li=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=un(p)}verifyPhoneNumber(p,_){return Gu(this.auth,p,(0,O.m9)(_))}static credential(p,_){return Sr._fromVerification(p,_)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:_,temporaryProof:T}=p;return _&&T?Sr._fromTokenResponse(_,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ws(y,f){return f?Ln(f):(ee(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Rr extends ds{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ni(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Ni(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Ni(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function al(y){return Du(y.auth,new Rr(y),y.bypassAuthState)}function $d(y){const{auth:f,user:p}=y;return ee(p,f,"internal-error"),$c(p,new Rr(y),y.bypassAuthState)}function so(y){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,h.Z)(function*(y){const{auth:f,user:p}=y;return ee(p,f,"internal-error"),Iu(p,new Rr(y),y.bypassAuthState)})).apply(this,arguments)}class kn{constructor(f,p,_,T,M=!1){this.auth=f,this.resolver=_,this.user=T,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,h.Z)(function*(_,T){f.pendingPromise={resolve:_,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(M){f.reject(M)}});return function(_,T){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,h.Z)(function*(){const{urlResponse:_,sessionId:T,postBody:M,tenantId:U,error:Z,type:Me}=f;if(Z)return void p.reject(Z);const $e={auth:p.auth,requestUri:_,sessionId:T,tenantId:U||void 0,postBody:M||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Me)($e))}catch(Xe){p.reject(Xe)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return al;case"linkViaPopup":case"linkViaRedirect":return so;case"reauthViaPopup":case"reauthViaRedirect":return $d;default:we(this.auth,"internal-error")}}resolve(f){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const it=new xe(2e3,1e4);function Bn(){return(Bn=(0,h.Z)(function*(y,f,p){const _=un(y);je(y,f,fs);const T=ws(_,p);return new Es(_,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Ra(){return(Ra=(0,h.Z)(function*(y,f,p){const _=(0,O.m9)(y);je(_.auth,f,fs);const T=ws(_.auth,p);return new Es(_.auth,"reauthViaPopup",f,T,_).executeNotNull()})).apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(y,f,p){const _=(0,O.m9)(y);je(_.auth,f,fs);const T=ws(_.auth,p);return new Es(_.auth,"linkViaPopup",f,T,_).executeNotNull()})).apply(this,arguments)}let Es=(()=>{class y extends kn{constructor(p,_,T,M,U){super(p,_,M,U),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,h.Z)(function*(){const _=yield p.execute();return ee(_,p.auth,"internal-error"),_})()}onExecution(){var p=this;return(0,h.Z)(function*(){ct(1===p.filter.length,"Popup operations only handle one event");const _=Ji();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],_),p.authWindow.associatedEvent=_,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(he(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var _,T;this.pollId=null!==(T=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,it.get())};p()}}return y.currentPopupAction=null,y})();const zu=new Map;class ll extends kn{constructor(f,p,_=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,_),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,h.Z)(function*(){let _=zu.get(p.auth._key());if(!_){try{const M=(yield function oo(y,f){return dl.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;_=()=>Promise.resolve(M)}catch(T){_=()=>Promise.reject(T)}zu.set(p.auth._key(),_)}return p.bypassAuthState||zu.set(p.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,_=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(_,f);if("unknown"!==f.type){if(f.eventId){const T=yield _.auth._redirectUserForId(f.eventId);if(T)return _.user=T,p().call(_,f);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function dl(){return(dl=(0,h.Z)(function*(y,f){const p=Qn(f),_=Pa(y);if(!(yield _._isAvailable()))return!1;const T="true"===(yield _._get(p));return yield _._remove(p),T})).apply(this,arguments)}function Bo(y,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,h.Z)(function*(y,f){return Pa(y)._set(Qn(f),"true")})).apply(this,arguments)}function qr(y,f){zu.set(y._key(),f)}function Pa(y){return Ln(y._redirectPersistence)}function Qn(y){return V("pendingRedirect",y.config.apiKey,y.name)}function ao(){return(ao=(0,h.Z)(function*(y,f,p){const _=un(y);je(y,f,fs),yield _._initializationPromise;const T=ws(_,p);return yield Bo(T,_),T._openRedirect(_,f,"signInViaRedirect")})).apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(y,f,p){const _=(0,O.m9)(y);je(_.auth,f,fs),yield _.auth._initializationPromise;const T=ws(_.auth,p);yield Bo(T,_.auth);const M=yield $o(_);return T._openRedirect(_.auth,f,"reauthViaRedirect",M)})).apply(this,arguments)}function pl(){return(pl=(0,h.Z)(function*(y,f,p){const _=(0,O.m9)(y);je(_.auth,f,fs),yield _.auth._initializationPromise;const T=ws(_.auth,p);yield $t(!1,_,f.providerId),yield Bo(T,_.auth);const M=yield $o(_);return T._openRedirect(_.auth,f,"linkViaRedirect",M)})).apply(this,arguments)}function qu(){return(qu=(0,h.Z)(function*(y,f){return yield un(y)._initializationPromise,uo(y,f,!1)})).apply(this,arguments)}function uo(y,f){return co.apply(this,arguments)}function co(){return(co=(0,h.Z)(function*(y,f,p=!1){const _=un(y),T=ws(_,f),U=yield new ll(_,T,p).execute();return U&&!p&&(delete U.user._redirectEventId,yield _._persistUserIfCurrent(U.user),yield _._setRedirectUser(null,f)),U})).apply(this,arguments)}function $o(y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,h.Z)(function*(y){const f=Ji(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class gl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(f,_)&&(p=!0,this.sendToConsumer(f,_),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ka(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wu(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var _;if(f.error&&!Wu(f)){const T=(null===(_=f.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";p.onError(he(this.auth,T))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const _=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&_}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Go(f))}saveEventToCache(f){this.cachedEventUids.add(Go(f)),this.lastProcessedEventTime=Date.now()}}function Go(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Wu({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function qd(y){return zo.apply(this,arguments)}function zo(){return(zo=(0,h.Z)(function*(y,f={}){return Be(y,"GET","/v1/projects",f)})).apply(this,arguments)}const sm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lf=/^https?/;function Cs(){return(Cs=(0,h.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield qd(y);for(const p of f)try{if(Ku(p))return}catch{}we(y,"unauthorized-domain")})).apply(this,arguments)}function Ku(y){const f=Ht(),{protocol:p,hostname:_}=new URL(f);if(y.startsWith("chrome-extension://")){const U=new URL(y);return""===U.hostname&&""===_?"chrome-extension:"===p&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&U.hostname===_}if(!Lf.test(p))return!1;if(sm.test(y))return _===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(_)}const Vf=new xe(3e4,6e4);function Wd(){const y=bn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let or=null;function Nr(y){return or=or||function lo(y){return new Promise((f,p)=>{var _,T,M;function U(){Wd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Wd(),p(he(y,"network-request-failed"))},timeout:Vf.get()})}if(null!==(T=null===(_=bn().gapi)||void 0===_?void 0:_.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(M=bn().gapi)||void 0===M||!M.load){const Z=pi("iframefcb");return bn()[Z]=()=>{gapi.load?U():p(he(y,"network-request-failed"))},_r(`https://apis.google.com/js/api.js?onload=${Z}`).catch(Me=>p(Me))}U()}}).catch(f=>{throw or=null,f})}(y),or}const ml=new xe(5e3,15e3),yl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kd(y){const f=y.config;ee(f.authDomain,y,"auth-domain-config-required");const p=f.emulator?Fe(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:f.apiKey,appName:y.name,v:ie.SDK_VERSION},T=wi.get(y.config.apiHost);T&&(_.eid=T);const M=y._getFrameworks();return M.length&&(_.fw=M.join(",")),`${p}?${(0,O.xO)(_).slice(1)}`}function D(){return D=(0,h.Z)(function*(y){const f=yield Nr(y),p=bn().gapi;return ee(p,y,"internal-error"),f.open({where:document.body,url:Kd(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yl,dontclear:!0},_=>new Promise(function(){var T=(0,h.Z)(function*(M,U){yield _.restyle({setHideOnLeave:!1});const Z=he(y,"network-request-failed"),Me=bn().setTimeout(()=>{U(Z)},ml.get());function $e(){bn().clearTimeout(Me),M(_)}_.ping($e).then($e,()=>{U(Z)})});return function(M,U){return T.apply(this,arguments)}}()))}),D.apply(this,arguments)}const S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class We{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Wr=encodeURIComponent("fac");function jn(y,f,p,_,T,M){return $n.apply(this,arguments)}function $n(){return($n=(0,h.Z)(function*(y,f,p,_,T,M){ee(y.config.authDomain,y,"auth-domain-config-required"),ee(y.config.apiKey,y,"invalid-api-key");const U={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:_,v:ie.SDK_VERSION,eventId:T};if(f instanceof fs){f.setDefaultLanguage(y.languageCode),U.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(U.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Xe,nt]of Object.entries(M||{}))U[Xe]=nt}if(f instanceof wu){const Xe=f.getScopes().filter(nt=>""!==nt);Xe.length>0&&(U.scopes=Xe.join(","))}y.tenantId&&(U.tid=y.tenantId);const Z=U;for(const Xe of Object.keys(Z))void 0===Z[Xe]&&delete Z[Xe];const Me=yield y._getAppCheckToken(),$e=Me?`#${Wr}=${encodeURIComponent(Me)}`:"";return`${ho(y)}?${(0,O.xO)(Z).slice(1)}${$e}`})).apply(this,arguments)}function ho({config:y}){return y.emulator?Fe(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const es="webStorageSupport";class Fa extends class Vs{constructor(f){this.factorId=f}_process(f,p,_){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,_);case"signin":return this._finalizeSignIn(f,p.credential);default:return Tt("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Fa(f)}_finalizeEnroll(f,p,_){return function yi(y,f){return Be(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(y,f))}(f,{idToken:p,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function Vu(y,f){return Be(y,"POST","/v2/accounts/mfaSignIn:finalize",Ot(y,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yd=(()=>{class y{constructor(){}static assertion(p){return Fa._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var vl="@firebase/auth";class am{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,h.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(_=>{f(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ds(){return window}function Va(){return(Va=(0,h.Z)(function*(y,f,p){var _;const{BuildInfo:T}=Ds();ct(f.sessionId,"AuthEvent did not contain a session ID");const M=yield Ov(f.sessionId),U={};return ot()?U.ibi=T.packageName:kt()?U.apn=T.packageName:we(y,"operation-not-supported-in-this-environment"),T.displayName&&(U.appDisplayName=T.displayName),U.sessionId=M,jn(y,p,f.type,void 0,null!==(_=f.eventId)&&void 0!==_?_:void 0,U)})).apply(this,arguments)}function jf(){return(jf=(0,h.Z)(function*(y){const{BuildInfo:f}=Ds(),p={};ot()?p.iosBundleId=f.packageName:kt()?p.androidPackageName=f.packageName:we(y,"operation-not-supported-in-this-environment"),yield qd(y,p)})).apply(this,arguments)}function Hf(){return(Hf=(0,h.Z)(function*(y,f,p){const{cordova:_}=Ds();let T=()=>{};try{yield new Promise((M,U)=>{let Z=null;function Me(){var nt;M();const xn=null===(nt=_.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof xn&&xn(),"function"==typeof p?.close&&p.close()}function $e(){Z||(Z=window.setTimeout(()=>{U(he(y,"redirect-cancelled-by-user"))},2e3))}function Xe(){"visible"===document?.visibilityState&&$e()}f.addPassiveListener(Me),document.addEventListener("resume",$e,!1),kt()&&document.addEventListener("visibilitychange",Xe,!1),T=()=>{f.removePassiveListener(Me),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",Xe,!1),Z&&window.clearTimeout(Z)}})}finally{T()}})).apply(this,arguments)}function Ov(y){return lm.apply(this,arguments)}function lm(){return(lm=(0,h.Z)(function*(y){const f=kv(y),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function kv(y){if(ct(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),p=new Uint8Array(f);for(let _=0;_<y.length;_++)p[_]=y.charCodeAt(_);return p}(0,O.Pz)("authIdTokenMaxAge"),function aE(y){(0,ie._registerComponent)(new ae.wA("auth",(f,{options:p})=>{const _=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),M=f.getProvider("app-check-internal"),{apiKey:U,authDomain:Z}=_.options;ee(U&&!U.includes(":"),"invalid-api-key",{appName:_.name});const Me={apiKey:U,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ne(y)},$e=new Pc(_,T,M,Me);return function ir(y,f){const p=f?.persistence||[],_=(Array.isArray(p)?p:[p]).map(Ln);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(_,f?.popupRedirectResolver)}($e,p),$e},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,_)=>{f.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ae.wA("auth-internal",f=>{const p=un(f.getProvider("auth").getImmediate());return new am(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(vl,"0.23.2",function Qd(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ie.registerVersion)(vl,"0.23.2","esm2017")}("Browser");class dm extends gl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function qf(y){return El.apply(this,arguments)}function El(){return(El=(0,h.Z)(function*(y){const f=yield fo()._get(qo(y));return f&&(yield fo()._remove(qo(y))),f})).apply(this,arguments)}function Fv(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const _=Math.floor(Math.random()*f.length);y.push(f.charAt(_))}return y.join("")}function fo(){return Ln(Qi)}function qo(y){return V("authEvent",y.config.apiKey,y.name)}function eh(y){if(!y?.includes("?"))return{};const[f,...p]=y.split("?");return(0,O.zd)(p.join("?"))}function th(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:he("no-auth-event")}}function Wo(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function nh(y=(0,O.z$)()){return!("file:"!==Wo()&&"ionic:"!==Wo()&&"capacitor:"!==Wo()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ih(){try{const y=self.localStorage,f=Ji();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Uv(y=(0,O.z$)()){return function Cl(){return(0,O.w1)()&&11===document?.documentMode}()||function Ua(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Kf()&&(0,O.hl)()}return!1}function Kf(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mm(){return(function Zf(){return"http:"===Wo()||"https:"===Wo()}()||(0,O.ru)()||nh())&&!function rh(){return(0,O.b$)()||(0,O.UG)()}()&&ih()&&!Kf()}function sh(){return nh()&&typeof document<"u"}function Ba(){return(Ba=(0,h.Z)(function*(){return!!sh()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},tc=ee,ym="persistence";function Jf(y){return ja.apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(y){yield y._initializationPromise;const f=Dl(),p=V(ym,y.config.apiKey,y.name);f&&f.setItem(p,y._getPersistence())})).apply(this,arguments)}function Dl(){var y;try{return(null===(y=function Qf(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const oh=ee;class ts{constructor(){this.browserResolver=Ln(class Pr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ro,this._completeRedirectFn=uo,this._overrideRedirectResult=qr}_openPopup(f,p,_,T){var M=this;return(0,h.Z)(function*(){var U;ct(null===(U=M.eventManagers[f._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const Z=yield jn(f,p,_,Ht(),T);return function Ge(y,f,p,_=500,T=600){const M=Math.max((window.screen.availHeight-T)/2,0).toString(),U=Math.max((window.screen.availWidth-_)/2,0).toString();let Z="";const Me=Object.assign(Object.assign({},S),{width:_.toString(),height:T.toString(),top:M,left:U}),$e=(0,O.z$)().toLowerCase();p&&(Z=qe($e)?"_blank":p),se($e)&&(f=f||"http://localhost",Me.scrollbars="yes");const Xe=Object.entries(Me).reduce((xn,[Ci,Im])=>`${xn}${Ci}=${Im},`,"");if(function yn(y=(0,O.z$)()){var f;return ot(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}($e)&&"_self"!==Z)return function dt(y,f){const p=document.createElement("a");p.href=y,p.target=f;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(_)}(f||"",Z),new We(null);const nt=window.open(f||"",Z,Xe);ee(nt,y,"popup-blocked");try{nt.focus()}catch{}return new We(nt)}(f,Z,Ji())})()}_openRedirect(f,p,_,T){var M=this;return(0,h.Z)(function*(){return yield M._originValidation(f),function tl(y){bn().location.href=y}(yield jn(f,p,_,Ht(),T)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:T,promise:M}=this.eventManagers[p];return T?Promise.resolve(T):(ct(M,"If manager is not set, promise should be"),M)}const _=this.initAndGetManager(f);return this.eventManagers[p]={promise:_},_.catch(()=>{delete this.eventManagers[p]}),_}initAndGetManager(f){var p=this;return(0,h.Z)(function*(){const _=yield function E(y){return D.apply(this,arguments)}(f),T=new gl(f);return _.register("authEvent",M=>(ee(M?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:T},p.iframes[f._key()]=_,T})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(es,{type:es},T=>{var M;const U=null===(M=T?.[0])||void 0===M?void 0:M[es];void 0!==U&&p(!!U),we(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Zu(y){return Cs.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return vn()||Y()||ot()}}),this.cordovaResolver=Ln(class uE{constructor(){this._redirectPersistence=ro,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=uo,this._overrideRedirectResult=qr}_initialize(f){var p=this;return(0,h.Z)(function*(){const _=f._key();let T=p.eventManagers.get(_);return T||(T=new dm(f),p.eventManagers.set(_,T),p.attachCallbackListeners(f,T)),T})()}_openPopup(f){we(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,_,T){var M=this;return(0,h.Z)(function*(){!function cm(y){var f,p,_,T,M,U,Z,Me,$e,Xe;const nt=Ds();ee("function"==typeof(null===(f=nt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(p=nt?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(M=null===(T=null===(_=nt?.cordova)||void 0===_?void 0:_.plugins)||void 0===T?void 0:T.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Me=null===(Z=null===(U=nt?.cordova)||void 0===U?void 0:U.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Me?void 0:Me.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Xe=null===($e=nt?.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===Xe?void 0:Xe.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const U=yield M._initialize(f);yield U.initialized(),U.resetRedirect(),function Of(){zu.clear()}(),yield M._originValidation(f);const Z=function Xd(y,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:Fv(),postBody:null,tenantId:y.tenantId,error:he(y,"no-auth-event")}}(f,_,T);yield function zf(y,f){return fo()._set(qo(y),f)}(f,Z);const Me=yield function Xu(y,f,p){return Va.apply(this,arguments)}(f,Z,p),$e=yield function $f(y){const{cordova:f}=Ds();return new Promise(p=>{f.plugins.browsertab.isAvailable(_=>{let T=null;_?f.plugins.browsertab.openUrl(y):T=f.InAppBrowser.open(y,function gt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(T)})})}(Me);return function um(y,f,p){return Hf.apply(this,arguments)}(f,U,$e)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function wl(y){return jf.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:_,handleOpenURL:T,BuildInfo:M}=Ds(),U=setTimeout((0,h.Z)(function*(){yield qf(f),p.onEvent(th())}),500),Z=function(){var Xe=(0,h.Z)(function*(nt){clearTimeout(U);const xn=yield qf(f);let Ci=null;xn&&nt?.url&&(Ci=function hm(y,f){var p,_;const T=function fm(y){const f=eh(y),p=f.link?decodeURIComponent(f.link):void 0,_=eh(p).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return eh(T).link||T||_||p||y}(f);if(T.includes("/__/auth/callback")){const M=eh(T),U=M.firebaseError?function ec(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,Z=null===(_=null===(p=U?.code)||void 0===p?void 0:p.split("auth/"))||void 0===_?void 0:_[1],Me=Z?he(Z):null;return Me?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(xn,nt.url)),p.onEvent(Ci||th())});return function(xn){return Xe.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,Z);const Me=T,$e=`${M.packageName.toLowerCase()}://`;Ds().handleOpenURL=function(){var Xe=(0,h.Z)(function*(nt){if(nt.toLowerCase().startsWith($e)&&Z({url:nt}),"function"==typeof Me)try{Me(nt)}catch(xn){console.error(xn)}});return function(nt){return Xe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ro,this._completeRedirectFn=uo,this._overrideRedirectResult=qr}_initialize(f){var p=this;return(0,h.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,_,T){var M=this;return(0,h.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(f,p,_,T)})()}_openRedirect(f,p,_,T){var M=this;return(0,h.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(f,p,_,T)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return sh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const p=yield function Yf(){return Ba.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function ah(y){return y.unwrap()}function Xf(y){return ep(y)}function ep(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Li.credentialFromResult(y);const p=f.providerId;if(!p||"password"===p)return null;let _;switch(p){case"google.com":_=Bc;break;case"facebook.com":_=Gr;break;case"github.com":_=Eu;break;case"twitter.com":_=jc;break;default:const{oauthIdToken:T,oauthAccessToken:M,oauthTokenSecret:U,pendingToken:Z,nonce:Me}=f;return M||U||T||Z?Z?p.startsWith("saml.")?Un._create(p,Z):gi._fromParams({providerId:p,signInMethod:p,pendingToken:Z,idToken:T,accessToken:M}):new mi(p).credential({idToken:T,accessToken:M,rawNonce:Me}):null}return y instanceof O.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function Ii(y,f){return f.catch(p=>{throw p instanceof O.ZR&&function _m(y,f){var p;const _=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new $v(y,function Nu(y,f){var p;const _=(0,O.m9)(y),T=f;return ee(f.customData.operationType,_,"argument-error"),ee(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,_,"argument-error"),Yi._fromError(_,T)}(y,f));else if(_){const T=ep(f),M=f;T&&(M.credential=T,M.tenantId=_.tenantId||void 0,M.email=_.email||void 0,M.phoneNumber=_.phoneNumber||void 0)}}(y,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:Xf(p),additionalUserInfo:Mu(p),user:Or.getOrCreate(T)}})}function bl(y,f){return tp.apply(this,arguments)}function tp(){return(tp=(0,h.Z)(function*(y,f){const p=yield f;return{verificationId:p.verificationId,confirm:_=>Ii(y,p.confirm(_))}})).apply(this,arguments)}class $v{constructor(f,p){this.resolver=p,this.auth=function vm(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ii(ah(this.auth),this.resolver.resolveSignIn(f))}}class Or{constructor(f){this._delegate=f,this.multiFactor=function Da(y){const f=(0,O.m9)(y);return to.has(f)||to.set(f,eo._fromUser(f)),to.get(f)}(f)}static getOrCreate(f){return Or.USER_MAP.has(f)||Or.USER_MAP.set(f,new Or(f)),Or.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,h.Z)(function*(){return Ii(p.auth,Hc(p._delegate,f))})()}linkWithPhoneNumber(f,p){var _=this;return(0,h.Z)(function*(){return bl(_.auth,function im(y,f,p){return $u.apply(this,arguments)}(_._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,h.Z)(function*(){return Ii(p.auth,function Hd(y,f,p){return Ls.apply(this,arguments)}(p._delegate,f,ts))})()}linkWithRedirect(f){var p=this;return(0,h.Z)(function*(){return yield Jf(un(p.auth)),function fl(y,f,p){return function Ff(y,f,p){return pl.apply(this,arguments)}(y,f,p)}(p._delegate,f,ts)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,h.Z)(function*(){return Ii(p.auth,Pn(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return bl(this.auth,function Bd(y,f,p){return Hu.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Ii(this.auth,function cl(y,f,p){return Ra.apply(this,arguments)}(this._delegate,f,ts))}reauthenticateWithRedirect(f){var p=this;return(0,h.Z)(function*(){return yield Jf(un(p.auth)),function jo(y,f,p){return function Gd(y,f,p){return hl.apply(this,arguments)}(y,f,p)}(p._delegate,f,ts)})()}sendEmailVerification(f){return function Nd(y,f){return Au.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,h.Z)(function*(){return yield function Ad(y,f){return Pi.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function _f(y,f){return wa((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function ms(y,f){return wa((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function zr(y,f){return jd.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Pd(y,f){return _a.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function Kc(y,f,p){return Js.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Or.USER_MAP=new WeakMap;const po=ee;let Hv=(()=>{class y{constructor(p,_){if(this.app=p,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=p.options;po(T,"invalid-api-key",{appName:p.name}),po(T,"invalid-api-key",{appName:p.name});const M=typeof window<"u"?ts:void 0;this._delegate=_.initialize({options:{persistence:cE(T,p.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Ee),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Or.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,_){!function fd(y,f,p){const _=un(y);ee(_._canInitEmulator,_,"emulator-config-failed"),ee(/^https?:\/\//.test(f),_,"invalid-emulator-scheme");const T=!!p?.disableWarnings,M=sr(f),{host:U,port:Z}=function Hr(y){const f=sr(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!p)return{host:"",port:null};const _=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(_);if(T){const M=T[1];return{host:M,port:So(_.substr(M.length+1))}}{const[M,U]=_.split(":");return{host:M,port:So(U)}}}(f);_.config.emulator={url:`${M}//${U}${null===Z?"":`:${Z}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:U,port:Z,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function hu(){function y(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,_)}applyActionCode(p){return function bu(y,f){return Mr.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return qc(this._delegate,p)}confirmPasswordReset(p,_){return function zc(y,f,p){return pa.apply(this,arguments)}(this._delegate,p,_)}createUserWithEmailAndPassword(p,_){var T=this;return(0,h.Z)(function*(){return Ii(T._delegate,function Wc(y,f,p){return ya.apply(this,arguments)}(T._delegate,p,_))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Rd(y,f){return Zc.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function em(y,f){return"EMAIL_SIGNIN"===_u.parseLink(f)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,h.Z)(function*(){po(mm(),p._delegate,"operation-not-supported-in-this-environment");const _=yield function zd(y,f){return qu.apply(this,arguments)}(p._delegate,ts);return _?Ii(p._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Lv(y,f){un(y)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,_,T){const{next:M,error:U,complete:Z}=np(p,_,T);return this._delegate.onAuthStateChanged(M,U,Z)}onIdTokenChanged(p,_,T){const{next:M,error:U,complete:Z}=np(p,_,T);return this._delegate.onIdTokenChanged(M,U,Z)}sendSignInLinkToEmail(p,_){return function Po(y,f,p){return Tu.apply(this,arguments)}(this._delegate,p,_)}sendPasswordResetEmail(p,_){return function Xg(y,f,p){return No.apply(this,arguments)}(this._delegate,p,_||void 0)}setPersistence(p){var _=this;return(0,h.Z)(function*(){let T;switch(function Bv(y,f){tc(Object.values(ar).includes(f),y,"invalid-persistence-type"),(0,O.b$)()?tc(f!==ar.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?tc(f===ar.NONE,y,"unsupported-persistence-type"):Kf()?tc(f===ar.NONE||f===ar.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):tc(f===ar.NONE||ih(),y,"unsupported-persistence-type")}(_._delegate,p),p){case ar.SESSION:T=ro;break;case ar.LOCAL:T=(yield Ln(Lu)._isAvailable())?Lu:Qi;break;case ar.NONE:T=$r;break;default:return we("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Ii(this._delegate,function Cd(y){return Dd.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Ii(this._delegate,ni(this._delegate,p))}signInWithCustomToken(p){return Ii(this._delegate,function ri(y,f){return Oi.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,_){return Ii(this._delegate,function xd(y,f,p){return ni((0,O.m9)(y),Vn.credential(f,p))}(this._delegate,p,_))}signInWithEmailLink(p,_){return Ii(this._delegate,function nn(y,f,p){return gs.apply(this,arguments)}(this._delegate,p,_))}signInWithPhoneNumber(p,_){return bl(this._delegate,function Pf(y,f,p){return ju.apply(this,arguments)}(this._delegate,p,_))}signInWithPopup(p){var _=this;return(0,h.Z)(function*(){return po(mm(),_._delegate,"operation-not-supported-in-this-environment"),Ii(_._delegate,function ul(y,f,p){return Bn.apply(this,arguments)}(_._delegate,p,ts))})()}signInWithRedirect(p){var _=this;return(0,h.Z)(function*(){return po(mm(),_._delegate,"operation-not-supported-in-this-environment"),yield Jf(_._delegate),function Is(y,f,p){return function kf(y,f,p){return ao.apply(this,arguments)}(y,f,p)}(_._delegate,p,ts)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function ma(y,f){return Qs.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ar,y})();function np(y,f,p){let _=y;"function"!=typeof y&&({next:_,error:f,complete:p}=y);const T=_;return{next:U=>T(U&&Or.getOrCreate(U)),error:f,complete:p}}function cE(y,f){const p=function jv(y,f){const p=Dl();if(!p)return[];const _=V(ym,y,f);switch(p.getItem(_)){case ar.NONE:return[$r];case ar.LOCAL:return[Lu,ro];case ar.SESSION:return[ro];default:return[]}}(y,f);if(typeof self<"u"&&!p.includes(Lu)&&p.push(Lu),typeof window<"u")for(const _ of[Qi,ro])p.includes(_)||p.push(_);return p.includes($r)||p.push($r),p}class rp{constructor(){this.providerId="phone",this._delegate=new Li(ah(J.Z.auth()))}static credential(f,p){return Li.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}rp.PHONE_SIGN_IN_METHOD=Li.PHONE_SIGN_IN_METHOD,rp.PROVIDER_ID=Li.PROVIDER_ID;const Gv=ee;class nc{constructor(f,p,_=J.Z.app()){var T;Gv(null===(T=_.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Bu(f,p,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Em(y){y.INTERNAL.registerComponent(new ae.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),_=f.getProvider("auth");return new Hv(p,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Vn,FacebookAuthProvider:Gr,GithubAuthProvider:Eu,GoogleAuthProvider:Bc,OAuthProvider:mi,SAMLAuthProvider:Zs,PhoneAuthProvider:rp,PhoneMultiFactorGenerator:Yd,RecaptchaVerifier:nc,TwitterAuthProvider:jc,Auth:Hv,AuthCredential:ds,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(J.Z)},5861:(mt,Se,F)=>{function h(O,ie,re,ce,ae,_e,de){try{var H=O[_e](de),j=H.value}catch(q){return void re(q)}H.done?ie(j):Promise.resolve(j).then(ce,ae)}function J(O){return function(){var ie=this,re=arguments;return new Promise(function(ce,ae){var _e=O.apply(ie,re);function de(j){h(_e,ce,ae,de,H,"next",j)}function H(j){h(_e,ce,ae,de,H,"throw",j)}de(void 0)})}}F.d(Se,{Z:()=>J})}},mt=>{mt(mt.s=4894)}]);